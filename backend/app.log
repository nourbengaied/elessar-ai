2025-08-13 16:31:20,829 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 16:31:20,842 - app.main - INFO - Database tables created/verified
2025-08-13 16:31:20,842 - app.main - INFO - CORS middleware configured
2025-08-13 16:31:20,846 - app.main - INFO - API routers included
2025-08-13 16:31:20,846 - app.main - INFO - 🚀 Application starting up...
2025-08-13 16:31:20,847 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 16:31:20,847 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 16:31:20,847 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 16:31:20,847 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 16:31:20,847 - app.main - INFO - ✅ Application startup complete
2025-08-13 16:31:31,712 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 16:31:32,368 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 16:31:32,378 - app.main - INFO - Database tables created/verified
2025-08-13 16:31:32,378 - app.main - INFO - CORS middleware configured
2025-08-13 16:31:32,382 - app.main - INFO - API routers included
2025-08-13 16:31:32,383 - app.main - INFO - 🚀 Application starting up...
2025-08-13 16:31:32,383 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 16:31:32,383 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 16:31:32,383 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 16:31:32,383 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 16:31:32,383 - app.main - INFO - ✅ Application startup complete
2025-08-13 16:44:18,136 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 16:44:19,048 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 16:44:19,059 - app.main - INFO - Database tables created/verified
2025-08-13 16:44:19,059 - app.main - INFO - CORS middleware configured
2025-08-13 16:44:19,063 - app.main - INFO - API routers included
2025-08-13 16:44:19,064 - app.main - INFO - 🚀 Application starting up...
2025-08-13 16:44:19,064 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 16:44:19,064 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 16:44:19,065 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 16:44:19,065 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 16:44:19,066 - app.main - INFO - ✅ Application startup complete
2025-08-13 16:44:22,868 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 16:44:23,514 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 16:44:23,524 - app.main - INFO - Database tables created/verified
2025-08-13 16:44:23,524 - app.main - INFO - CORS middleware configured
2025-08-13 16:44:23,528 - app.main - INFO - API routers included
2025-08-13 16:44:23,529 - app.main - INFO - 🚀 Application starting up...
2025-08-13 16:44:23,529 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 16:44:23,529 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 16:44:23,530 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 16:44:23,530 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 16:44:23,530 - app.main - INFO - ✅ Application startup complete
2025-08-13 16:44:33,250 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 16:44:33,916 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 16:44:33,927 - app.main - INFO - Database tables created/verified
2025-08-13 16:44:33,927 - app.main - INFO - CORS middleware configured
2025-08-13 16:44:33,930 - app.main - INFO - API routers included
2025-08-13 16:44:33,931 - app.main - INFO - 🚀 Application starting up...
2025-08-13 16:44:33,931 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 16:44:33,932 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 16:44:33,932 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 16:44:33,932 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 16:44:33,932 - app.main - INFO - ✅ Application startup complete
2025-08-13 16:44:43,252 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 16:44:43,906 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 16:44:43,914 - app.main - INFO - Database tables created/verified
2025-08-13 16:44:43,914 - app.main - INFO - CORS middleware configured
2025-08-13 16:44:43,918 - app.main - INFO - API routers included
2025-08-13 16:44:43,919 - app.main - INFO - 🚀 Application starting up...
2025-08-13 16:44:43,919 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 16:44:43,919 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 16:44:43,919 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 16:44:43,919 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 16:44:43,920 - app.main - INFO - ✅ Application startup complete
2025-08-13 16:45:23,270 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-13 16:45:23,471 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-13 16:45:34,205 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] Starting file upload - User: 0fa11732-3f80-4bd2-9bcf-522de389a41d, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-13 16:45:34,206 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-13 16:45:34,206 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] File type validation passed
2025-08-13 16:45:34,206 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] Reading file content for size validation
2025-08-13 16:45:34,206 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] File content read - Size: 4422 bytes
2025-08-13 16:45:34,207 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] File size validation passed
2025-08-13 16:45:34,207 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] Initializing services
2025-08-13 16:45:34,207 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-13 16:45:34,219 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-13 16:45:34,219 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] Services initialized successfully
2025-08-13 16:45:34,219 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] Processing file with extension: pdf
2025-08-13 16:45:34,220 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] Processing PDF file
2025-08-13 16:45:34,220 - app.services.transaction_service - INFO - Starting PDF processing for user 0fa11732-3f80-4bd2-9bcf-522de389a41d
2025-08-13 16:45:34,220 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-13 16:45:34,220 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-13 16:45:34,222 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-13 16:45:34,228 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-13 16:45:34,228 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-13 16:45:34,228 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-13 16:45:34,229 - app.services.bedrock_service - INFO - [extract_164534228] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-13 16:45:51,337 - app.services.bedrock_service - INFO - [extract_164534228] PDF extraction completed successfully - Transactions found: 0, Time: 17.108s
2025-08-13 16:45:51,339 - app.services.transaction_service - INFO - Transactions extracted from PDF: 0 found
2025-08-13 16:45:51,339 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-13 16:45:51,351 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 0, Errors: 0, Time: 17.13s
2025-08-13 16:45:51,351 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] PDF processing completed - Result: {'processed_count': 0, 'transactions': [], 'errors': [], 'processing_time': 17.130671}
2025-08-13 16:45:51,351 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] File processing completed successfully - Processing time: 17.13s, Transactions processed: 0
2025-08-13 16:47:28,353 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 16:47:29,264 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 16:47:29,280 - app.main - INFO - Database tables created/verified
2025-08-13 16:47:29,281 - app.main - INFO - CORS middleware configured
2025-08-13 16:47:29,285 - app.main - INFO - API routers included
2025-08-13 16:47:29,286 - app.main - INFO - 🚀 Application starting up...
2025-08-13 16:47:29,286 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 16:47:29,286 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 16:47:29,286 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 16:47:29,287 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 16:47:29,287 - app.main - INFO - ✅ Application startup complete
2025-08-13 16:47:46,189 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 16:47:46,944 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 16:47:46,953 - app.main - INFO - Database tables created/verified
2025-08-13 16:47:46,954 - app.main - INFO - CORS middleware configured
2025-08-13 16:47:46,958 - app.main - INFO - API routers included
2025-08-13 16:47:46,959 - app.main - INFO - 🚀 Application starting up...
2025-08-13 16:47:46,959 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 16:47:46,959 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 16:47:46,959 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 16:47:46,959 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 16:47:46,959 - app.main - INFO - ✅ Application startup complete
2025-08-13 16:47:59,047 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 16:47:59,828 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 16:47:59,841 - app.main - INFO - Database tables created/verified
2025-08-13 16:47:59,841 - app.main - INFO - CORS middleware configured
2025-08-13 16:47:59,845 - app.main - INFO - API routers included
2025-08-13 16:47:59,846 - app.main - INFO - 🚀 Application starting up...
2025-08-13 16:47:59,846 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 16:47:59,847 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 16:47:59,847 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 16:47:59,847 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 16:47:59,847 - app.main - INFO - ✅ Application startup complete
2025-08-13 16:48:20,342 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 16:48:21,038 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 16:48:21,047 - app.main - INFO - Database tables created/verified
2025-08-13 16:48:21,047 - app.main - INFO - CORS middleware configured
2025-08-13 16:48:21,051 - app.main - INFO - API routers included
2025-08-13 16:48:21,052 - app.main - INFO - 🚀 Application starting up...
2025-08-13 16:48:21,052 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 16:48:21,053 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 16:48:21,053 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 16:48:21,053 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 16:48:21,054 - app.main - INFO - ✅ Application startup complete
2025-08-13 16:49:58,155 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] Starting file upload - User: 0fa11732-3f80-4bd2-9bcf-522de389a41d, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-13 16:49:58,156 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-13 16:49:58,156 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] File type validation passed
2025-08-13 16:49:58,156 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] Reading file content for size validation
2025-08-13 16:49:58,156 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] File content read - Size: 4422 bytes
2025-08-13 16:49:58,157 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] File size validation passed
2025-08-13 16:49:58,157 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] Initializing services
2025-08-13 16:49:58,157 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-13 16:49:58,218 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-13 16:49:58,218 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] Services initialized successfully
2025-08-13 16:49:58,219 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] Processing file with extension: pdf
2025-08-13 16:49:58,219 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] Processing PDF file
2025-08-13 16:49:58,219 - app.services.transaction_service - INFO - Starting PDF processing for user 0fa11732-3f80-4bd2-9bcf-522de389a41d
2025-08-13 16:49:58,219 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-13 16:49:58,220 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-13 16:49:58,222 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-13 16:49:58,331 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-13 16:49:58,331 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-13 16:49:58,331 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-13 16:49:58,331 - app.services.bedrock_service - INFO - [extract_164958331] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-13 16:50:16,274 - app.services.bedrock_service - INFO - [extract_164958331] Raw Bedrock text response:
```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 16:50:16,275 - app.services.bedrock_service - WARNING - No JSON array found in response
2025-08-13 16:50:16,276 - app.services.bedrock_service - ERROR - Error parsing transaction extraction response: No JSON array found in response
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 253, in _parse_transaction_extraction_response
    raise ValueError("No JSON array found in response")
ValueError: No JSON array found in response
2025-08-13 16:50:16,279 - app.services.bedrock_service - ERROR - Raw response that failed to parse: ```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 16:50:16,279 - app.services.bedrock_service - INFO - [extract_164958331] PDF extraction completed successfully - Transactions found: 0, Time: 17.948s
2025-08-13 16:50:16,280 - app.services.bedrock_service - INFO - [extract_164958331] Parsed transactions: []
2025-08-13 16:50:16,281 - app.services.transaction_service - INFO - Transactions extracted from PDF: 0 found
2025-08-13 16:50:16,282 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-13 16:50:16,284 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 0, Errors: 0, Time: 18.06s
2025-08-13 16:50:16,285 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] PDF processing completed - Result: {'processed_count': 0, 'transactions': [], 'errors': [], 'processing_time': 18.064953}
2025-08-13 16:50:16,285 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] File processing completed successfully - Processing time: 18.07s, Transactions processed: 0
2025-08-13 16:50:56,688 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 16:50:57,558 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 16:50:57,567 - app.main - INFO - Database tables created/verified
2025-08-13 16:50:57,568 - app.main - INFO - CORS middleware configured
2025-08-13 16:50:57,571 - app.main - INFO - API routers included
2025-08-13 16:50:57,572 - app.main - INFO - 🚀 Application starting up...
2025-08-13 16:50:57,572 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 16:50:57,572 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 16:50:57,572 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 16:50:57,572 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 16:50:57,573 - app.main - INFO - ✅ Application startup complete
2025-08-13 16:51:07,338 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] Starting file upload - User: 0fa11732-3f80-4bd2-9bcf-522de389a41d, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-13 16:51:07,338 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-13 16:51:07,339 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] File type validation passed
2025-08-13 16:51:07,339 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] Reading file content for size validation
2025-08-13 16:51:07,339 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] File content read - Size: 4422 bytes
2025-08-13 16:51:07,339 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] File size validation passed
2025-08-13 16:51:07,339 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] Initializing services
2025-08-13 16:51:07,340 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-13 16:51:07,377 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-13 16:51:07,377 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] Services initialized successfully
2025-08-13 16:51:07,378 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] Processing file with extension: pdf
2025-08-13 16:51:07,378 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] Processing PDF file
2025-08-13 16:51:07,378 - app.services.transaction_service - INFO - Starting PDF processing for user 0fa11732-3f80-4bd2-9bcf-522de389a41d
2025-08-13 16:51:07,378 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-13 16:51:07,378 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-13 16:51:07,380 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-13 16:51:07,416 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-13 16:51:07,416 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-13 16:51:07,416 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-13 16:51:07,416 - app.services.bedrock_service - INFO - [extract_165107416] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-13 16:51:31,162 - app.services.bedrock_service - INFO - [extract_165107416] Raw Bedrock text response:
```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 16:51:31,164 - app.services.bedrock_service - WARNING - No JSON array found in response
2025-08-13 16:51:31,166 - app.services.bedrock_service - ERROR - Error parsing transaction extraction response: No JSON array found in response
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 253, in _parse_transaction_extraction_response
    raise ValueError("No JSON array found in response")
ValueError: No JSON array found in response
2025-08-13 16:51:31,169 - app.services.bedrock_service - ERROR - Raw response that failed to parse: ```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 16:51:31,170 - app.services.bedrock_service - INFO - [extract_165107416] PDF extraction completed successfully - Transactions found: 0, Time: 23.753s
2025-08-13 16:51:31,172 - app.services.bedrock_service - INFO - [extract_165107416] Parsed transactions: []
2025-08-13 16:51:31,174 - app.services.transaction_service - INFO - Transactions extracted from PDF: 0 found
2025-08-13 16:51:31,174 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-13 16:51:31,176 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 0, Errors: 0, Time: 23.80s
2025-08-13 16:51:31,176 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] PDF processing completed - Result: {'processed_count': 0, 'transactions': [], 'errors': [], 'processing_time': 23.797432}
2025-08-13 16:51:31,176 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] File processing completed successfully - Processing time: 23.80s, Transactions processed: 0
2025-08-13 17:06:33,878 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 17:06:34,830 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 17:06:34,839 - app.main - INFO - Database tables created/verified
2025-08-13 17:06:34,840 - app.main - INFO - CORS middleware configured
2025-08-13 17:06:34,843 - app.main - INFO - API routers included
2025-08-13 17:06:34,844 - app.main - INFO - 🚀 Application starting up...
2025-08-13 17:06:34,844 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 17:06:34,844 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 17:06:34,844 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 17:06:34,845 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 17:06:34,845 - app.main - INFO - ✅ Application startup complete
2025-08-13 17:06:39,979 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] Starting file upload - User: 0fa11732-3f80-4bd2-9bcf-522de389a41d, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-13 17:06:39,979 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-13 17:06:39,980 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] File type validation passed
2025-08-13 17:06:39,980 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] Reading file content for size validation
2025-08-13 17:06:39,981 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] File content read - Size: 4422 bytes
2025-08-13 17:06:39,981 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] File size validation passed
2025-08-13 17:06:39,981 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] Initializing services
2025-08-13 17:06:39,981 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-13 17:06:40,048 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-13 17:06:40,048 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] Services initialized successfully
2025-08-13 17:06:40,048 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] Processing file with extension: pdf
2025-08-13 17:06:40,048 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] Processing PDF file
2025-08-13 17:06:40,048 - app.services.transaction_service - INFO - Starting PDF processing for user 0fa11732-3f80-4bd2-9bcf-522de389a41d
2025-08-13 17:06:40,049 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-13 17:06:40,049 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-13 17:06:40,050 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-13 17:06:40,086 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-13 17:06:40,086 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-13 17:06:40,086 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-13 17:06:40,086 - app.services.bedrock_service - INFO - [extract_170640086] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-13 17:06:58,907 - app.services.bedrock_service - INFO - [extract_170640086] Raw Bedrock text response:
```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 17:06:58,908 - app.services.bedrock_service - INFO - JSON array extraction - Start: 8, End: 0
2025-08-13 17:06:58,909 - app.services.bedrock_service - WARNING - No JSON array found in response
2025-08-13 17:06:58,910 - app.services.bedrock_service - ERROR - Error parsing transaction extraction response: No JSON array found in response
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 253, in _parse_transaction_extraction_response
    raise ValueError("No JSON array found in response")
ValueError: No JSON array found in response
2025-08-13 17:06:58,913 - app.services.bedrock_service - ERROR - Raw response that failed to parse: ```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 17:06:58,913 - app.services.bedrock_service - INFO - [extract_170640086] PDF extraction completed successfully - Transactions found: 0, Time: 18.826s
2025-08-13 17:06:58,914 - app.services.bedrock_service - INFO - [extract_170640086] Parsed transactions: []
2025-08-13 17:06:58,915 - app.services.transaction_service - INFO - Transactions extracted from PDF: 0 found
2025-08-13 17:06:58,916 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-13 17:06:58,918 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 0, Errors: 0, Time: 18.87s
2025-08-13 17:06:58,918 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] PDF processing completed - Result: {'processed_count': 0, 'transactions': [], 'errors': [], 'processing_time': 18.869353}
2025-08-13 17:06:58,919 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] File processing completed successfully - Processing time: 18.87s, Transactions processed: 0
2025-08-13 17:07:41,021 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 17:07:41,992 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 17:07:42,003 - app.main - INFO - Database tables created/verified
2025-08-13 17:07:42,003 - app.main - INFO - CORS middleware configured
2025-08-13 17:07:42,006 - app.main - INFO - API routers included
2025-08-13 17:07:42,007 - app.main - INFO - 🚀 Application starting up...
2025-08-13 17:07:42,008 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 17:07:42,008 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 17:07:42,008 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 17:07:42,008 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 17:07:42,009 - app.main - INFO - ✅ Application startup complete
2025-08-13 17:07:44,575 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] Starting file upload - User: 0fa11732-3f80-4bd2-9bcf-522de389a41d, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-13 17:07:44,576 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-13 17:07:44,576 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] File type validation passed
2025-08-13 17:07:44,577 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] Reading file content for size validation
2025-08-13 17:07:44,577 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] File content read - Size: 4422 bytes
2025-08-13 17:07:44,577 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] File size validation passed
2025-08-13 17:07:44,578 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] Initializing services
2025-08-13 17:07:44,578 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-13 17:07:44,629 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-13 17:07:44,630 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] Services initialized successfully
2025-08-13 17:07:44,630 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] Processing file with extension: pdf
2025-08-13 17:07:44,630 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] Processing PDF file
2025-08-13 17:07:44,631 - app.services.transaction_service - INFO - Starting PDF processing for user 0fa11732-3f80-4bd2-9bcf-522de389a41d
2025-08-13 17:07:44,631 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-13 17:07:44,631 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-13 17:07:44,633 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-13 17:07:44,672 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-13 17:07:44,672 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-13 17:07:44,672 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-13 17:07:44,673 - app.services.bedrock_service - INFO - [extract_170744673] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-13 17:08:08,229 - app.services.bedrock_service - INFO - [extract_170744673] Raw Bedrock text response:
```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 17:08:08,230 - app.services.bedrock_service - INFO - Parsing transaction extraction response: ```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 17:08:08,231 - app.services.bedrock_service - INFO - JSON array extraction - Start: 8, End: 0
2025-08-13 17:08:08,231 - app.services.bedrock_service - WARNING - No JSON array found in response
2025-08-13 17:08:08,232 - app.services.bedrock_service - ERROR - Error parsing transaction extraction response: No JSON array found in response
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 253, in _parse_transaction_extraction_response
    raise ValueError("No JSON array found in response")
ValueError: No JSON array found in response
2025-08-13 17:08:08,237 - app.services.bedrock_service - ERROR - Raw response that failed to parse: ```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 17:08:08,238 - app.services.bedrock_service - INFO - [extract_170744673] PDF extraction completed successfully - Transactions found: 0, Time: 23.565s
2025-08-13 17:08:08,239 - app.services.bedrock_service - INFO - [extract_170744673] Parsed transactions: []
2025-08-13 17:08:08,242 - app.services.transaction_service - INFO - Transactions extracted from PDF: 0 found
2025-08-13 17:08:08,243 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-13 17:08:08,244 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 0, Errors: 0, Time: 23.61s
2025-08-13 17:08:08,245 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] PDF processing completed - Result: {'processed_count': 0, 'transactions': [], 'errors': [], 'processing_time': 23.613362}
2025-08-13 17:08:08,245 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] File processing completed successfully - Processing time: 23.61s, Transactions processed: 0
2025-08-13 17:14:19,315 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 17:14:20,450 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 17:14:20,468 - app.main - INFO - Database tables created/verified
2025-08-13 17:14:20,468 - app.main - INFO - CORS middleware configured
2025-08-13 17:14:20,472 - app.main - INFO - API routers included
2025-08-13 17:14:20,473 - app.main - INFO - 🚀 Application starting up...
2025-08-13 17:14:20,473 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 17:14:20,474 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 17:14:20,474 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 17:14:20,474 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 17:14:20,475 - app.main - INFO - ✅ Application startup complete
2025-08-13 17:14:24,486 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] Starting file upload - User: 0fa11732-3f80-4bd2-9bcf-522de389a41d, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-13 17:14:24,486 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-13 17:14:24,486 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] File type validation passed
2025-08-13 17:14:24,486 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] Reading file content for size validation
2025-08-13 17:14:24,487 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] File content read - Size: 4422 bytes
2025-08-13 17:14:24,487 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] File size validation passed
2025-08-13 17:14:24,487 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] Initializing services
2025-08-13 17:14:24,487 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-13 17:14:24,546 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-13 17:14:24,547 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] Services initialized successfully
2025-08-13 17:14:24,547 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] Processing file with extension: pdf
2025-08-13 17:14:24,547 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] Processing PDF file
2025-08-13 17:14:24,547 - app.services.transaction_service - INFO - Starting PDF processing for user 0fa11732-3f80-4bd2-9bcf-522de389a41d
2025-08-13 17:14:24,547 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-13 17:14:24,547 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-13 17:14:24,550 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-13 17:14:24,663 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-13 17:14:24,663 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-13 17:14:24,663 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-13 17:14:24,664 - app.services.bedrock_service - INFO - [extract_171424664] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-13 17:14:52,112 - app.services.bedrock_service - INFO - [extract_171424664] Raw Bedrock text response:
```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 17:14:52,113 - app.services.bedrock_service - INFO - Parsing transaction extraction response: ```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 17:14:52,113 - app.services.bedrock_service - INFO - JSON array extraction - Start: 8, End: 0
2025-08-13 17:14:52,113 - app.services.bedrock_service - WARNING - No JSON array found in response
2025-08-13 17:14:52,113 - app.services.bedrock_service - ERROR - Error parsing transaction extraction response: No JSON array found in response
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 253, in _parse_transaction_extraction_response
    raise ValueError("No JSON array found in response")
ValueError: No JSON array found in response
2025-08-13 17:14:52,115 - app.services.bedrock_service - ERROR - Raw response that failed to parse: ```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 17:14:52,116 - app.services.bedrock_service - INFO - [extract_171424664] PDF extraction completed successfully - Transactions found: 0, Time: 27.452s
2025-08-13 17:14:52,116 - app.services.bedrock_service - INFO - [extract_171424664] Parsed transactions: []
2025-08-13 17:14:52,116 - app.services.transaction_service - INFO - Transactions extracted from PDF: 0 found
2025-08-13 17:14:52,116 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-13 17:14:52,118 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 0, Errors: 0, Time: 27.57s
2025-08-13 17:14:52,118 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] PDF processing completed - Result: {'processed_count': 0, 'transactions': [], 'errors': [], 'processing_time': 27.570507}
2025-08-13 17:14:52,118 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] File processing completed successfully - Processing time: 27.57s, Transactions processed: 0
2025-08-13 17:15:13,268 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 17:15:14,154 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 17:15:14,165 - app.main - INFO - Database tables created/verified
2025-08-13 17:15:14,166 - app.main - INFO - CORS middleware configured
2025-08-13 17:15:14,169 - app.main - INFO - API routers included
2025-08-13 17:15:14,170 - app.main - INFO - 🚀 Application starting up...
2025-08-13 17:15:14,170 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 17:15:14,170 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 17:15:14,171 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 17:15:14,171 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 17:15:14,171 - app.main - INFO - ✅ Application startup complete
2025-08-13 17:15:16,146 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 17:15:16,816 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 17:15:16,824 - app.main - INFO - Database tables created/verified
2025-08-13 17:15:16,824 - app.main - INFO - CORS middleware configured
2025-08-13 17:15:16,827 - app.main - INFO - API routers included
2025-08-13 17:15:16,828 - app.main - INFO - 🚀 Application starting up...
2025-08-13 17:15:16,828 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 17:15:16,828 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 17:15:16,828 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 17:15:16,829 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 17:15:16,829 - app.main - INFO - ✅ Application startup complete
2025-08-13 17:15:20,574 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] Starting file upload - User: 0fa11732-3f80-4bd2-9bcf-522de389a41d, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-13 17:15:20,574 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-13 17:15:20,574 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] File type validation passed
2025-08-13 17:15:20,574 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] Reading file content for size validation
2025-08-13 17:15:20,575 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] File content read - Size: 4422 bytes
2025-08-13 17:15:20,575 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] File size validation passed
2025-08-13 17:15:20,575 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] Initializing services
2025-08-13 17:15:20,576 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-13 17:15:20,632 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-13 17:15:20,632 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] Services initialized successfully
2025-08-13 17:15:20,633 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] Processing file with extension: pdf
2025-08-13 17:15:20,633 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] Processing PDF file
2025-08-13 17:15:20,633 - app.services.transaction_service - INFO - Starting PDF processing for user 0fa11732-3f80-4bd2-9bcf-522de389a41d
2025-08-13 17:15:20,633 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-13 17:15:20,633 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-13 17:15:20,635 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-13 17:15:20,672 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-13 17:15:20,672 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-13 17:15:20,672 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-13 17:15:20,672 - app.services.bedrock_service - INFO - [extract_171520672] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-13 17:15:39,644 - app.services.bedrock_service - INFO - [extract_171520672] Raw Bedrock text response:
```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 17:15:39,648 - app.services.bedrock_service - INFO - Parsing transaction extraction response: ```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 17:15:39,649 - app.services.bedrock_service - INFO - JSON array extraction - Start: 8, End: 0
2025-08-13 17:15:39,650 - app.services.bedrock_service - WARNING - No JSON array found in response
2025-08-13 17:15:39,652 - app.services.bedrock_service - ERROR - Error parsing transaction extraction response: No JSON array found in response
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 253, in _parse_transaction_extraction_response
    raise ValueError("No JSON array found in response")
ValueError: No JSON array found in response
2025-08-13 17:15:39,655 - app.services.bedrock_service - ERROR - Raw response that failed to parse: ```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 17:15:39,656 - app.services.bedrock_service - INFO - [extract_171520672] PDF extraction completed successfully - Transactions found: 0, Time: 18.984s
2025-08-13 17:15:39,656 - app.services.bedrock_service - INFO - [extract_171520672] Parsed transactions: []
2025-08-13 17:15:39,657 - app.services.transaction_service - INFO - Transactions extracted from PDF: 0 found
2025-08-13 17:15:39,657 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-13 17:15:39,658 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 0, Errors: 0, Time: 19.03s
2025-08-13 17:15:39,659 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] PDF processing completed - Result: {'processed_count': 0, 'transactions': [], 'errors': [], 'processing_time': 19.025243}
2025-08-13 17:15:39,659 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] File processing completed successfully - Processing time: 19.03s, Transactions processed: 0
2025-08-13 17:17:23,290 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 17:17:24,181 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 17:17:24,194 - app.main - INFO - Database tables created/verified
2025-08-13 17:17:24,194 - app.main - INFO - CORS middleware configured
2025-08-13 17:17:24,197 - app.main - INFO - API routers included
2025-08-13 17:17:24,198 - app.main - INFO - 🚀 Application starting up...
2025-08-13 17:17:24,199 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 17:17:24,199 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 17:17:24,199 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 17:17:24,199 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 17:17:24,200 - app.main - INFO - ✅ Application startup complete
2025-08-13 17:17:58,312 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 17:17:59,238 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 17:17:59,251 - app.main - INFO - Database tables created/verified
2025-08-13 17:17:59,252 - app.main - INFO - CORS middleware configured
2025-08-13 17:17:59,256 - app.main - INFO - API routers included
2025-08-13 17:17:59,257 - app.main - INFO - 🚀 Application starting up...
2025-08-13 17:17:59,257 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 17:17:59,257 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 17:17:59,258 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 17:17:59,258 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 17:17:59,258 - app.main - INFO - ✅ Application startup complete
2025-08-13 17:18:16,334 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 17:18:17,028 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 17:18:17,036 - app.main - INFO - Database tables created/verified
2025-08-13 17:18:17,037 - app.main - INFO - CORS middleware configured
2025-08-13 17:18:17,040 - app.main - INFO - API routers included
2025-08-13 17:18:17,041 - app.main - INFO - 🚀 Application starting up...
2025-08-13 17:18:17,041 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 17:18:17,041 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 17:18:17,041 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 17:18:17,041 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 17:18:17,041 - app.main - INFO - ✅ Application startup complete
2025-08-13 17:31:12,333 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 17:31:13,325 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 17:31:13,337 - app.main - INFO - Database tables created/verified
2025-08-13 17:31:13,338 - app.main - INFO - CORS middleware configured
2025-08-13 17:31:13,341 - app.main - INFO - API routers included
2025-08-13 17:31:13,342 - app.main - INFO - 🚀 Application starting up...
2025-08-13 17:31:13,342 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 17:31:13,343 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 17:31:13,343 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 17:31:13,343 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 17:31:13,343 - app.main - INFO - ✅ Application startup complete
2025-08-13 17:31:43,082 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-13 17:31:43,307 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-13 17:31:50,304 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] Starting file upload - User: 0fa11732-3f80-4bd2-9bcf-522de389a41d, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-13 17:31:50,305 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-13 17:31:50,305 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] File type validation passed
2025-08-13 17:31:50,306 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] Reading file content for size validation
2025-08-13 17:31:50,306 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] File content read - Size: 4422 bytes
2025-08-13 17:31:50,306 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] File size validation passed
2025-08-13 17:31:50,306 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] Initializing services
2025-08-13 17:31:50,306 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-13 17:31:50,315 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-13 17:31:50,315 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] Services initialized successfully
2025-08-13 17:31:50,316 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] Processing file with extension: pdf
2025-08-13 17:31:50,317 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] Processing PDF file
2025-08-13 17:31:50,318 - app.services.transaction_service - INFO - Starting PDF processing for user 0fa11732-3f80-4bd2-9bcf-522de389a41d
2025-08-13 17:31:50,319 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-13 17:31:50,320 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-13 17:31:50,322 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-13 17:31:50,333 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-13 17:31:50,333 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-13 17:31:50,333 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-13 17:31:50,334 - app.services.bedrock_service - INFO - [extract_173150334] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-13 17:32:28,017 - app.services.bedrock_service - INFO - [extract_173150334] Raw Bedrock text response:
[
  {"date": "2025-06-01", "description": "Adobe CC", "amount": -1253.63, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-01", "description": "Amazon Web Services", "amount": -494.93, "currency": "GBP", "merchant": "Amazon Web Services"},
  {"date": "2025-06-02", "description": "PayPal Fee", "amount": -146.20, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-06", "description": "Adobe CC", "amount": -687.09, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-06", "description": "Zoom Subscription", "amount": -1380.44, "currency": "GBP", "merchant": "Zoom"},
  {"date": "2025-06-07", "description": "Adobe CC", "amount": 214.51, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP"},
  {"date": "2025-06-07", "description": "Costa Coffee", "amount": -1156.58, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-07", "description": "TFL Travel", "amount": -1470.87, "currency": "GBP", "merchant": "TFL"},
  {"date": "2025-06-08", "description": "HMRC Payment", "amount": -386.26, "currency": "GBP", "merchant": "HMRC"},
  {"date": "2025-06-09", "description": "Adobe CC", "amount": -123.63, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-09", "description": "Github", "amount": -888.70, "currency": "GBP", "merchant": "Github"},
  {"date": "2025-06-09", "description": "Github", "amount": -1099.51, "currency": "GBP", "merchant": "Github"},
  {"date": "2025-06-09", "description": "PayPal Fee", "amount": 140.94, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-10", "description": "Google Ads", "amount": -919.83, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP"},
  {"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": -598.34, "currency": "GBP"},
  {"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": -120.37, "currency": "GBP"},
  {"date": "2025-06-14", "description": "Costa Coffee", "amount": -957.21, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-14", "description": "Stripe Payout", "amount": 165.97, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-16", "description": "TransferWise", "amount": 160.48, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-18", "description": "Amazon Web Services", "amount": -1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},
  {"date": "2025-06-18", "description": "Late Fee", "amount": -1495.34, "currency": "GBP"},
  {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 122.51, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": -1013.75, "currency": "GBP"},
  {"date": "2025-06-19", "description": "TFL Travel", "amount": -663.95, "currency": "GBP", "merchant": "TFL"},
  {"date": "2025-06-20", "description": "Costa Coffee", "amount": -1089.18, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-22", "description": "Google Ads", "amount": -221.47, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-22", "description": "Google Ads", "amount": -392.83, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-23", "description": "PayPal Fee", "amount": -370.99, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-24", "description": "Google Ads", "amount": -652.07, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-25", "description": "Google Ads", "amount": -133.65, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-25", "description": "PayPal Fee", "amount": -42.00, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": -616.07, "currency": "GBP"},
  {"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "
2025-08-13 17:32:28,019 - app.services.bedrock_service - INFO - Parsing transaction extraction response: [
  {"date": "2025-06-01", "description": "Adobe CC", "amount": -1253.63, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-01", "description": "Amazon Web Services", "amount": -494.93, "currency": "GBP", "merchant": "Amazon Web Services"},
  {"date": "2025-06-02", "description": "PayPal Fee", "amount": -146.20, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-06", "description": "Adobe CC", "amount": -687.09, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-06", "description": "Zoom Subscription", "amount": -1380.44, "currency": "GBP", "merchant": "Zoom"},
  {"date": "2025-06-07", "description": "Adobe CC", "amount": 214.51, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP"},
  {"date": "2025-06-07", "description": "Costa Coffee", "amount": -1156.58, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-07", "description": "TFL Travel", "amount": -1470.87, "currency": "GBP", "merchant": "TFL"},
  {"date": "2025-06-08", "description": "HMRC Payment", "amount": -386.26, "currency": "GBP", "merchant": "HMRC"},
  {"date": "2025-06-09", "description": "Adobe CC", "amount": -123.63, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-09", "description": "Github", "amount": -888.70, "currency": "GBP", "merchant": "Github"},
  {"date": "2025-06-09", "description": "Github", "amount": -1099.51, "currency": "GBP", "merchant": "Github"},
  {"date": "2025-06-09", "description": "PayPal Fee", "amount": 140.94, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-10", "description": "Google Ads", "amount": -919.83, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP"},
  {"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": -598.34, "currency": "GBP"},
  {"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": -120.37, "currency": "GBP"},
  {"date": "2025-06-14", "description": "Costa Coffee", "amount": -957.21, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-14", "description": "Stripe Payout", "amount": 165.97, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-16", "description": "TransferWise", "amount": 160.48, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-18", "description": "Amazon Web Services", "amount": -1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},
  {"date": "2025-06-18", "description": "Late Fee", "amount": -1495.34, "currency": "GBP"},
  {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 122.51, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": -1013.75, "currency": "GBP"},
  {"date": "2025-06-19", "description": "TFL Travel", "amount": -663.95, "currency": "GBP", "merchant": "TFL"},
  {"date": "2025-06-20", "description": "Costa Coffee", "amount": -1089.18, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-22", "description": "Google Ads", "amount": -221.47, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-22", "description": "Google Ads", "amount": -392.83, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-23", "description": "PayPal Fee", "amount": -370.99, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-24", "description": "Google Ads", "amount": -652.07, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-25", "description": "Google Ads", "amount": -133.65, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-25", "description": "PayPal Fee", "amount": -42.00, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": -616.07, "currency": "GBP"},
  {"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "
2025-08-13 17:32:28,020 - app.services.bedrock_service - WARNING - Strategy 2 failed - JSON decode error: Extra data: line 1 column 113 (char 112)
2025-08-13 17:32:28,021 - app.services.bedrock_service - INFO - Strategy 3 successful - Manually extracted 45 transactions
2025-08-13 17:32:28,021 - app.services.bedrock_service - INFO - Final validated transactions: [
  {
    "date": "2025-06-01",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -1253.63, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-01",
    "description": "{\"date\": \"\", \"description\": \"Amazon Web Services\", \"amount\": -494.93, \"currency\": \"GBP\", \"merchant\": \"Amazon Web Services\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -146.20, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 281.48, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -687.09, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{\"date\": \"\", \"description\": \"Zoom Subscription\", \"amount\": -1380.44, \"currency\": \"GBP\", \"merchant\": \"Zoom\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": 214.51, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Client Refund\", \"amount\": 1003.31, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -1156.58, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"TFL Travel\", \"amount\": -1470.87, \"currency\": \"GBP\", \"merchant\": \"TFL\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-08",
    "description": "{\"date\": \"\", \"description\": \"HMRC Payment\", \"amount\": -386.26, \"currency\": \"GBP\", \"merchant\": \"HMRC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -123.63, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Github\", \"amount\": -888.70, \"currency\": \"GBP\", \"merchant\": \"Github\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Github\", \"amount\": -1099.51, \"currency\": \"GBP\", \"merchant\": \"Github\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": 140.94, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -919.83, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 1377.52, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-12",
    "description": "{\"date\": \"\", \"description\": \"Freelancer Income\", \"amount\": 937.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-13",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -598.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -120.37, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -957.21, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 165.97, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-16",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 160.48, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-17",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 1325.16, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Amazon Web Services\", \"amount\": -1155.33, \"currency\": \"GBP\", \"merchant\": \"Amazon Web Services\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Late Fee\", \"amount\": -1495.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 122.51, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 1016.92, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -1013.75, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{\"date\": \"\", \"description\": \"TFL Travel\", \"amount\": -663.95, \"currency\": \"GBP\", \"merchant\": \"TFL\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-20",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -1089.18, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -221.47, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -392.83, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-23",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -370.99, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -652.07, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 401.21, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 471.83, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -133.65, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -42.00, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 619.82, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 1061.66, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -616.07, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 257.68, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 266.17, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-28",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 394.26, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  }
]
2025-08-13 17:32:28,023 - app.services.bedrock_service - INFO - [extract_173150334] PDF extraction completed successfully - Transactions found: 45, Time: 37.689s
2025-08-13 17:32:28,024 - app.services.bedrock_service - INFO - [extract_173150334] Parsed transactions: [
  {
    "date": "2025-06-01",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -1253.63, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-01",
    "description": "{\"date\": \"\", \"description\": \"Amazon Web Services\", \"amount\": -494.93, \"currency\": \"GBP\", \"merchant\": \"Amazon Web Services\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -146.20, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 281.48, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -687.09, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{\"date\": \"\", \"description\": \"Zoom Subscription\", \"amount\": -1380.44, \"currency\": \"GBP\", \"merchant\": \"Zoom\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": 214.51, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Client Refund\", \"amount\": 1003.31, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -1156.58, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"TFL Travel\", \"amount\": -1470.87, \"currency\": \"GBP\", \"merchant\": \"TFL\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-08",
    "description": "{\"date\": \"\", \"description\": \"HMRC Payment\", \"amount\": -386.26, \"currency\": \"GBP\", \"merchant\": \"HMRC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -123.63, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Github\", \"amount\": -888.70, \"currency\": \"GBP\", \"merchant\": \"Github\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Github\", \"amount\": -1099.51, \"currency\": \"GBP\", \"merchant\": \"Github\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": 140.94, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -919.83, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 1377.52, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-12",
    "description": "{\"date\": \"\", \"description\": \"Freelancer Income\", \"amount\": 937.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-13",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -598.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -120.37, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -957.21, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 165.97, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-16",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 160.48, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-17",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 1325.16, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Amazon Web Services\", \"amount\": -1155.33, \"currency\": \"GBP\", \"merchant\": \"Amazon Web Services\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Late Fee\", \"amount\": -1495.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 122.51, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 1016.92, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -1013.75, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{\"date\": \"\", \"description\": \"TFL Travel\", \"amount\": -663.95, \"currency\": \"GBP\", \"merchant\": \"TFL\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-20",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -1089.18, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -221.47, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -392.83, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-23",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -370.99, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -652.07, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 401.21, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 471.83, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -133.65, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -42.00, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 619.82, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 1061.66, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -616.07, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 257.68, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 266.17, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-28",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 394.26, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  }
]
2025-08-13 17:32:28,028 - app.services.transaction_service - INFO - Transactions extracted from PDF: 45 found
2025-08-13 17:32:28,029 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-13 17:32:28,029 - app.services.bedrock_service - INFO - [classify_173228029] Starting transaction classification - Data: {'date': '2025-06-01', 'description': '{"date": "", "description": "Adobe CC", "amount": -1253.63, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:32:29,415 - app.services.bedrock_service - INFO - [classify_173228029] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work", "category": "software"}
2025-08-13 17:32:29,415 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}
2025-08-13 17:32:29,416 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-13 17:32:29,416 - app.services.bedrock_service - INFO - [classify_173228029] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}, Time: 1.387s
2025-08-13 17:32:29,417 - app.services.bedrock_service - INFO - [classify_173228029] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-13 17:32:29,457 - app.services.bedrock_service - INFO - [classify_173229457] Starting transaction classification - Data: {'date': '2025-06-01', 'description': '{"date": "", "description": "Amazon Web Services", "amount": -494.93, "currency": "GBP", "merchant": "Amazon Web Services"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:32:30,867 - app.services.bedrock_service - INFO - [classify_173229457] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Cloud computing services are a common business expense for freelancers and consultants", "category": "software"}
2025-08-13 17:32:30,868 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Cloud computing services are a common business expense for freelancers and consultants', 'category': 'software'}
2025-08-13 17:32:30,869 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Cloud computing services are a common business expense for freelancers and consultants",
  "category": "software"
}
2025-08-13 17:32:30,870 - app.services.bedrock_service - INFO - [classify_173229457] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Cloud computing services are a common business expense for freelancers and consultants', 'category': 'software'}, Time: 1.412s
2025-08-13 17:32:30,870 - app.services.bedrock_service - INFO - [classify_173229457] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Cloud computing services are a common business expense for freelancers and consultants",
  "category": "software"
}
2025-08-13 17:32:30,885 - app.services.bedrock_service - INFO - [classify_173230885] Starting transaction classification - Data: {'date': '2025-06-02', 'description': '{"date": "", "description": "PayPal Fee", "amount": -146.20, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:32:32,577 - app.services.bedrock_service - INFO - [classify_173230885] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.", "category": "business_fees"}
2025-08-13 17:32:32,578 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}
2025-08-13 17:32:32,579 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-13 17:32:32,579 - app.services.bedrock_service - INFO - [classify_173230885] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}, Time: 1.694s
2025-08-13 17:32:32,581 - app.services.bedrock_service - INFO - [classify_173230885] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-13 17:32:32,588 - app.services.bedrock_service - INFO - [classify_173232588] Starting transaction classification - Data: {'date': '2025-06-02', 'description': '{"date": "", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:32:34,429 - app.services.bedrock_service - INFO - [classify_173232588] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payout from Stripe likely related to freelance work", "category": "income"}
2025-08-13 17:32:34,429 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payout from Stripe likely related to freelance work', 'category': 'income'}
2025-08-13 17:32:34,430 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payout from Stripe likely related to freelance work",
  "category": "income"
}
2025-08-13 17:32:34,430 - app.services.bedrock_service - INFO - [classify_173232588] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payout from Stripe likely related to freelance work', 'category': 'income'}, Time: 1.841s
2025-08-13 17:32:34,430 - app.services.bedrock_service - INFO - [classify_173232588] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payout from Stripe likely related to freelance work",
  "category": "income"
}
2025-08-13 17:32:34,434 - app.services.bedrock_service - INFO - [classify_173234434] Starting transaction classification - Data: {'date': '2025-06-06', 'description': '{"date": "", "description": "Adobe CC", "amount": -687.09, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:32:35,751 - app.services.bedrock_service - INFO - [classify_173234434] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work", "category": "software"}
2025-08-13 17:32:35,752 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}
2025-08-13 17:32:35,752 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-13 17:32:35,753 - app.services.bedrock_service - INFO - [classify_173234434] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}, Time: 1.318s
2025-08-13 17:32:35,754 - app.services.bedrock_service - INFO - [classify_173234434] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-13 17:32:35,759 - app.services.bedrock_service - INFO - [classify_173235759] Starting transaction classification - Data: {'date': '2025-06-06', 'description': '{"date": "", "description": "Zoom Subscription", "amount": -1380.44, "currency": "GBP", "merchant": "Zoom"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:32:39,906 - app.services.bedrock_service - ERROR - [classify_173235759] Classification failed after 4.147s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:32:39,921 - app.services.bedrock_service - INFO - [classify_173239921] Starting transaction classification - Data: {'date': '2025-06-07', 'description': '{"date": "", "description": "Adobe CC", "amount": 214.51, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:32:46,911 - app.services.bedrock_service - INFO - [classify_173239921] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work", "category": "software"}
2025-08-13 17:32:46,911 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}
2025-08-13 17:32:46,911 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-13 17:32:46,911 - app.services.bedrock_service - INFO - [classify_173239921] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}, Time: 6.990s
2025-08-13 17:32:46,911 - app.services.bedrock_service - INFO - [classify_173239921] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-13 17:32:46,913 - app.services.bedrock_service - INFO - [classify_173246913] Starting transaction classification - Data: {'date': '2025-06-07', 'description': '{"date": "", "description": "Client Refund", "amount": 1003.31, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:32:55,555 - app.services.bedrock_service - INFO - [classify_173246913] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "A client refund is likely related to freelancing or consulting work", "category": "income"}
2025-08-13 17:32:55,555 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'A client refund is likely related to freelancing or consulting work', 'category': 'income'}
2025-08-13 17:32:55,555 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "A client refund is likely related to freelancing or consulting work",
  "category": "income"
}
2025-08-13 17:32:55,556 - app.services.bedrock_service - INFO - [classify_173246913] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'A client refund is likely related to freelancing or consulting work', 'category': 'income'}, Time: 8.642s
2025-08-13 17:32:55,556 - app.services.bedrock_service - INFO - [classify_173246913] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "A client refund is likely related to freelancing or consulting work",
  "category": "income"
}
2025-08-13 17:32:55,558 - app.services.bedrock_service - INFO - [classify_173255558] Starting transaction classification - Data: {'date': '2025-06-07', 'description': '{"date": "", "description": "Costa Coffee", "amount": -1156.58, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:33:00,477 - app.services.bedrock_service - ERROR - [classify_173255558] Classification failed after 4.919s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:33:00,485 - app.services.bedrock_service - INFO - [classify_173300485] Starting transaction classification - Data: {'date': '2025-06-07', 'description': '{"date": "", "description": "TFL Travel", "amount": -1470.87, "currency": "GBP", "merchant": "TFL"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:33:08,551 - app.services.bedrock_service - INFO - [classify_173300485] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Travel expense for business-related transportation", "category": "travel"}
2025-08-13 17:33:08,552 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Travel expense for business-related transportation', 'category': 'travel'}
2025-08-13 17:33:08,552 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Travel expense for business-related transportation",
  "category": "travel"
}
2025-08-13 17:33:08,553 - app.services.bedrock_service - INFO - [classify_173300485] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Travel expense for business-related transportation', 'category': 'travel'}, Time: 8.067s
2025-08-13 17:33:08,554 - app.services.bedrock_service - INFO - [classify_173300485] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Travel expense for business-related transportation",
  "category": "travel"
}
2025-08-13 17:33:08,561 - app.services.bedrock_service - INFO - [classify_173308561] Starting transaction classification - Data: {'date': '2025-06-08', 'description': '{"date": "", "description": "HMRC Payment", "amount": -386.26, "currency": "GBP", "merchant": "HMRC"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:33:19,477 - app.services.bedrock_service - INFO - [classify_173308561] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payment to HMRC (UK tax authority) is likely a business expense for self-employment taxes or VAT", "category": "taxes"}
2025-08-13 17:33:19,478 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payment to HMRC (UK tax authority) is likely a business expense for self-employment taxes or VAT', 'category': 'taxes'}
2025-08-13 17:33:19,479 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment to HMRC (UK tax authority) is likely a business expense for self-employment taxes or VAT",
  "category": "taxes"
}
2025-08-13 17:33:19,480 - app.services.bedrock_service - INFO - [classify_173308561] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payment to HMRC (UK tax authority) is likely a business expense for self-employment taxes or VAT', 'category': 'taxes'}, Time: 10.918s
2025-08-13 17:33:19,481 - app.services.bedrock_service - INFO - [classify_173308561] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment to HMRC (UK tax authority) is likely a business expense for self-employment taxes or VAT",
  "category": "taxes"
}
2025-08-13 17:33:19,489 - app.services.bedrock_service - INFO - [classify_173319489] Starting transaction classification - Data: {'date': '2025-06-09', 'description': '{"date": "", "description": "Adobe CC", "amount": -123.63, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:33:27,486 - app.services.bedrock_service - ERROR - [classify_173319489] Classification failed after 7.996s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:33:27,489 - app.services.bedrock_service - INFO - [classify_173327489] Starting transaction classification - Data: {'date': '2025-06-09', 'description': '{"date": "", "description": "Github", "amount": -888.70, "currency": "GBP", "merchant": "Github"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:33:31,041 - app.services.bedrock_service - INFO - [classify_173327489] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "GitHub is a platform for hosting and managing code repositories, which is essential for software development work.", "category": "software"}
2025-08-13 17:33:31,042 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'GitHub is a platform for hosting and managing code repositories, which is essential for software development work.', 'category': 'software'}
2025-08-13 17:33:31,044 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "GitHub is a platform for hosting and managing code repositories, which is essential for software development work.",
  "category": "software"
}
2025-08-13 17:33:31,045 - app.services.bedrock_service - INFO - [classify_173327489] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'GitHub is a platform for hosting and managing code repositories, which is essential for software development work.', 'category': 'software'}, Time: 3.555s
2025-08-13 17:33:31,046 - app.services.bedrock_service - INFO - [classify_173327489] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "GitHub is a platform for hosting and managing code repositories, which is essential for software development work.",
  "category": "software"
}
2025-08-13 17:33:31,054 - app.services.bedrock_service - INFO - [classify_173331054] Starting transaction classification - Data: {'date': '2025-06-09', 'description': '{"date": "", "description": "Github", "amount": -1099.51, "currency": "GBP", "merchant": "Github"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:33:37,539 - app.services.bedrock_service - ERROR - [classify_173331054] Classification failed after 6.485s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:33:37,547 - app.services.bedrock_service - INFO - [classify_173337547] Starting transaction classification - Data: {'date': '2025-06-09', 'description': '{"date": "", "description": "PayPal Fee", "amount": 140.94, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:33:43,161 - app.services.bedrock_service - INFO - [classify_173337547] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.", "category": "business_fees"}
2025-08-13 17:33:43,161 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}
2025-08-13 17:33:43,161 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-13 17:33:43,162 - app.services.bedrock_service - INFO - [classify_173337547] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}, Time: 5.613s
2025-08-13 17:33:43,162 - app.services.bedrock_service - INFO - [classify_173337547] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-13 17:33:43,164 - app.services.bedrock_service - INFO - [classify_173343164] Starting transaction classification - Data: {'date': '2025-06-10', 'description': '{"date": "", "description": "Google Ads", "amount": -919.83, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:33:53,885 - app.services.bedrock_service - INFO - [classify_173343164] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.", "category": "advertising"}
2025-08-13 17:33:53,885 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by businesses for marketing and promotion.', 'category': 'advertising'}
2025-08-13 17:33:53,887 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.",
  "category": "advertising"
}
2025-08-13 17:33:53,888 - app.services.bedrock_service - INFO - [classify_173343164] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by businesses for marketing and promotion.', 'category': 'advertising'}, Time: 10.724s
2025-08-13 17:33:53,888 - app.services.bedrock_service - INFO - [classify_173343164] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.",
  "category": "advertising"
}
2025-08-13 17:33:53,893 - app.services.bedrock_service - INFO - [classify_173353893] Starting transaction classification - Data: {'date': '2025-06-10', 'description': '{"date": "", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:34:05,864 - app.services.bedrock_service - INFO - [classify_173353893] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work", "category": "income"}
2025-08-13 17:34:05,865 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}
2025-08-13 17:34:05,866 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-13 17:34:05,866 - app.services.bedrock_service - INFO - [classify_173353893] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}, Time: 11.973s
2025-08-13 17:34:05,867 - app.services.bedrock_service - INFO - [classify_173353893] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-13 17:34:05,875 - app.services.bedrock_service - INFO - [classify_173405875] Starting transaction classification - Data: {'date': '2025-06-12', 'description': '{"date": "", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:34:14,490 - app.services.bedrock_service - ERROR - [classify_173405875] Classification failed after 8.614s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:34:14,497 - app.services.bedrock_service - INFO - [classify_173414497] Starting transaction classification - Data: {'date': '2025-06-13', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -598.34, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:34:19,278 - app.services.bedrock_service - INFO - [classify_173414497] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Account maintenance fees are typically business expenses for freelancers and consultants.", "category": "banking_fees"}
2025-08-13 17:34:19,279 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Account maintenance fees are typically business expenses for freelancers and consultants.', 'category': 'banking_fees'}
2025-08-13 17:34:19,280 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Account maintenance fees are typically business expenses for freelancers and consultants.",
  "category": "banking_fees"
}
2025-08-13 17:34:19,280 - app.services.bedrock_service - INFO - [classify_173414497] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Account maintenance fees are typically business expenses for freelancers and consultants.', 'category': 'banking_fees'}, Time: 4.782s
2025-08-13 17:34:19,282 - app.services.bedrock_service - INFO - [classify_173414497] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Account maintenance fees are typically business expenses for freelancers and consultants.",
  "category": "banking_fees"
}
2025-08-13 17:34:19,286 - app.services.bedrock_service - INFO - [classify_173419286] Starting transaction classification - Data: {'date': '2025-06-14', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -120.37, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:34:27,596 - app.services.bedrock_service - ERROR - [classify_173419286] Classification failed after 8.310s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:34:27,604 - app.services.bedrock_service - INFO - [classify_173427603] Starting transaction classification - Data: {'date': '2025-06-14', 'description': '{"date": "", "description": "Costa Coffee", "amount": -957.21, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:34:30,452 - app.services.bedrock_service - INFO - [classify_173427603] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.9, "reasoning": "Coffee purchase from a cafe is typically a personal expense", "category": "meals"}
2025-08-13 17:34:30,454 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Coffee purchase from a cafe is typically a personal expense', 'category': 'meals'}
2025-08-13 17:34:30,455 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Coffee purchase from a cafe is typically a personal expense",
  "category": "meals"
}
2025-08-13 17:34:30,455 - app.services.bedrock_service - INFO - [classify_173427603] Classification completed successfully - Result: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Coffee purchase from a cafe is typically a personal expense', 'category': 'meals'}, Time: 2.851s
2025-08-13 17:34:30,457 - app.services.bedrock_service - INFO - [classify_173427603] Parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Coffee purchase from a cafe is typically a personal expense",
  "category": "meals"
}
2025-08-13 17:34:30,465 - app.services.bedrock_service - INFO - [classify_173430465] Starting transaction classification - Data: {'date': '2025-06-14', 'description': '{"date": "", "description": "Stripe Payout", "amount": 165.97, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:34:39,335 - app.services.bedrock_service - ERROR - [classify_173430465] Classification failed after 8.870s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:34:39,337 - app.services.bedrock_service - INFO - [classify_173439337] Starting transaction classification - Data: {'date': '2025-06-16', 'description': '{"date": "", "description": "TransferWise", "amount": 160.48, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:34:41,397 - app.services.bedrock_service - INFO - [classify_173439337] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "TransferWise is a money transfer service commonly used by freelancers and businesses for international payments", "category": "financial_services"}
2025-08-13 17:34:41,399 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'TransferWise is a money transfer service commonly used by freelancers and businesses for international payments', 'category': 'financial_services'}
2025-08-13 17:34:41,400 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "TransferWise is a money transfer service commonly used by freelancers and businesses for international payments",
  "category": "financial_services"
}
2025-08-13 17:34:41,401 - app.services.bedrock_service - INFO - [classify_173439337] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'TransferWise is a money transfer service commonly used by freelancers and businesses for international payments', 'category': 'financial_services'}, Time: 2.063s
2025-08-13 17:34:41,401 - app.services.bedrock_service - INFO - [classify_173439337] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "TransferWise is a money transfer service commonly used by freelancers and businesses for international payments",
  "category": "financial_services"
}
2025-08-13 17:34:41,409 - app.services.bedrock_service - INFO - [classify_173441409] Starting transaction classification - Data: {'date': '2025-06-17', 'description': '{"date": "", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:34:47,856 - app.services.bedrock_service - ERROR - [classify_173441409] Classification failed after 6.446s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:34:47,864 - app.services.bedrock_service - INFO - [classify_173447864] Starting transaction classification - Data: {'date': '2025-06-18', 'description': '{"date": "", "description": "Amazon Web Services", "amount": -1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:00,127 - app.services.bedrock_service - INFO - [classify_173447864] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Cloud computing services are a common business expense for freelancers and consultants", "category": "software"}
2025-08-13 17:35:00,128 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Cloud computing services are a common business expense for freelancers and consultants', 'category': 'software'}
2025-08-13 17:35:00,129 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Cloud computing services are a common business expense for freelancers and consultants",
  "category": "software"
}
2025-08-13 17:35:00,130 - app.services.bedrock_service - INFO - [classify_173447864] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Cloud computing services are a common business expense for freelancers and consultants', 'category': 'software'}, Time: 12.266s
2025-08-13 17:35:00,130 - app.services.bedrock_service - INFO - [classify_173447864] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Cloud computing services are a common business expense for freelancers and consultants",
  "category": "software"
}
2025-08-13 17:35:00,140 - app.services.bedrock_service - INFO - [classify_173500140] Starting transaction classification - Data: {'date': '2025-06-18', 'description': '{"date": "", "description": "Late Fee", "amount": -1495.34, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:10,154 - app.services.bedrock_service - INFO - [classify_173500140] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.9, "reasoning": "Late fees are typically personal expenses related to missed payments or penalties.", "category": "fees"}
2025-08-13 17:35:10,156 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Late fees are typically personal expenses related to missed payments or penalties.', 'category': 'fees'}
2025-08-13 17:35:10,156 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Late fees are typically personal expenses related to missed payments or penalties.",
  "category": "fees"
}
2025-08-13 17:35:10,156 - app.services.bedrock_service - INFO - [classify_173500140] Classification completed successfully - Result: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Late fees are typically personal expenses related to missed payments or penalties.', 'category': 'fees'}, Time: 10.016s
2025-08-13 17:35:10,156 - app.services.bedrock_service - INFO - [classify_173500140] Parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Late fees are typically personal expenses related to missed payments or penalties.",
  "category": "fees"
}
2025-08-13 17:35:10,159 - app.services.bedrock_service - INFO - [classify_173510159] Starting transaction classification - Data: {'date': '2025-06-18', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 122.51, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:15,287 - app.services.bedrock_service - ERROR - [classify_173510159] Classification failed after 5.128s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:35:15,292 - app.services.bedrock_service - INFO - [classify_173515292] Starting transaction classification - Data: {'date': '2025-06-18', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:18,810 - app.services.bedrock_service - INFO - [classify_173515292] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payment received from Upwork for freelance work", "category": "income"}
2025-08-13 17:35:18,811 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payment received from Upwork for freelance work', 'category': 'income'}
2025-08-13 17:35:18,812 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment received from Upwork for freelance work",
  "category": "income"
}
2025-08-13 17:35:18,813 - app.services.bedrock_service - INFO - [classify_173515292] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payment received from Upwork for freelance work', 'category': 'income'}, Time: 3.520s
2025-08-13 17:35:18,813 - app.services.bedrock_service - INFO - [classify_173515292] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment received from Upwork for freelance work",
  "category": "income"
}
2025-08-13 17:35:18,823 - app.services.bedrock_service - INFO - [classify_173518823] Starting transaction classification - Data: {'date': '2025-06-19', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -1013.75, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:27,528 - app.services.bedrock_service - ERROR - [classify_173518823] Classification failed after 8.705s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:35:27,538 - app.services.bedrock_service - INFO - [classify_173527538] Starting transaction classification - Data: {'date': '2025-06-19', 'description': '{"date": "", "description": "TFL Travel", "amount": -663.95, "currency": "GBP", "merchant": "TFL"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:31,281 - app.services.bedrock_service - INFO - [classify_173527538] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Travel expenses are common for freelancers and consultants", "category": "travel"}
2025-08-13 17:35:31,282 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Travel expenses are common for freelancers and consultants', 'category': 'travel'}
2025-08-13 17:35:31,283 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Travel expenses are common for freelancers and consultants",
  "category": "travel"
}
2025-08-13 17:35:31,284 - app.services.bedrock_service - INFO - [classify_173527538] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Travel expenses are common for freelancers and consultants', 'category': 'travel'}, Time: 3.745s
2025-08-13 17:35:31,285 - app.services.bedrock_service - INFO - [classify_173527538] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Travel expenses are common for freelancers and consultants",
  "category": "travel"
}
2025-08-13 17:35:31,297 - app.services.bedrock_service - INFO - [classify_173531297] Starting transaction classification - Data: {'date': '2025-06-20', 'description': '{"date": "", "description": "Costa Coffee", "amount": -1089.18, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:37,574 - app.services.bedrock_service - ERROR - [classify_173531297] Classification failed after 6.277s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:35:37,582 - app.services.bedrock_service - INFO - [classify_173537582] Starting transaction classification - Data: {'date': '2025-06-22', 'description': '{"date": "", "description": "Google Ads", "amount": -221.47, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:44,247 - app.services.bedrock_service - INFO - [classify_173537582] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising platform used by freelancers and businesses for marketing and client acquisition.", "category": "advertising"}
2025-08-13 17:35:44,247 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by freelancers and businesses for marketing and client acquisition.', 'category': 'advertising'}
2025-08-13 17:35:44,247 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by freelancers and businesses for marketing and client acquisition.",
  "category": "advertising"
}
2025-08-13 17:35:44,248 - app.services.bedrock_service - INFO - [classify_173537582] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by freelancers and businesses for marketing and client acquisition.', 'category': 'advertising'}, Time: 6.665s
2025-08-13 17:35:44,248 - app.services.bedrock_service - INFO - [classify_173537582] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by freelancers and businesses for marketing and client acquisition.",
  "category": "advertising"
}
2025-08-13 17:35:44,249 - app.services.bedrock_service - INFO - [classify_173544249] Starting transaction classification - Data: {'date': '2025-06-22', 'description': '{"date": "", "description": "Google Ads", "amount": -392.83, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:48,224 - app.services.bedrock_service - ERROR - [classify_173544249] Classification failed after 3.974s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:35:48,237 - app.services.bedrock_service - INFO - [classify_173548237] Starting transaction classification - Data: {'date': '2025-06-23', 'description': '{"date": "", "description": "PayPal Fee", "amount": -370.99, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:52,059 - app.services.bedrock_service - ERROR - [classify_173548237] Classification failed after 3.821s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:35:52,066 - app.services.bedrock_service - INFO - [classify_173552066] Starting transaction classification - Data: {'date': '2025-06-24', 'description': '{"date": "", "description": "Google Ads", "amount": -652.07, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:53,367 - app.services.bedrock_service - INFO - [classify_173552066] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.", "category": "advertising"}
2025-08-13 17:35:53,368 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by businesses for marketing and promotion.', 'category': 'advertising'}
2025-08-13 17:35:53,368 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.",
  "category": "advertising"
}
2025-08-13 17:35:53,369 - app.services.bedrock_service - INFO - [classify_173552066] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by businesses for marketing and promotion.', 'category': 'advertising'}, Time: 1.302s
2025-08-13 17:35:53,370 - app.services.bedrock_service - INFO - [classify_173552066] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.",
  "category": "advertising"
}
2025-08-13 17:35:53,375 - app.services.bedrock_service - INFO - [classify_173553375] Starting transaction classification - Data: {'date': '2025-06-24', 'description': '{"date": "", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:58,135 - app.services.bedrock_service - ERROR - [classify_173553375] Classification failed after 4.760s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:35:58,143 - app.services.bedrock_service - INFO - [classify_173558143] Starting transaction classification - Data: {'date': '2025-06-24', 'description': '{"date": "", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:36:09,539 - app.services.bedrock_service - INFO - [classify_173558143] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work", "category": "income"}
2025-08-13 17:36:09,540 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}
2025-08-13 17:36:09,541 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-13 17:36:09,541 - app.services.bedrock_service - INFO - [classify_173558143] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}, Time: 11.398s
2025-08-13 17:36:09,541 - app.services.bedrock_service - INFO - [classify_173558143] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-13 17:36:09,543 - app.services.bedrock_service - INFO - [classify_173609543] Starting transaction classification - Data: {'date': '2025-06-25', 'description': '{"date": "", "description": "Google Ads", "amount": -133.65, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:36:13,961 - app.services.bedrock_service - ERROR - [classify_173609543] Classification failed after 4.417s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:36:13,969 - app.services.bedrock_service - INFO - [classify_173613968] Starting transaction classification - Data: {'date': '2025-06-25', 'description': '{"date": "", "description": "PayPal Fee", "amount": -42.00, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:36:19,556 - app.services.bedrock_service - INFO - [classify_173613968] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.", "category": "business_fees"}
2025-08-13 17:36:19,558 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}
2025-08-13 17:36:19,558 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-13 17:36:19,559 - app.services.bedrock_service - INFO - [classify_173613968] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}, Time: 5.590s
2025-08-13 17:36:19,560 - app.services.bedrock_service - INFO - [classify_173613968] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-13 17:36:19,570 - app.services.bedrock_service - INFO - [classify_173619570] Starting transaction classification - Data: {'date': '2025-06-25', 'description': '{"date": "", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:36:30,495 - app.services.bedrock_service - INFO - [classify_173619570] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payout from Stripe likely related to freelance work", "category": "income"}
2025-08-13 17:36:30,496 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payout from Stripe likely related to freelance work', 'category': 'income'}
2025-08-13 17:36:30,497 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payout from Stripe likely related to freelance work",
  "category": "income"
}
2025-08-13 17:36:30,498 - app.services.bedrock_service - INFO - [classify_173619570] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payout from Stripe likely related to freelance work', 'category': 'income'}, Time: 10.928s
2025-08-13 17:36:30,499 - app.services.bedrock_service - INFO - [classify_173619570] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payout from Stripe likely related to freelance work",
  "category": "income"
}
2025-08-13 17:36:30,505 - app.services.bedrock_service - INFO - [classify_173630505] Starting transaction classification - Data: {'date': '2025-06-25', 'description': '{"date": "", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:36:42,845 - app.services.bedrock_service - INFO - [classify_173630505] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.8, "reasoning": "TransferWise is a money transfer service, likely for personal use", "category": "money_transfer"}
2025-08-13 17:36:42,847 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.8, 'reasoning': 'TransferWise is a money transfer service, likely for personal use', 'category': 'money_transfer'}
2025-08-13 17:36:42,847 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service, likely for personal use",
  "category": "money_transfer"
}
2025-08-13 17:36:42,848 - app.services.bedrock_service - INFO - [classify_173630505] Classification completed successfully - Result: {'classification': 'personal', 'confidence': 0.8, 'reasoning': 'TransferWise is a money transfer service, likely for personal use', 'category': 'money_transfer'}, Time: 12.342s
2025-08-13 17:36:42,848 - app.services.bedrock_service - INFO - [classify_173630505] Parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service, likely for personal use",
  "category": "money_transfer"
}
2025-08-13 17:36:42,850 - app.services.bedrock_service - INFO - [classify_173642850] Starting transaction classification - Data: {'date': '2025-06-26', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -616.07, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:36:48,746 - app.services.bedrock_service - ERROR - [classify_173642850] Classification failed after 5.896s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:36:48,754 - app.services.bedrock_service - INFO - [classify_173648754] Starting transaction classification - Data: {'date': '2025-06-26', 'description': '{"date": "", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:36:55,035 - app.services.bedrock_service - INFO - [classify_173648754] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.8, "reasoning": "TransferWise is a money transfer service, likely for personal use", "category": "money_transfer"}
2025-08-13 17:36:55,037 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.8, 'reasoning': 'TransferWise is a money transfer service, likely for personal use', 'category': 'money_transfer'}
2025-08-13 17:36:55,038 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service, likely for personal use",
  "category": "money_transfer"
}
2025-08-13 17:36:55,039 - app.services.bedrock_service - INFO - [classify_173648754] Classification completed successfully - Result: {'classification': 'personal', 'confidence': 0.8, 'reasoning': 'TransferWise is a money transfer service, likely for personal use', 'category': 'money_transfer'}, Time: 6.285s
2025-08-13 17:36:55,039 - app.services.bedrock_service - INFO - [classify_173648754] Parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service, likely for personal use",
  "category": "money_transfer"
}
2025-08-13 17:36:55,048 - app.services.bedrock_service - INFO - [classify_173655048] Starting transaction classification - Data: {'date': '2025-06-26', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:36:59,381 - app.services.bedrock_service - ERROR - [classify_173655048] Classification failed after 4.332s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:36:59,386 - app.services.bedrock_service - INFO - [classify_173659386] Starting transaction classification - Data: {'date': '2025-06-28', 'description': '{"date": "", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:37:09,776 - app.services.bedrock_service - INFO - [classify_173659386] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.8, "reasoning": "TransferWise is a money transfer service, likely for personal use", "category": "money_transfer"}
2025-08-13 17:37:09,776 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.8, 'reasoning': 'TransferWise is a money transfer service, likely for personal use', 'category': 'money_transfer'}
2025-08-13 17:37:09,777 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service, likely for personal use",
  "category": "money_transfer"
}
2025-08-13 17:37:09,778 - app.services.bedrock_service - INFO - [classify_173659386] Classification completed successfully - Result: {'classification': 'personal', 'confidence': 0.8, 'reasoning': 'TransferWise is a money transfer service, likely for personal use', 'category': 'money_transfer'}, Time: 10.392s
2025-08-13 17:37:09,779 - app.services.bedrock_service - INFO - [classify_173659386] Parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service, likely for personal use",
  "category": "money_transfer"
}
2025-08-13 17:37:09,793 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 45, Errors: 0, Time: 319.47s
2025-08-13 17:37:09,794 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] PDF processing completed - Result: {'processed_count': 45, 'transactions': [{'id': '51ade348-d62b-48f4-9ec8-96e3f6ce717e', 'date': '2025-06-01', 'description': '{"date": "", "description": "Adobe CC", "amount": -1253.63, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software'}, {'id': '203b8973-990e-4c5e-b918-3d6c27de5544', 'date': '2025-06-01', 'description': '{"date": "", "description": "Amazon Web Services", "amount": -494.93, "currency": "GBP", "merchant": "Amazon Web Services"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'software'}, {'id': 'bbec8d01-3247-4a44-a13d-94b70c3df35c', 'date': '2025-06-02', 'description': '{"date": "", "description": "PayPal Fee", "amount": -146.20, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'business_fees'}, {'id': 'f43022e1-708f-410a-8ed9-2006bf338475', 'date': '2025-06-02', 'description': '{"date": "", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '9c60777c-2ec5-4158-bd91-f337d28fef3d', 'date': '2025-06-06', 'description': '{"date": "", "description": "Adobe CC", "amount": -687.09, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software'}, {'id': '8bbc76a4-865f-4af4-a890-d486c4b219da', 'date': '2025-06-06', 'description': '{"date": "", "description": "Zoom Subscription", "amount": -1380.44, "currency": "GBP", "merchant": "Zoom"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'f08b46a0-67ce-4652-8ca4-009bf6b35f8c', 'date': '2025-06-07', 'description': '{"date": "", "description": "Adobe CC", "amount": 214.51, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software'}, {'id': 'd5a8f7ab-2774-4329-83a3-c8c3fd7a8671', 'date': '2025-06-07', 'description': '{"date": "", "description": "Client Refund", "amount": 1003.31, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'income'}, {'id': '856db4ac-6d97-4a28-976f-70d45e01849e', 'date': '2025-06-07', 'description': '{"date": "", "description": "Costa Coffee", "amount": -1156.58, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '2d60f88d-c3a5-4c45-b9bd-73f683a3e468', 'date': '2025-06-07', 'description': '{"date": "", "description": "TFL Travel", "amount": -1470.87, "currency": "GBP", "merchant": "TFL"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'travel'}, {'id': '51c9d737-da4b-4a10-ad20-05a505b8a729', 'date': '2025-06-08', 'description': '{"date": "", "description": "HMRC Payment", "amount": -386.26, "currency": "GBP", "merchant": "HMRC"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'taxes'}, {'id': '6c92ceef-ed2d-4429-94a1-2af2769a2eed', 'date': '2025-06-09', 'description': '{"date": "", "description": "Adobe CC", "amount": -123.63, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'bc4fd064-8198-4b34-b728-d6ec53841c4a', 'date': '2025-06-09', 'description': '{"date": "", "description": "Github", "amount": -888.70, "currency": "GBP", "merchant": "Github"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software'}, {'id': '28687dae-93a1-4374-ac76-7d49b6c1aeff', 'date': '2025-06-09', 'description': '{"date": "", "description": "Github", "amount": -1099.51, "currency": "GBP", "merchant": "Github"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '2621c85d-e483-474f-bff7-8fc99fceea2e', 'date': '2025-06-09', 'description': '{"date": "", "description": "PayPal Fee", "amount": 140.94, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'business_fees'}, {'id': 'bfa7d6ba-bbe7-43b8-97aa-cf2c2d618877', 'date': '2025-06-10', 'description': '{"date": "", "description": "Google Ads", "amount": -919.83, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'advertising'}, {'id': '77039af8-6ea8-4fc9-83df-1ac372c97e38', 'date': '2025-06-10', 'description': '{"date": "", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': 'f3c019cd-7b3e-486a-88bd-4540729ffddb', 'date': '2025-06-12', 'description': '{"date": "", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '5ffc4c50-4fb8-4993-babe-08ca142477ae', 'date': '2025-06-13', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -598.34, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'banking_fees'}, {'id': 'd82c383d-8a6e-4892-9677-be438d18de3a', 'date': '2025-06-14', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -120.37, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'b6c6df6b-b913-40d0-ad67-fa4bde183a3a', 'date': '2025-06-14', 'description': '{"date": "", "description": "Costa Coffee", "amount": -957.21, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.9, 'category': 'meals'}, {'id': '69f205f2-7e5f-4118-834d-adc01153f239', 'date': '2025-06-14', 'description': '{"date": "", "description": "Stripe Payout", "amount": 165.97, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '5e55f4d6-2ed9-46bc-b45f-4eafc78fa27b', 'date': '2025-06-16', 'description': '{"date": "", "description": "TransferWise", "amount": 160.48, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'financial_services'}, {'id': '27d8d8aa-0361-459f-85b3-28e21d3dc353', 'date': '2025-06-17', 'description': '{"date": "", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '0a3f09be-2c11-4166-b4cf-1a18bdef275b', 'date': '2025-06-18', 'description': '{"date": "", "description": "Amazon Web Services", "amount": -1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software'}, {'id': '78a251a9-00c2-4ec5-ae6d-c3304336e77c', 'date': '2025-06-18', 'description': '{"date": "", "description": "Late Fee", "amount": -1495.34, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.9, 'category': 'fees'}, {'id': '28d4df33-7dcd-4a90-81d8-4cc9ae73ff73', 'date': '2025-06-18', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 122.51, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '7f753fbb-d48f-48e9-b7b4-c9d23780e275', 'date': '2025-06-18', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': 'a4d6371c-be1a-4a02-8684-a7941dae5bc7', 'date': '2025-06-19', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -1013.75, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '31422da6-c379-4cbd-a133-e73764318b4f', 'date': '2025-06-19', 'description': '{"date": "", "description": "TFL Travel", "amount": -663.95, "currency": "GBP", "merchant": "TFL"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'travel'}, {'id': '77329799-652b-4946-ad2a-52953ffd4060', 'date': '2025-06-20', 'description': '{"date": "", "description": "Costa Coffee", "amount": -1089.18, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '07f96420-44a2-4919-b3f4-64694b7f555a', 'date': '2025-06-22', 'description': '{"date": "", "description": "Google Ads", "amount": -221.47, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'advertising'}, {'id': 'b10bcfc1-0d72-4363-9be3-f330b88009f7', 'date': '2025-06-22', 'description': '{"date": "", "description": "Google Ads", "amount": -392.83, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '29500ee5-e4aa-4f77-bd7b-e62291a8b20f', 'date': '2025-06-23', 'description': '{"date": "", "description": "PayPal Fee", "amount": -370.99, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '27f4838b-62e4-45cf-abd9-f9121fdbaffc', 'date': '2025-06-24', 'description': '{"date": "", "description": "Google Ads", "amount": -652.07, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'advertising'}, {'id': '6c16b361-9046-42c7-b0bc-3c975e4bc317', 'date': '2025-06-24', 'description': '{"date": "", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '614a79ed-fd58-441e-9720-754a90d30f05', 'date': '2025-06-24', 'description': '{"date": "", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': 'd20df506-425d-4347-9372-a4c974ed4c4c', 'date': '2025-06-25', 'description': '{"date": "", "description": "Google Ads", "amount": -133.65, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'b45db656-ef4c-4cb9-989a-cd7e9e16e599', 'date': '2025-06-25', 'description': '{"date": "", "description": "PayPal Fee", "amount": -42.00, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'business_fees'}, {'id': '4ad1a83b-ed2c-4523-a93d-1d248317ac69', 'date': '2025-06-25', 'description': '{"date": "", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': 'de7035f2-322d-4a7a-b11b-2cd652afe539', 'date': '2025-06-25', 'description': '{"date": "", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.8, 'category': 'money_transfer'}, {'id': 'eba2779d-765e-41be-ad86-03445fe2e3d1', 'date': '2025-06-26', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -616.07, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'ff13db81-cdb4-46e1-a91b-234f004e94e3', 'date': '2025-06-26', 'description': '{"date": "", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.8, 'category': 'money_transfer'}, {'id': '34a12a3f-5fdd-4ad9-9866-be13f5c7091f', 'date': '2025-06-26', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '935e635c-79b8-4c79-b938-9b08ccac15be', 'date': '2025-06-28', 'description': '{"date": "", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.8, 'category': 'money_transfer'}], 'errors': [], 'processing_time': 319.47365}
2025-08-13 17:37:09,794 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] File processing completed successfully - Processing time: 319.48s, Transactions processed: 45
2025-08-14 16:39:17,882 - app.main - INFO - 🛑 Application shutting down...
2025-08-14 16:41:22,385 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-14 16:41:22,427 - app.main - INFO - Database tables created/verified
2025-08-14 16:41:22,428 - app.main - INFO - CORS middleware configured
2025-08-14 16:41:22,433 - app.main - INFO - API routers included
2025-08-14 16:41:22,434 - app.main - INFO - 🚀 Application starting up...
2025-08-14 16:41:22,434 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-14 16:41:22,434 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-14 16:41:22,434 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-14 16:41:22,434 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-14 16:41:22,434 - app.main - INFO - ✅ Application startup complete
2025-08-14 16:42:35,116 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-14 16:42:35,501 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-14 16:42:48,130 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] Starting file upload - User: 8b43cd5c-1bfc-4483-ab59-423b6ad0abf2, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-14 16:42:48,130 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-14 16:42:48,131 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] File type validation passed
2025-08-14 16:42:48,131 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] Reading file content for size validation
2025-08-14 16:42:48,131 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] File content read - Size: 4422 bytes
2025-08-14 16:42:48,131 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] File size validation passed
2025-08-14 16:42:48,131 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] Initializing services
2025-08-14 16:42:48,131 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-14 16:42:48,140 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-14 16:42:48,140 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] Services initialized successfully
2025-08-14 16:42:48,141 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] Processing file with extension: pdf
2025-08-14 16:42:48,141 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] Processing PDF file
2025-08-14 16:42:48,141 - app.services.transaction_service - INFO - Starting PDF processing for user 8b43cd5c-1bfc-4483-ab59-423b6ad0abf2
2025-08-14 16:42:48,141 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-14 16:42:48,141 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-14 16:42:48,143 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-14 16:42:48,153 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-14 16:42:48,153 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-14 16:42:48,154 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-14 16:42:48,154 - app.services.bedrock_service - INFO - [extract_164248154] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-14 16:43:25,661 - app.services.bedrock_service - INFO - [extract_164248154] Raw Bedrock text response:
[
  {"date": "2025-06-01", "description": "Adobe CC", "amount": -1253.63, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-01", "description": "Amazon Web Services", "amount": -494.93, "currency": "GBP", "merchant": "Amazon Web Services"},
  {"date": "2025-06-02", "description": "PayPal Fee", "amount": -146.2, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-06", "description": "Adobe CC", "amount": -687.09, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-06", "description": "Zoom Subscription", "amount": -1380.44, "currency": "GBP", "merchant": "Zoom"},
  {"date": "2025-06-07", "description": "Adobe CC", "amount": 214.51, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP"},
  {"date": "2025-06-07", "description": "Costa Coffee", "amount": -1156.58, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-07", "description": "TFL Travel", "amount": -1470.87, "currency": "GBP", "merchant": "TFL"},
  {"date": "2025-06-08", "description": "HMRC Payment", "amount": -386.26, "currency": "GBP", "merchant": "HMRC"},
  {"date": "2025-06-09", "description": "Adobe CC", "amount": -123.63, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-09", "description": "Github", "amount": -888.7, "currency": "GBP", "merchant": "Github"},
  {"date": "2025-06-09", "description": "Github", "amount": -1099.51, "currency": "GBP", "merchant": "Github"},
  {"date": "2025-06-09", "description": "PayPal Fee", "amount": 140.94, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-10", "description": "Google Ads", "amount": -919.83, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP"},
  {"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": -598.34, "currency": "GBP"},
  {"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": -120.37, "currency": "GBP"},
  {"date": "2025-06-14", "description": "Costa Coffee", "amount": -957.21, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-14", "description": "Stripe Payout", "amount": 165.97, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-16", "description": "TransferWise", "amount": 160.48, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-18", "description": "Amazon Web Services", "amount": -1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},
  {"date": "2025-06-18", "description": "Late Fee", "amount": -1495.34, "currency": "GBP"},
  {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 122.51, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": -1013.75, "currency": "GBP"},
  {"date": "2025-06-19", "description": "TFL Travel", "amount": -663.95, "currency": "GBP", "merchant": "TFL"},
  {"date": "2025-06-20", "description": "Costa Coffee", "amount": -1089.18, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-22", "description": "Google Ads", "amount": -221.47, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-22", "description": "Google Ads", "amount": -392.83, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-23", "description": "PayPal Fee", "amount": -370.99, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-24", "description": "Google Ads", "amount": -652.07, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-25", "description": "Google Ads", "amount": -133.65, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-25", "description": "PayPal Fee", "amount": -42.0, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": -616.07, "currency": "GBP"},
  {"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "
2025-08-14 16:43:25,662 - app.services.bedrock_service - INFO - Parsing transaction extraction response: [
  {"date": "2025-06-01", "description": "Adobe CC", "amount": -1253.63, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-01", "description": "Amazon Web Services", "amount": -494.93, "currency": "GBP", "merchant": "Amazon Web Services"},
  {"date": "2025-06-02", "description": "PayPal Fee", "amount": -146.2, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-06", "description": "Adobe CC", "amount": -687.09, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-06", "description": "Zoom Subscription", "amount": -1380.44, "currency": "GBP", "merchant": "Zoom"},
  {"date": "2025-06-07", "description": "Adobe CC", "amount": 214.51, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP"},
  {"date": "2025-06-07", "description": "Costa Coffee", "amount": -1156.58, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-07", "description": "TFL Travel", "amount": -1470.87, "currency": "GBP", "merchant": "TFL"},
  {"date": "2025-06-08", "description": "HMRC Payment", "amount": -386.26, "currency": "GBP", "merchant": "HMRC"},
  {"date": "2025-06-09", "description": "Adobe CC", "amount": -123.63, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-09", "description": "Github", "amount": -888.7, "currency": "GBP", "merchant": "Github"},
  {"date": "2025-06-09", "description": "Github", "amount": -1099.51, "currency": "GBP", "merchant": "Github"},
  {"date": "2025-06-09", "description": "PayPal Fee", "amount": 140.94, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-10", "description": "Google Ads", "amount": -919.83, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP"},
  {"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": -598.34, "currency": "GBP"},
  {"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": -120.37, "currency": "GBP"},
  {"date": "2025-06-14", "description": "Costa Coffee", "amount": -957.21, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-14", "description": "Stripe Payout", "amount": 165.97, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-16", "description": "TransferWise", "amount": 160.48, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-18", "description": "Amazon Web Services", "amount": -1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},
  {"date": "2025-06-18", "description": "Late Fee", "amount": -1495.34, "currency": "GBP"},
  {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 122.51, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": -1013.75, "currency": "GBP"},
  {"date": "2025-06-19", "description": "TFL Travel", "amount": -663.95, "currency": "GBP", "merchant": "TFL"},
  {"date": "2025-06-20", "description": "Costa Coffee", "amount": -1089.18, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-22", "description": "Google Ads", "amount": -221.47, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-22", "description": "Google Ads", "amount": -392.83, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-23", "description": "PayPal Fee", "amount": -370.99, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-24", "description": "Google Ads", "amount": -652.07, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-25", "description": "Google Ads", "amount": -133.65, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-25", "description": "PayPal Fee", "amount": -42.0, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": -616.07, "currency": "GBP"},
  {"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "
2025-08-14 16:43:25,665 - app.services.bedrock_service - WARNING - Strategy 2 failed - JSON decode error: Extra data: line 1 column 113 (char 112)
2025-08-14 16:43:25,666 - app.services.bedrock_service - INFO - Strategy 3 successful - Manually extracted 45 transactions
2025-08-14 16:43:25,666 - app.services.bedrock_service - INFO - Final validated transactions: [
  {
    "date": "2025-06-01",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -1253.63, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-01",
    "description": "{\"date\": \"\", \"description\": \"Amazon Web Services\", \"amount\": -494.93, \"currency\": \"GBP\", \"merchant\": \"Amazon Web Services\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -146.2, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 281.48, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -687.09, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{\"date\": \"\", \"description\": \"Zoom Subscription\", \"amount\": -1380.44, \"currency\": \"GBP\", \"merchant\": \"Zoom\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": 214.51, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Client Refund\", \"amount\": 1003.31, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -1156.58, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"TFL Travel\", \"amount\": -1470.87, \"currency\": \"GBP\", \"merchant\": \"TFL\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-08",
    "description": "{\"date\": \"\", \"description\": \"HMRC Payment\", \"amount\": -386.26, \"currency\": \"GBP\", \"merchant\": \"HMRC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -123.63, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Github\", \"amount\": -888.7, \"currency\": \"GBP\", \"merchant\": \"Github\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Github\", \"amount\": -1099.51, \"currency\": \"GBP\", \"merchant\": \"Github\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": 140.94, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -919.83, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 1377.52, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-12",
    "description": "{\"date\": \"\", \"description\": \"Freelancer Income\", \"amount\": 937.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-13",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -598.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -120.37, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -957.21, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 165.97, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-16",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 160.48, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-17",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 1325.16, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Amazon Web Services\", \"amount\": -1155.33, \"currency\": \"GBP\", \"merchant\": \"Amazon Web Services\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Late Fee\", \"amount\": -1495.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 122.51, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 1016.92, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -1013.75, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{\"date\": \"\", \"description\": \"TFL Travel\", \"amount\": -663.95, \"currency\": \"GBP\", \"merchant\": \"TFL\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-20",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -1089.18, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -221.47, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -392.83, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-23",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -370.99, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -652.07, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 401.21, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 471.83, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -133.65, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -42.0, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 619.82, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 1061.66, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -616.07, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 257.68, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 266.17, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-28",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 394.26, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  }
]
2025-08-14 16:43:25,666 - app.services.bedrock_service - INFO - [extract_164248154] PDF extraction completed successfully - Transactions found: 45, Time: 37.512s
2025-08-14 16:43:25,667 - app.services.bedrock_service - INFO - [extract_164248154] Parsed transactions: [
  {
    "date": "2025-06-01",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -1253.63, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-01",
    "description": "{\"date\": \"\", \"description\": \"Amazon Web Services\", \"amount\": -494.93, \"currency\": \"GBP\", \"merchant\": \"Amazon Web Services\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -146.2, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 281.48, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -687.09, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{\"date\": \"\", \"description\": \"Zoom Subscription\", \"amount\": -1380.44, \"currency\": \"GBP\", \"merchant\": \"Zoom\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": 214.51, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Client Refund\", \"amount\": 1003.31, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -1156.58, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"TFL Travel\", \"amount\": -1470.87, \"currency\": \"GBP\", \"merchant\": \"TFL\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-08",
    "description": "{\"date\": \"\", \"description\": \"HMRC Payment\", \"amount\": -386.26, \"currency\": \"GBP\", \"merchant\": \"HMRC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -123.63, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Github\", \"amount\": -888.7, \"currency\": \"GBP\", \"merchant\": \"Github\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Github\", \"amount\": -1099.51, \"currency\": \"GBP\", \"merchant\": \"Github\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": 140.94, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -919.83, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 1377.52, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-12",
    "description": "{\"date\": \"\", \"description\": \"Freelancer Income\", \"amount\": 937.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-13",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -598.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -120.37, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -957.21, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 165.97, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-16",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 160.48, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-17",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 1325.16, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Amazon Web Services\", \"amount\": -1155.33, \"currency\": \"GBP\", \"merchant\": \"Amazon Web Services\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Late Fee\", \"amount\": -1495.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 122.51, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 1016.92, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -1013.75, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{\"date\": \"\", \"description\": \"TFL Travel\", \"amount\": -663.95, \"currency\": \"GBP\", \"merchant\": \"TFL\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-20",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -1089.18, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -221.47, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -392.83, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-23",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -370.99, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -652.07, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 401.21, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 471.83, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -133.65, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -42.0, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 619.82, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 1061.66, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -616.07, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 257.68, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 266.17, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-28",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 394.26, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  }
]
2025-08-14 16:43:25,667 - app.services.transaction_service - INFO - Transactions extracted from PDF: 45 found
2025-08-14 16:43:25,667 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-14 16:43:25,667 - app.services.bedrock_service - INFO - [classify_164325667] Starting transaction classification - Data: {'date': '2025-06-01', 'description': '{"date": "", "description": "Adobe CC", "amount": -1253.63, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:43:26,910 - app.services.bedrock_service - INFO - [classify_164325667] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work", "category": "software"}
2025-08-14 16:43:26,911 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}
2025-08-14 16:43:26,911 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-14 16:43:26,912 - app.services.bedrock_service - INFO - [classify_164325667] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}, Time: 1.244s
2025-08-14 16:43:26,912 - app.services.bedrock_service - INFO - [classify_164325667] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-14 16:43:26,939 - app.services.bedrock_service - INFO - [classify_164326939] Starting transaction classification - Data: {'date': '2025-06-01', 'description': '{"date": "", "description": "Amazon Web Services", "amount": -494.93, "currency": "GBP", "merchant": "Amazon Web Services"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:43:27,972 - app.services.bedrock_service - INFO - [classify_164326939] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Cloud computing services are a common business expense for freelancers and consultants", "category": "software"}
2025-08-14 16:43:27,973 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Cloud computing services are a common business expense for freelancers and consultants', 'category': 'software'}
2025-08-14 16:43:27,973 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Cloud computing services are a common business expense for freelancers and consultants",
  "category": "software"
}
2025-08-14 16:43:27,973 - app.services.bedrock_service - INFO - [classify_164326939] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Cloud computing services are a common business expense for freelancers and consultants', 'category': 'software'}, Time: 1.034s
2025-08-14 16:43:27,974 - app.services.bedrock_service - INFO - [classify_164326939] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Cloud computing services are a common business expense for freelancers and consultants",
  "category": "software"
}
2025-08-14 16:43:27,984 - app.services.bedrock_service - INFO - [classify_164327984] Starting transaction classification - Data: {'date': '2025-06-02', 'description': '{"date": "", "description": "PayPal Fee", "amount": -146.2, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:43:29,648 - app.services.bedrock_service - INFO - [classify_164327984] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.", "category": "business_fees"}
2025-08-14 16:43:29,648 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}
2025-08-14 16:43:29,648 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-14 16:43:29,648 - app.services.bedrock_service - INFO - [classify_164327984] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}, Time: 1.664s
2025-08-14 16:43:29,649 - app.services.bedrock_service - INFO - [classify_164327984] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-14 16:43:29,650 - app.services.bedrock_service - INFO - [classify_164329650] Starting transaction classification - Data: {'date': '2025-06-02', 'description': '{"date": "", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:43:30,905 - app.services.bedrock_service - INFO - [classify_164329650] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work", "category": "income"}
2025-08-14 16:43:30,906 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}
2025-08-14 16:43:30,906 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:43:30,907 - app.services.bedrock_service - INFO - [classify_164329650] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}, Time: 1.256s
2025-08-14 16:43:30,907 - app.services.bedrock_service - INFO - [classify_164329650] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:43:30,912 - app.services.bedrock_service - INFO - [classify_164330912] Starting transaction classification - Data: {'date': '2025-06-06', 'description': '{"date": "", "description": "Adobe CC", "amount": -687.09, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:43:32,211 - app.services.bedrock_service - INFO - [classify_164330912] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work", "category": "software"}
2025-08-14 16:43:32,211 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}
2025-08-14 16:43:32,211 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-14 16:43:32,211 - app.services.bedrock_service - INFO - [classify_164330912] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}, Time: 1.299s
2025-08-14 16:43:32,211 - app.services.bedrock_service - INFO - [classify_164330912] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-14 16:43:32,214 - app.services.bedrock_service - INFO - [classify_164332214] Starting transaction classification - Data: {'date': '2025-06-06', 'description': '{"date": "", "description": "Zoom Subscription", "amount": -1380.44, "currency": "GBP", "merchant": "Zoom"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:43:45,109 - app.services.bedrock_service - INFO - [classify_164332214] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Zoom subscription is a common business expense for freelancers and consultants for video conferencing and online meetings.", "category": "software"}
2025-08-14 16:43:45,109 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Zoom subscription is a common business expense for freelancers and consultants for video conferencing and online meetings.', 'category': 'software'}
2025-08-14 16:43:45,110 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Zoom subscription is a common business expense for freelancers and consultants for video conferencing and online meetings.",
  "category": "software"
}
2025-08-14 16:43:45,110 - app.services.bedrock_service - INFO - [classify_164332214] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Zoom subscription is a common business expense for freelancers and consultants for video conferencing and online meetings.', 'category': 'software'}, Time: 12.896s
2025-08-14 16:43:45,110 - app.services.bedrock_service - INFO - [classify_164332214] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Zoom subscription is a common business expense for freelancers and consultants for video conferencing and online meetings.",
  "category": "software"
}
2025-08-14 16:43:45,118 - app.services.bedrock_service - INFO - [classify_164345118] Starting transaction classification - Data: {'date': '2025-06-07', 'description': '{"date": "", "description": "Adobe CC", "amount": 214.51, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:43:51,572 - app.services.bedrock_service - INFO - [classify_164345118] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work", "category": "software"}
2025-08-14 16:43:51,573 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}
2025-08-14 16:43:51,573 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-14 16:43:51,573 - app.services.bedrock_service - INFO - [classify_164345118] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}, Time: 6.455s
2025-08-14 16:43:51,573 - app.services.bedrock_service - INFO - [classify_164345118] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-14 16:43:51,575 - app.services.bedrock_service - INFO - [classify_164351575] Starting transaction classification - Data: {'date': '2025-06-07', 'description': '{"date": "", "description": "Client Refund", "amount": 1003.31, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:43:59,976 - app.services.bedrock_service - ERROR - [classify_164351575] Classification failed after 8.400s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:44:00,011 - app.services.bedrock_service - INFO - [classify_164400011] Starting transaction classification - Data: {'date': '2025-06-07', 'description': '{"date": "", "description": "Costa Coffee", "amount": -1156.58, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:44:03,134 - app.services.bedrock_service - INFO - [classify_164400011] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.9, "reasoning": "Coffee purchase from a cafe is typically a personal expense", "category": "meals"}
2025-08-14 16:44:03,135 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Coffee purchase from a cafe is typically a personal expense', 'category': 'meals'}
2025-08-14 16:44:03,136 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Coffee purchase from a cafe is typically a personal expense",
  "category": "meals"
}
2025-08-14 16:44:03,136 - app.services.bedrock_service - INFO - [classify_164400011] Classification completed successfully - Result: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Coffee purchase from a cafe is typically a personal expense', 'category': 'meals'}, Time: 3.125s
2025-08-14 16:44:03,137 - app.services.bedrock_service - INFO - [classify_164400011] Parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Coffee purchase from a cafe is typically a personal expense",
  "category": "meals"
}
2025-08-14 16:44:03,145 - app.services.bedrock_service - INFO - [classify_164403145] Starting transaction classification - Data: {'date': '2025-06-07', 'description': '{"date": "", "description": "TFL Travel", "amount": -1470.87, "currency": "GBP", "merchant": "TFL"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:44:11,124 - app.services.bedrock_service - ERROR - [classify_164403145] Classification failed after 7.979s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:44:11,131 - app.services.bedrock_service - INFO - [classify_164411131] Starting transaction classification - Data: {'date': '2025-06-08', 'description': '{"date": "", "description": "HMRC Payment", "amount": -386.26, "currency": "GBP", "merchant": "HMRC"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:44:17,929 - app.services.bedrock_service - INFO - [classify_164411131] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payment to HMRC (UK tax authority) is likely a business expense for self-employment taxes or VAT", "category": "taxes"}
2025-08-14 16:44:17,930 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payment to HMRC (UK tax authority) is likely a business expense for self-employment taxes or VAT', 'category': 'taxes'}
2025-08-14 16:44:17,931 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment to HMRC (UK tax authority) is likely a business expense for self-employment taxes or VAT",
  "category": "taxes"
}
2025-08-14 16:44:17,931 - app.services.bedrock_service - INFO - [classify_164411131] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payment to HMRC (UK tax authority) is likely a business expense for self-employment taxes or VAT', 'category': 'taxes'}, Time: 6.800s
2025-08-14 16:44:17,931 - app.services.bedrock_service - INFO - [classify_164411131] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment to HMRC (UK tax authority) is likely a business expense for self-employment taxes or VAT",
  "category": "taxes"
}
2025-08-14 16:44:17,957 - app.services.bedrock_service - INFO - [classify_164417957] Starting transaction classification - Data: {'date': '2025-06-09', 'description': '{"date": "", "description": "Adobe CC", "amount": -123.63, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:44:24,604 - app.services.bedrock_service - ERROR - [classify_164417957] Classification failed after 6.646s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:44:24,615 - app.services.bedrock_service - INFO - [classify_164424615] Starting transaction classification - Data: {'date': '2025-06-09', 'description': '{"date": "", "description": "Github", "amount": -888.7, "currency": "GBP", "merchant": "Github"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:44:27,832 - app.services.bedrock_service - INFO - [classify_164424615] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "GitHub is a platform for hosting and collaborating on code repositories, which is essential for software development work.", "category": "software"}
2025-08-14 16:44:27,833 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'GitHub is a platform for hosting and collaborating on code repositories, which is essential for software development work.', 'category': 'software'}
2025-08-14 16:44:27,833 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "GitHub is a platform for hosting and collaborating on code repositories, which is essential for software development work.",
  "category": "software"
}
2025-08-14 16:44:27,833 - app.services.bedrock_service - INFO - [classify_164424615] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'GitHub is a platform for hosting and collaborating on code repositories, which is essential for software development work.', 'category': 'software'}, Time: 3.218s
2025-08-14 16:44:27,833 - app.services.bedrock_service - INFO - [classify_164424615] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "GitHub is a platform for hosting and collaborating on code repositories, which is essential for software development work.",
  "category": "software"
}
2025-08-14 16:44:27,837 - app.services.bedrock_service - INFO - [classify_164427837] Starting transaction classification - Data: {'date': '2025-06-09', 'description': '{"date": "", "description": "Github", "amount": -1099.51, "currency": "GBP", "merchant": "Github"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:44:35,176 - app.services.bedrock_service - ERROR - [classify_164427837] Classification failed after 7.339s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:44:35,192 - app.services.bedrock_service - INFO - [classify_164435192] Starting transaction classification - Data: {'date': '2025-06-09', 'description': '{"date": "", "description": "PayPal Fee", "amount": 140.94, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:44:42,731 - app.services.bedrock_service - INFO - [classify_164435192] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.", "category": "business_fees"}
2025-08-14 16:44:42,734 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}
2025-08-14 16:44:42,735 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-14 16:44:42,735 - app.services.bedrock_service - INFO - [classify_164435192] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}, Time: 7.542s
2025-08-14 16:44:42,735 - app.services.bedrock_service - INFO - [classify_164435192] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-14 16:44:42,753 - app.services.bedrock_service - INFO - [classify_164442753] Starting transaction classification - Data: {'date': '2025-06-10', 'description': '{"date": "", "description": "Google Ads", "amount": -919.83, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:44:51,412 - app.services.bedrock_service - INFO - [classify_164442753] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and customer acquisition.", "category": "advertising"}
2025-08-14 16:44:51,414 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by businesses for marketing and customer acquisition.', 'category': 'advertising'}
2025-08-14 16:44:51,415 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and customer acquisition.",
  "category": "advertising"
}
2025-08-14 16:44:51,415 - app.services.bedrock_service - INFO - [classify_164442753] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by businesses for marketing and customer acquisition.', 'category': 'advertising'}, Time: 8.661s
2025-08-14 16:44:51,415 - app.services.bedrock_service - INFO - [classify_164442753] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and customer acquisition.",
  "category": "advertising"
}
2025-08-14 16:44:51,469 - app.services.bedrock_service - INFO - [classify_164451469] Starting transaction classification - Data: {'date': '2025-06-10', 'description': '{"date": "", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:45:04,609 - app.services.bedrock_service - INFO - [classify_164451469] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are typically for business income from freelance or consulting work", "category": "income"}
2025-08-14 16:45:04,611 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelance or consulting work', 'category': 'income'}
2025-08-14 16:45:04,612 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelance or consulting work",
  "category": "income"
}
2025-08-14 16:45:04,612 - app.services.bedrock_service - INFO - [classify_164451469] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelance or consulting work', 'category': 'income'}, Time: 13.143s
2025-08-14 16:45:04,613 - app.services.bedrock_service - INFO - [classify_164451469] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelance or consulting work",
  "category": "income"
}
2025-08-14 16:45:04,629 - app.services.bedrock_service - INFO - [classify_164504629] Starting transaction classification - Data: {'date': '2025-06-12', 'description': '{"date": "", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:45:08,092 - app.services.bedrock_service - ERROR - [classify_164504629] Classification failed after 3.463s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:45:08,134 - app.services.bedrock_service - INFO - [classify_164508134] Starting transaction classification - Data: {'date': '2025-06-13', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -598.34, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:45:10,952 - app.services.bedrock_service - ERROR - [classify_164508134] Classification failed after 2.815s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:45:11,023 - app.services.bedrock_service - INFO - [classify_164511023] Starting transaction classification - Data: {'date': '2025-06-14', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -120.37, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:45:14,866 - app.services.bedrock_service - INFO - [classify_164511023] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Account maintenance fees are typically business expenses for freelancers and consultants.", "category": "banking_fees"}
2025-08-14 16:45:14,872 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Account maintenance fees are typically business expenses for freelancers and consultants.', 'category': 'banking_fees'}
2025-08-14 16:45:14,873 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Account maintenance fees are typically business expenses for freelancers and consultants.",
  "category": "banking_fees"
}
2025-08-14 16:45:14,873 - app.services.bedrock_service - INFO - [classify_164511023] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Account maintenance fees are typically business expenses for freelancers and consultants.', 'category': 'banking_fees'}, Time: 3.849s
2025-08-14 16:45:14,873 - app.services.bedrock_service - INFO - [classify_164511023] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Account maintenance fees are typically business expenses for freelancers and consultants.",
  "category": "banking_fees"
}
2025-08-14 16:45:14,901 - app.services.bedrock_service - INFO - [classify_164514901] Starting transaction classification - Data: {'date': '2025-06-14', 'description': '{"date": "", "description": "Costa Coffee", "amount": -957.21, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:45:19,092 - app.services.bedrock_service - ERROR - [classify_164514901] Classification failed after 4.191s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:45:19,095 - app.services.bedrock_service - INFO - [classify_164519095] Starting transaction classification - Data: {'date': '2025-06-14', 'description': '{"date": "", "description": "Stripe Payout", "amount": 165.97, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:45:27,820 - app.services.bedrock_service - INFO - [classify_164519095] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work", "category": "income"}
2025-08-14 16:45:27,821 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}
2025-08-14 16:45:27,822 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:45:27,823 - app.services.bedrock_service - INFO - [classify_164519095] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}, Time: 8.727s
2025-08-14 16:45:27,823 - app.services.bedrock_service - INFO - [classify_164519095] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:45:27,891 - app.services.bedrock_service - INFO - [classify_164527891] Starting transaction classification - Data: {'date': '2025-06-16', 'description': '{"date": "", "description": "TransferWise", "amount": 160.48, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:45:34,721 - app.services.bedrock_service - ERROR - [classify_164527891] Classification failed after 6.830s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:45:34,729 - app.services.bedrock_service - INFO - [classify_164534729] Starting transaction classification - Data: {'date': '2025-06-17', 'description': '{"date": "", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:45:39,915 - app.services.bedrock_service - INFO - [classify_164534729] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work", "category": "income"}
2025-08-14 16:45:39,915 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}
2025-08-14 16:45:39,915 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:45:39,916 - app.services.bedrock_service - INFO - [classify_164534729] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}, Time: 5.187s
2025-08-14 16:45:39,917 - app.services.bedrock_service - INFO - [classify_164534729] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:45:39,925 - app.services.bedrock_service - INFO - [classify_164539924] Starting transaction classification - Data: {'date': '2025-06-18', 'description': '{"date": "", "description": "Amazon Web Services", "amount": -1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:45:46,693 - app.services.bedrock_service - ERROR - [classify_164539924] Classification failed after 6.768s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:45:46,705 - app.services.bedrock_service - INFO - [classify_164546705] Starting transaction classification - Data: {'date': '2025-06-18', 'description': '{"date": "", "description": "Late Fee", "amount": -1495.34, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:45:52,487 - app.services.bedrock_service - INFO - [classify_164546705] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.9, "reasoning": "Late fees are typically personal expenses related to missed payments or penalties.", "category": "fees"}
2025-08-14 16:45:52,488 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Late fees are typically personal expenses related to missed payments or penalties.', 'category': 'fees'}
2025-08-14 16:45:52,489 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Late fees are typically personal expenses related to missed payments or penalties.",
  "category": "fees"
}
2025-08-14 16:45:52,489 - app.services.bedrock_service - INFO - [classify_164546705] Classification completed successfully - Result: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Late fees are typically personal expenses related to missed payments or penalties.', 'category': 'fees'}, Time: 5.784s
2025-08-14 16:45:52,490 - app.services.bedrock_service - INFO - [classify_164546705] Parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Late fees are typically personal expenses related to missed payments or penalties.",
  "category": "fees"
}
2025-08-14 16:45:52,496 - app.services.bedrock_service - INFO - [classify_164552496] Starting transaction classification - Data: {'date': '2025-06-18', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 122.51, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:45:58,111 - app.services.bedrock_service - ERROR - [classify_164552496] Classification failed after 5.615s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:45:58,129 - app.services.bedrock_service - INFO - [classify_164558129] Starting transaction classification - Data: {'date': '2025-06-18', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:46:04,172 - app.services.bedrock_service - INFO - [classify_164558129] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payment received from Upwork for freelance work", "category": "income"}
2025-08-14 16:46:04,173 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payment received from Upwork for freelance work', 'category': 'income'}
2025-08-14 16:46:04,173 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment received from Upwork for freelance work",
  "category": "income"
}
2025-08-14 16:46:04,173 - app.services.bedrock_service - INFO - [classify_164558129] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payment received from Upwork for freelance work', 'category': 'income'}, Time: 6.044s
2025-08-14 16:46:04,174 - app.services.bedrock_service - INFO - [classify_164558129] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment received from Upwork for freelance work",
  "category": "income"
}
2025-08-14 16:46:04,180 - app.services.bedrock_service - INFO - [classify_164604180] Starting transaction classification - Data: {'date': '2025-06-19', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -1013.75, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:46:13,180 - app.services.bedrock_service - ERROR - [classify_164604180] Classification failed after 8.999s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:46:13,204 - app.services.bedrock_service - INFO - [classify_164613204] Starting transaction classification - Data: {'date': '2025-06-19', 'description': '{"date": "", "description": "TFL Travel", "amount": -663.95, "currency": "GBP", "merchant": "TFL"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:46:16,269 - app.services.bedrock_service - INFO - [classify_164613204] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Travel expense for business-related transportation", "category": "travel"}
2025-08-14 16:46:16,270 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Travel expense for business-related transportation', 'category': 'travel'}
2025-08-14 16:46:16,271 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Travel expense for business-related transportation",
  "category": "travel"
}
2025-08-14 16:46:16,272 - app.services.bedrock_service - INFO - [classify_164613204] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Travel expense for business-related transportation', 'category': 'travel'}, Time: 3.067s
2025-08-14 16:46:16,272 - app.services.bedrock_service - INFO - [classify_164613204] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Travel expense for business-related transportation",
  "category": "travel"
}
2025-08-14 16:46:16,278 - app.services.bedrock_service - INFO - [classify_164616278] Starting transaction classification - Data: {'date': '2025-06-20', 'description': '{"date": "", "description": "Costa Coffee", "amount": -1089.18, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:46:25,822 - app.services.bedrock_service - ERROR - [classify_164616278] Classification failed after 9.543s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:46:25,828 - app.services.bedrock_service - INFO - [classify_164625828] Starting transaction classification - Data: {'date': '2025-06-22', 'description': '{"date": "", "description": "Google Ads", "amount": -221.47, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:46:30,780 - app.services.bedrock_service - INFO - [classify_164625828] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising platform used by freelancers and businesses for marketing and client acquisition.", "category": "advertising"}
2025-08-14 16:46:30,781 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by freelancers and businesses for marketing and client acquisition.', 'category': 'advertising'}
2025-08-14 16:46:30,782 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by freelancers and businesses for marketing and client acquisition.",
  "category": "advertising"
}
2025-08-14 16:46:30,782 - app.services.bedrock_service - INFO - [classify_164625828] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by freelancers and businesses for marketing and client acquisition.', 'category': 'advertising'}, Time: 4.954s
2025-08-14 16:46:30,783 - app.services.bedrock_service - INFO - [classify_164625828] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by freelancers and businesses for marketing and client acquisition.",
  "category": "advertising"
}
2025-08-14 16:46:30,789 - app.services.bedrock_service - INFO - [classify_164630789] Starting transaction classification - Data: {'date': '2025-06-22', 'description': '{"date": "", "description": "Google Ads", "amount": -392.83, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:46:44,625 - app.services.bedrock_service - INFO - [classify_164630789] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.", "category": "advertising"}
2025-08-14 16:46:44,629 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by businesses for marketing and promotion.', 'category': 'advertising'}
2025-08-14 16:46:44,630 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.",
  "category": "advertising"
}
2025-08-14 16:46:44,631 - app.services.bedrock_service - INFO - [classify_164630789] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by businesses for marketing and promotion.', 'category': 'advertising'}, Time: 13.840s
2025-08-14 16:46:44,631 - app.services.bedrock_service - INFO - [classify_164630789] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.",
  "category": "advertising"
}
2025-08-14 16:46:44,649 - app.services.bedrock_service - INFO - [classify_164644649] Starting transaction classification - Data: {'date': '2025-06-23', 'description': '{"date": "", "description": "PayPal Fee", "amount": -370.99, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:46:49,249 - app.services.bedrock_service - ERROR - [classify_164644649] Classification failed after 4.600s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:46:49,257 - app.services.bedrock_service - INFO - [classify_164649257] Starting transaction classification - Data: {'date': '2025-06-24', 'description': '{"date": "", "description": "Google Ads", "amount": -652.07, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:46:54,093 - app.services.bedrock_service - INFO - [classify_164649257] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.", "category": "advertising"}
2025-08-14 16:46:54,094 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by businesses for marketing and promotion.', 'category': 'advertising'}
2025-08-14 16:46:54,095 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.",
  "category": "advertising"
}
2025-08-14 16:46:54,096 - app.services.bedrock_service - INFO - [classify_164649257] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by businesses for marketing and promotion.', 'category': 'advertising'}, Time: 4.838s
2025-08-14 16:46:54,096 - app.services.bedrock_service - INFO - [classify_164649257] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.",
  "category": "advertising"
}
2025-08-14 16:46:54,103 - app.services.bedrock_service - INFO - [classify_164654103] Starting transaction classification - Data: {'date': '2025-06-24', 'description': '{"date": "", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:47:05,663 - app.services.bedrock_service - INFO - [classify_164654103] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work", "category": "income"}
2025-08-14 16:47:05,664 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}
2025-08-14 16:47:05,664 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:47:05,665 - app.services.bedrock_service - INFO - [classify_164654103] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}, Time: 11.561s
2025-08-14 16:47:05,665 - app.services.bedrock_service - INFO - [classify_164654103] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:47:05,670 - app.services.bedrock_service - INFO - [classify_164705670] Starting transaction classification - Data: {'date': '2025-06-24', 'description': '{"date": "", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:47:18,209 - app.services.bedrock_service - INFO - [classify_164705670] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work", "category": "income"}
2025-08-14 16:47:18,211 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}
2025-08-14 16:47:18,212 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:47:18,213 - app.services.bedrock_service - INFO - [classify_164705670] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}, Time: 12.542s
2025-08-14 16:47:18,213 - app.services.bedrock_service - INFO - [classify_164705670] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:47:18,225 - app.services.bedrock_service - INFO - [classify_164718225] Starting transaction classification - Data: {'date': '2025-06-25', 'description': '{"date": "", "description": "Google Ads", "amount": -133.65, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:47:32,445 - app.services.bedrock_service - INFO - [classify_164718225] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising platform used by freelancers and businesses for marketing purposes", "category": "advertising"}
2025-08-14 16:47:32,446 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by freelancers and businesses for marketing purposes', 'category': 'advertising'}
2025-08-14 16:47:32,447 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by freelancers and businesses for marketing purposes",
  "category": "advertising"
}
2025-08-14 16:47:32,448 - app.services.bedrock_service - INFO - [classify_164718225] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by freelancers and businesses for marketing purposes', 'category': 'advertising'}, Time: 14.222s
2025-08-14 16:47:32,448 - app.services.bedrock_service - INFO - [classify_164718225] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by freelancers and businesses for marketing purposes",
  "category": "advertising"
}
2025-08-14 16:47:32,455 - app.services.bedrock_service - INFO - [classify_164732455] Starting transaction classification - Data: {'date': '2025-06-25', 'description': '{"date": "", "description": "PayPal Fee", "amount": -42.0, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:47:45,855 - app.services.bedrock_service - INFO - [classify_164732455] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.", "category": "business_fees"}
2025-08-14 16:47:45,856 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}
2025-08-14 16:47:45,857 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-14 16:47:45,857 - app.services.bedrock_service - INFO - [classify_164732455] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}, Time: 13.402s
2025-08-14 16:47:45,858 - app.services.bedrock_service - INFO - [classify_164732455] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-14 16:47:45,864 - app.services.bedrock_service - INFO - [classify_164745864] Starting transaction classification - Data: {'date': '2025-06-25', 'description': '{"date": "", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:47:55,813 - app.services.bedrock_service - INFO - [classify_164745864] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work", "category": "income"}
2025-08-14 16:47:55,814 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}
2025-08-14 16:47:55,815 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:47:55,815 - app.services.bedrock_service - INFO - [classify_164745864] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}, Time: 9.951s
2025-08-14 16:47:55,816 - app.services.bedrock_service - INFO - [classify_164745864] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:47:55,821 - app.services.bedrock_service - INFO - [classify_164755821] Starting transaction classification - Data: {'date': '2025-06-25', 'description': '{"date": "", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:47:58,718 - app.services.bedrock_service - ERROR - [classify_164755821] Classification failed after 2.896s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:47:58,726 - app.services.bedrock_service - INFO - [classify_164758726] Starting transaction classification - Data: {'date': '2025-06-26', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -616.07, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:48:05,901 - app.services.bedrock_service - INFO - [classify_164758726] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.9, "reasoning": "Account maintenance fees are typically personal banking fees", "category": "banking_fees"}
2025-08-14 16:48:05,902 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Account maintenance fees are typically personal banking fees', 'category': 'banking_fees'}
2025-08-14 16:48:05,903 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Account maintenance fees are typically personal banking fees",
  "category": "banking_fees"
}
2025-08-14 16:48:05,904 - app.services.bedrock_service - INFO - [classify_164758726] Classification completed successfully - Result: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Account maintenance fees are typically personal banking fees', 'category': 'banking_fees'}, Time: 7.177s
2025-08-14 16:48:05,904 - app.services.bedrock_service - INFO - [classify_164758726] Parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Account maintenance fees are typically personal banking fees",
  "category": "banking_fees"
}
2025-08-14 16:48:05,918 - app.services.bedrock_service - INFO - [classify_164805917] Starting transaction classification - Data: {'date': '2025-06-26', 'description': '{"date": "", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:48:11,078 - app.services.bedrock_service - ERROR - [classify_164805917] Classification failed after 5.160s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:48:11,084 - app.services.bedrock_service - INFO - [classify_164811084] Starting transaction classification - Data: {'date': '2025-06-26', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:48:13,616 - app.services.bedrock_service - ERROR - [classify_164811084] Classification failed after 2.532s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:48:13,624 - app.services.bedrock_service - INFO - [classify_164813624] Starting transaction classification - Data: {'date': '2025-06-28', 'description': '{"date": "", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:48:16,191 - app.services.bedrock_service - INFO - [classify_164813624] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.8, "reasoning": "TransferWise is a money transfer service, likely for personal use", "category": "money_transfer"}
2025-08-14 16:48:16,192 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.8, 'reasoning': 'TransferWise is a money transfer service, likely for personal use', 'category': 'money_transfer'}
2025-08-14 16:48:16,192 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service, likely for personal use",
  "category": "money_transfer"
}
2025-08-14 16:48:16,192 - app.services.bedrock_service - INFO - [classify_164813624] Classification completed successfully - Result: {'classification': 'personal', 'confidence': 0.8, 'reasoning': 'TransferWise is a money transfer service, likely for personal use', 'category': 'money_transfer'}, Time: 2.568s
2025-08-14 16:48:16,193 - app.services.bedrock_service - INFO - [classify_164813624] Parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service, likely for personal use",
  "category": "money_transfer"
}
2025-08-14 16:48:16,201 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 45, Errors: 0, Time: 328.06s
2025-08-14 16:48:16,202 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] PDF processing completed - Result: {'processed_count': 45, 'transactions': [{'id': 'bbb0ddc5-c210-4fe0-a8d8-8ab9fd324b93', 'date': '2025-06-01', 'description': '{"date": "", "description": "Adobe CC", "amount": -1253.63, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software'}, {'id': '95160ffb-fe47-4147-b9f7-91f03bfcf1b6', 'date': '2025-06-01', 'description': '{"date": "", "description": "Amazon Web Services", "amount": -494.93, "currency": "GBP", "merchant": "Amazon Web Services"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'software'}, {'id': '5bef95cb-dd9e-49bb-835a-cb51e7846ff2', 'date': '2025-06-02', 'description': '{"date": "", "description": "PayPal Fee", "amount": -146.2, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'business_fees'}, {'id': '8901f891-9963-415e-b480-3326c5117e43', 'date': '2025-06-02', 'description': '{"date": "", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': 'df5d633a-8419-4b1a-8022-26184feef937', 'date': '2025-06-06', 'description': '{"date": "", "description": "Adobe CC", "amount": -687.09, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software'}, {'id': '0059a8e0-54f3-4c92-9e8d-f24b99fcc516', 'date': '2025-06-06', 'description': '{"date": "", "description": "Zoom Subscription", "amount": -1380.44, "currency": "GBP", "merchant": "Zoom"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'software'}, {'id': 'a5ae3fbf-e8c4-4939-bd2d-4d7b564011b4', 'date': '2025-06-07', 'description': '{"date": "", "description": "Adobe CC", "amount": 214.51, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software'}, {'id': '89895db5-8d69-44d0-918c-1edf5c85ec1a', 'date': '2025-06-07', 'description': '{"date": "", "description": "Client Refund", "amount": 1003.31, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '15f11386-3668-466e-b7c1-02bbd65aec69', 'date': '2025-06-07', 'description': '{"date": "", "description": "Costa Coffee", "amount": -1156.58, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.9, 'category': 'meals'}, {'id': 'de6c1aaf-3e6a-49aa-b313-5923405dcd7b', 'date': '2025-06-07', 'description': '{"date": "", "description": "TFL Travel", "amount": -1470.87, "currency": "GBP", "merchant": "TFL"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '4b74fcff-ad24-48dd-8029-69deba5df562', 'date': '2025-06-08', 'description': '{"date": "", "description": "HMRC Payment", "amount": -386.26, "currency": "GBP", "merchant": "HMRC"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'taxes'}, {'id': 'a871aa79-47a5-48e9-b285-24085748be53', 'date': '2025-06-09', 'description': '{"date": "", "description": "Adobe CC", "amount": -123.63, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '797974cc-ce2e-4f3d-8e1f-3ba52196370a', 'date': '2025-06-09', 'description': '{"date": "", "description": "Github", "amount": -888.7, "currency": "GBP", "merchant": "Github"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software'}, {'id': '56a727d1-b3fa-4102-abc7-735aea1d1b28', 'date': '2025-06-09', 'description': '{"date": "", "description": "Github", "amount": -1099.51, "currency": "GBP", "merchant": "Github"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '8db3a3fc-921c-449c-b951-f1b1d9917633', 'date': '2025-06-09', 'description': '{"date": "", "description": "PayPal Fee", "amount": 140.94, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'business_fees'}, {'id': 'a78a9040-4236-4339-aa2f-c89d317f31fe', 'date': '2025-06-10', 'description': '{"date": "", "description": "Google Ads", "amount": -919.83, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'advertising'}, {'id': 'ee30e3d9-cc6f-45b3-803e-08d5c7c66db2', 'date': '2025-06-10', 'description': '{"date": "", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '49382525-e171-4862-a315-72e5d9f3d77b', 'date': '2025-06-12', 'description': '{"date": "", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '54e550b7-d9ee-4db9-9a18-0e0b0dd31677', 'date': '2025-06-13', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -598.34, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '93ea01ae-b88a-4ed9-818d-4163a7bfd478', 'date': '2025-06-14', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -120.37, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'banking_fees'}, {'id': 'ea310205-c968-4e6a-96b1-1dac06d6d5ad', 'date': '2025-06-14', 'description': '{"date": "", "description": "Costa Coffee", "amount": -957.21, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '68c8153d-acee-439c-b9cc-8711b94c2be1', 'date': '2025-06-14', 'description': '{"date": "", "description": "Stripe Payout", "amount": 165.97, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '563dfcde-3804-41d4-b5bd-bdda528b7f2b', 'date': '2025-06-16', 'description': '{"date": "", "description": "TransferWise", "amount": 160.48, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'a3e0f638-9b1b-41da-b601-e692ca4cc85a', 'date': '2025-06-17', 'description': '{"date": "", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '7592beb3-7a91-4b70-ab9a-afcf28763fcd', 'date': '2025-06-18', 'description': '{"date": "", "description": "Amazon Web Services", "amount": -1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'a4b3d1ed-d0fd-4744-b28c-5bdf4d2e29e5', 'date': '2025-06-18', 'description': '{"date": "", "description": "Late Fee", "amount": -1495.34, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.9, 'category': 'fees'}, {'id': '14f720c8-bcfc-4eeb-92da-b9e8add85ebb', 'date': '2025-06-18', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 122.51, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '40bc68c3-1f20-43af-b542-87db0226a97f', 'date': '2025-06-18', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '1b3b401c-b59d-4397-a625-a1a3a83ef270', 'date': '2025-06-19', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -1013.75, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '9dfe401f-8559-45f5-b6ce-28090bc0c13e', 'date': '2025-06-19', 'description': '{"date": "", "description": "TFL Travel", "amount": -663.95, "currency": "GBP", "merchant": "TFL"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'travel'}, {'id': '22edbe39-3fdf-4634-b4d7-a4f8cff68e23', 'date': '2025-06-20', 'description': '{"date": "", "description": "Costa Coffee", "amount": -1089.18, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '7794de35-a498-477f-b823-e5efffe634c8', 'date': '2025-06-22', 'description': '{"date": "", "description": "Google Ads", "amount": -221.47, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'advertising'}, {'id': 'f2587ac8-716d-49dd-96d0-bc158798dd6a', 'date': '2025-06-22', 'description': '{"date": "", "description": "Google Ads", "amount": -392.83, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'advertising'}, {'id': '3cd3bd21-11c2-434f-be7c-78a74c669e1f', 'date': '2025-06-23', 'description': '{"date": "", "description": "PayPal Fee", "amount": -370.99, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '116dd865-9cd6-4238-b8bb-9b15874bf582', 'date': '2025-06-24', 'description': '{"date": "", "description": "Google Ads", "amount": -652.07, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'advertising'}, {'id': 'd5de54ae-f00e-4e3a-a765-987c69d0e01d', 'date': '2025-06-24', 'description': '{"date": "", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '1f60df9f-6cb4-473c-a946-0d97b605258f', 'date': '2025-06-24', 'description': '{"date": "", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': 'eedc381e-ac1c-46da-af45-5dead1f6aa3a', 'date': '2025-06-25', 'description': '{"date": "", "description": "Google Ads", "amount": -133.65, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'advertising'}, {'id': 'c4c5da20-d222-4eaf-bc5e-9bec60276dc6', 'date': '2025-06-25', 'description': '{"date": "", "description": "PayPal Fee", "amount": -42.0, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'business_fees'}, {'id': '93c2d3a5-f270-4f5c-84e3-cb0a921e332e', 'date': '2025-06-25', 'description': '{"date": "", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': 'e52f1ee3-ce9c-463d-83b1-2d8919d84c68', 'date': '2025-06-25', 'description': '{"date": "", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '21cf97ca-5e5b-4b7c-a9fb-97c51be8e083', 'date': '2025-06-26', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -616.07, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.9, 'category': 'banking_fees'}, {'id': '9413a5f7-8b4a-49ec-b320-cbf326cd5d36', 'date': '2025-06-26', 'description': '{"date": "", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '460560b6-b91d-46c4-964d-2c2fc79f4945', 'date': '2025-06-26', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '42817ead-592b-43b1-badd-e3b84b2b99ae', 'date': '2025-06-28', 'description': '{"date": "", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.8, 'category': 'money_transfer'}], 'errors': [], 'processing_time': 328.060111}
2025-08-14 16:48:16,203 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] File processing completed successfully - Processing time: 328.06s, Transactions processed: 45
2025-08-14 16:48:16,323 - app.main - INFO - 🛑 Application shutting down...
2025-08-14 16:48:17,244 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-14 16:48:17,259 - app.main - INFO - Database tables created/verified
2025-08-14 16:48:17,259 - app.main - INFO - CORS middleware configured
2025-08-14 16:48:17,262 - app.main - INFO - API routers included
2025-08-14 16:48:17,263 - app.main - INFO - 🚀 Application starting up...
2025-08-14 16:48:17,263 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-14 16:48:17,263 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-14 16:48:17,263 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-14 16:48:17,264 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-14 16:48:17,264 - app.main - INFO - ✅ Application startup complete
2025-08-15 12:06:25,681 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 12:06:28,243 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 12:06:28,281 - app.main - INFO - Database tables created/verified
2025-08-15 12:06:28,281 - app.main - INFO - CORS middleware configured
2025-08-15 12:06:28,285 - app.main - INFO - API routers included
2025-08-15 12:06:28,285 - app.main - INFO - 🚀 Application starting up...
2025-08-15 12:06:28,286 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 12:06:28,286 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 12:06:28,286 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 12:06:28,286 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 12:06:28,286 - app.main - INFO - ✅ Application startup complete
2025-08-15 12:07:09,282 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 12:07:09,488 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 12:07:17,840 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 12:07:17,842 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 12:07:33,176 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] Starting file upload - User: 8b43cd5c-1bfc-4483-ab59-423b6ad0abf2, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-15 12:07:33,176 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-15 12:07:33,177 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] File type validation passed
2025-08-15 12:07:33,177 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] Reading file content for size validation
2025-08-15 12:07:33,177 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] File content read - Size: 4422 bytes
2025-08-15 12:07:33,177 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] File size validation passed
2025-08-15 12:07:33,178 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] Initializing services
2025-08-15 12:07:33,178 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 12:07:33,184 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 12:07:33,185 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] Services initialized successfully
2025-08-15 12:07:33,185 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] Processing file with extension: pdf
2025-08-15 12:07:33,186 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] Processing PDF file
2025-08-15 12:07:33,186 - app.services.transaction_service - INFO - Starting PDF processing for user 8b43cd5c-1bfc-4483-ab59-423b6ad0abf2
2025-08-15 12:07:33,186 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-15 12:07:33,187 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-15 12:07:33,189 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-15 12:07:33,195 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-15 12:07:33,196 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-15 12:07:33,196 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-15 12:07:33,196 - app.services.bedrock_service - INFO - [extract_120733196] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-15 12:08:08,486 - app.services.bedrock_service - INFO - [extract_120733196] Raw Bedrock text response:
[{"date": "2025-06-01", "description": "Adobe CC", "amount": -1253.63, "currency": "GBP", "merchant": "Adobe"}, {"date": "2025-06-01", "description": "Amazon Web Services", "amount": -494.93, "currency": "GBP", "merchant": "Amazon Web Services"}, {"date": "2025-06-02", "description": "PayPal Fee", "amount": -146.2, "currency": "GBP", "merchant": "PayPal"}, {"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-06", "description": "Adobe CC", "amount": -687.09, "currency": "GBP", "merchant": "Adobe"}, {"date": "2025-06-06", "description": "Zoom Subscription", "amount": -1380.44, "currency": "GBP", "merchant": "Zoom"}, {"date": "2025-06-07", "description": "Adobe CC", "amount": 214.51, "currency": "GBP", "merchant": "Adobe"}, {"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP"}, {"date": "2025-06-07", "description": "Costa Coffee", "amount": -1156.58, "currency": "GBP", "merchant": "Costa Coffee"}, {"date": "2025-06-07", "description": "TFL Travel", "amount": -1470.87, "currency": "GBP", "merchant": "TFL"}, {"date": "2025-06-08", "description": "HMRC Payment", "amount": -386.26, "currency": "GBP", "merchant": "HMRC"}, {"date": "2025-06-09", "description": "Adobe CC", "amount": -123.63, "currency": "GBP", "merchant": "Adobe"}, {"date": "2025-06-09", "description": "Github", "amount": -888.7, "currency": "GBP", "merchant": "Github"}, {"date": "2025-06-09", "description": "Github", "amount": -1099.51, "currency": "GBP", "merchant": "Github"}, {"date": "2025-06-09", "description": "PayPal Fee", "amount": 140.94, "currency": "GBP", "merchant": "PayPal"}, {"date": "2025-06-10", "description": "Google Ads", "amount": -919.83, "currency": "GBP", "merchant": "Google"}, {"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP"}, {"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": -598.34, "currency": "GBP"}, {"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": -120.37, "currency": "GBP"}, {"date": "2025-06-14", "description": "Costa Coffee", "amount": -957.21, "currency": "GBP", "merchant": "Costa Coffee"}, {"date": "2025-06-14", "description": "Stripe Payout", "amount": 165.97, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-16", "description": "TransferWise", "amount": 160.48, "currency": "GBP", "merchant": "TransferWise"}, {"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-18", "description": "Amazon Web Services", "amount": -1155.33, "currency": "GBP", "merchant": "Amazon Web Services"}, {"date": "2025-06-18", "description": "Late Fee", "amount": -1495.34, "currency": "GBP"}, {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 122.51, "currency": "GBP", "merchant": "Upwork Ltd"}, {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork Ltd"}, {"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": -1013.75, "currency": "GBP"}, {"date": "2025-06-19", "description": "TFL Travel", "amount": -663.95, "currency": "GBP", "merchant": "TFL"}, {"date": "2025-06-20", "description": "Costa Coffee", "amount": -1089.18, "currency": "GBP", "merchant": "Costa Coffee"}, {"date": "2025-06-22", "description": "Google Ads", "amount": -221.47, "currency": "GBP", "merchant": "Google"}, {"date": "2025-06-22", "description": "Google Ads", "amount": -392.83, "currency": "GBP", "merchant": "Google"}, {"date": "2025-06-23", "description": "PayPal Fee", "amount": -370.99, "currency": "GBP", "merchant": "PayPal"}, {"date": "2025-06-24", "description": "Google Ads", "amount": -652.07, "currency": "GBP", "merchant": "Google"}, {"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-25", "description": "Google Ads", "amount": -133.65, "currency": "GBP", "merchant": "Google"}, {"date": "2025-06-25", "description": "PayPal Fee", "amount": -42.0, "currency": "GBP", "merchant": "PayPal"}, {"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"}, {"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": -616.07, "currency": "GBP"}, {"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"}, {"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork Ltd"}, {"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"}, {"date": "2025-06-29", "description": "Costa Coffee", "amount": -587.33, "currency": "GBP", "merchant": "Costa Coffee"}, {"date": "2025-06-29", "description": "TransferWise", "amount":
2025-08-15 12:08:08,487 - app.services.bedrock_service - INFO - Parsing transaction extraction response: [{"date": "2025-06-01", "description": "Adobe CC", "amount": -1253.63, "currency": "GBP", "merchant": "Adobe"}, {"date": "2025-06-01", "description": "Amazon Web Services", "amount": -494.93, "currency": "GBP", "merchant": "Amazon Web Services"}, {"date": "2025-06-02", "description": "PayPal Fee", "amount": -146.2, "currency": "GBP", "merchant": "PayPal"}, {"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-06", "description": "Adobe CC", "amount": -687.09, "currency": "GBP", "merchant": "Adobe"}, {"date": "2025-06-06", "description": "Zoom Subscription", "amount": -1380.44, "currency": "GBP", "merchant": "Zoom"}, {"date": "2025-06-07", "description": "Adobe CC", "amount": 214.51, "currency": "GBP", "merchant": "Adobe"}, {"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP"}, {"date": "2025-06-07", "description": "Costa Coffee", "amount": -1156.58, "currency": "GBP", "merchant": "Costa Coffee"}, {"date": "2025-06-07", "description": "TFL Travel", "amount": -1470.87, "currency": "GBP", "merchant": "TFL"}, {"date": "2025-06-08", "description": "HMRC Payment", "amount": -386.26, "currency": "GBP", "merchant": "HMRC"}, {"date": "2025-06-09", "description": "Adobe CC", "amount": -123.63, "currency": "GBP", "merchant": "Adobe"}, {"date": "2025-06-09", "description": "Github", "amount": -888.7, "currency": "GBP", "merchant": "Github"}, {"date": "2025-06-09", "description": "Github", "amount": -1099.51, "currency": "GBP", "merchant": "Github"}, {"date": "2025-06-09", "description": "PayPal Fee", "amount": 140.94, "currency": "GBP", "merchant": "PayPal"}, {"date": "2025-06-10", "description": "Google Ads", "amount": -919.83, "currency": "GBP", "merchant": "Google"}, {"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP"}, {"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": -598.34, "currency": "GBP"}, {"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": -120.37, "currency": "GBP"}, {"date": "2025-06-14", "description": "Costa Coffee", "amount": -957.21, "currency": "GBP", "merchant": "Costa Coffee"}, {"date": "2025-06-14", "description": "Stripe Payout", "amount": 165.97, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-16", "description": "TransferWise", "amount": 160.48, "currency": "GBP", "merchant": "TransferWise"}, {"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-18", "description": "Amazon Web Services", "amount": -1155.33, "currency": "GBP", "merchant": "Amazon Web Services"}, {"date": "2025-06-18", "description": "Late Fee", "amount": -1495.34, "currency": "GBP"}, {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 122.51, "currency": "GBP", "merchant": "Upwork Ltd"}, {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork Ltd"}, {"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": -1013.75, "currency": "GBP"}, {"date": "2025-06-19", "description": "TFL Travel", "amount": -663.95, "currency": "GBP", "merchant": "TFL"}, {"date": "2025-06-20", "description": "Costa Coffee", "amount": -1089.18, "currency": "GBP", "merchant": "Costa Coffee"}, {"date": "2025-06-22", "description": "Google Ads", "amount": -221.47, "currency": "GBP", "merchant": "Google"}, {"date": "2025-06-22", "description": "Google Ads", "amount": -392.83, "currency": "GBP", "merchant": "Google"}, {"date": "2025-06-23", "description": "PayPal Fee", "amount": -370.99, "currency": "GBP", "merchant": "PayPal"}, {"date": "2025-06-24", "description": "Google Ads", "amount": -652.07, "currency": "GBP", "merchant": "Google"}, {"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-25", "description": "Google Ads", "amount": -133.65, "currency": "GBP", "merchant": "Google"}, {"date": "2025-06-25", "description": "PayPal Fee", "amount": -42.0, "currency": "GBP", "merchant": "PayPal"}, {"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"}, {"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": -616.07, "currency": "GBP"}, {"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"}, {"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork Ltd"}, {"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"}, {"date": "2025-06-29", "description": "Costa Coffee", "amount": -587.33, "currency": "GBP", "merchant": "Costa Coffee"}, {"date": "2025-06-29", "description": "TransferWise", "amount":
2025-08-15 12:08:08,488 - app.services.bedrock_service - WARNING - Strategy 2 failed - JSON decode error: Extra data: line 1 column 110 (char 109)
2025-08-15 12:08:08,489 - app.services.bedrock_service - INFO - Strategy 3 successful - Manually extracted 1 transactions
2025-08-15 12:08:08,489 - app.services.bedrock_service - INFO - Final validated transactions: [
  {
    "date": "2025-06-01",
    "description": "[{date:  description: Adobe CC amount: -1253.63, currency: GBP merchant: Adobe}, {date:  description: Amazon Web Services amount: -494.93, currency: GBP merchant: Amazon Web Services}, {date: -06-02 description: PayPal Fee amount: -146.2, currency: GBP merchant: PayPal}, {date: -06-02 description: Stripe Payout amount: 281.48, currency: GBP merchant: Stripe}, {date: -06-06 description: Adobe CC amount: -687.09, currency: GBP merchant: Adobe}, {date: -06-06 description: Zoom Subscription amount: -1380.44, currency: GBP merchant: Zoom}, {date: -06-07 description: Adobe CC amount: 214.51, currency: GBP merchant: Adobe}, {date: -06-07 description: Client Refund amount: 1003.31, currency: GBP}, {date: -06-07 description: Costa Coffee amount: -1156.58, currency: GBP merchant: Costa Coffee}, {date: -06-07 description: TFL Travel amount: -1470.87, currency: GBP merchant: TFL}, {date: -06-08 description: HMRC Payment amount: -386.26, currency: GBP merchant: HMRC}, {date: -06-09 description: Adobe CC amount: -123.63, currency: GBP merchant: Adobe}, {date: -06-09 description: Github amount: -888.7, currency: GBP merchant: Github}, {date: -06-09 description: Github amount: -1099.51, currency: GBP merchant: Github}, {date: -06-09 description: PayPal Fee amount: 140.94, currency: GBP merchant: PayPal}, {date: -06-10 description: Google Ads amount: -919.83, currency: GBP merchant: Google}, {date: -06-10 description: Stripe Payout amount: 1377.52, currency: GBP merchant: Stripe}, {date: -06-12 description: Freelancer Income amount: 937.34, currency: GBP}, {date: -06-13 description: Account Maintenance Fee amount: -598.34, currency: GBP}, {date: -06-14 description: Account Maintenance Fee amount: -120.37, currency: GBP}, {date: -06-14 description: Costa Coffee amount: -957.21, currency: GBP merchant: Costa Coffee}, {date: -06-14 description: Stripe Payout amount: 165.97, currency: GBP merchant: Stripe}, {date: -06-16 description: TransferWise amount: 160.48, currency: GBP merchant: TransferWise}, {date: -06-17 description: Stripe Payout amount: 1325.16, currency: GBP merchant: Stripe}, {date: -06-18 description: Amazon Web Services amount: -1155.33, currency: GBP merchant: Amazon Web Services}, {date: -06-18 description: Late Fee amount: -1495.34, currency: GBP}, {date: -06-18 description: Upwork Ltd Payment amount: 122.51, currency: GBP merchant: Upwork Ltd}, {date: -06-18 description: Upwork Ltd Payment amount: 1016.92, currency: GBP merchant: Upwork Ltd}, {date: -06-19 description: Account Maintenance Fee amount: -1013.75, currency: GBP}, {date: -06-19 description: TFL Travel amount: -663.95, currency: GBP merchant: TFL}, {date: -06-20 description: Costa Coffee amount: -1089.18, currency: GBP merchant: Costa Coffee}, {date: -06-22 description: Google Ads amount: -221.47, currency: GBP merchant: Google}, {date: -06-22 description: Google Ads amount: -392.83, currency: GBP merchant: Google}, {date: -06-23 description: PayPal Fee amount: -370.99, currency: GBP merchant: PayPal}, {date: -06-24 description: Google Ads amount: -652.07, currency: GBP merchant: Google}, {date: -06-24 description: Stripe Payout amount: 401.21, currency: GBP merchant: Stripe}, {date: -06-24 description: Stripe Payout amount: 471.83, currency: GBP merchant: Stripe}, {date: -06-25 description: Google Ads amount: -133.65, currency: GBP merchant: Google}, {date: -06-25 description: PayPal Fee amount: -42.0, currency: GBP merchant: PayPal}, {date: -06-25 description: Stripe Payout amount: 619.82, currency: GBP merchant: Stripe}, {date: -06-25 description: TransferWise amount: 1061.66, currency: GBP merchant: TransferWise}, {date: -06-26 description: Account Maintenance Fee amount: -616.07, currency: GBP}, {date: -06-26 description: TransferWise amount: 257.68, currency: GBP merchant: TransferWise}, {date: -06-26 description: Upwork Ltd Payment amount: 266.17, currency: GBP merchant: Upwork Ltd}, {date: -06-28 description: TransferWise amount: 394.26, currency: GBP merchant: TransferWise}, {date: -06-29 description: Costa Coffee amount: -587.33, currency: GBP merchant: Costa Coffee}, {date: -06-29 description: TransferWise amount:",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  }
]
2025-08-15 12:08:08,489 - app.services.bedrock_service - INFO - [extract_120733196] PDF extraction completed successfully - Transactions found: 1, Time: 35.293s
2025-08-15 12:08:08,489 - app.services.bedrock_service - INFO - [extract_120733196] Parsed transactions: [
  {
    "date": "2025-06-01",
    "description": "[{date:  description: Adobe CC amount: -1253.63, currency: GBP merchant: Adobe}, {date:  description: Amazon Web Services amount: -494.93, currency: GBP merchant: Amazon Web Services}, {date: -06-02 description: PayPal Fee amount: -146.2, currency: GBP merchant: PayPal}, {date: -06-02 description: Stripe Payout amount: 281.48, currency: GBP merchant: Stripe}, {date: -06-06 description: Adobe CC amount: -687.09, currency: GBP merchant: Adobe}, {date: -06-06 description: Zoom Subscription amount: -1380.44, currency: GBP merchant: Zoom}, {date: -06-07 description: Adobe CC amount: 214.51, currency: GBP merchant: Adobe}, {date: -06-07 description: Client Refund amount: 1003.31, currency: GBP}, {date: -06-07 description: Costa Coffee amount: -1156.58, currency: GBP merchant: Costa Coffee}, {date: -06-07 description: TFL Travel amount: -1470.87, currency: GBP merchant: TFL}, {date: -06-08 description: HMRC Payment amount: -386.26, currency: GBP merchant: HMRC}, {date: -06-09 description: Adobe CC amount: -123.63, currency: GBP merchant: Adobe}, {date: -06-09 description: Github amount: -888.7, currency: GBP merchant: Github}, {date: -06-09 description: Github amount: -1099.51, currency: GBP merchant: Github}, {date: -06-09 description: PayPal Fee amount: 140.94, currency: GBP merchant: PayPal}, {date: -06-10 description: Google Ads amount: -919.83, currency: GBP merchant: Google}, {date: -06-10 description: Stripe Payout amount: 1377.52, currency: GBP merchant: Stripe}, {date: -06-12 description: Freelancer Income amount: 937.34, currency: GBP}, {date: -06-13 description: Account Maintenance Fee amount: -598.34, currency: GBP}, {date: -06-14 description: Account Maintenance Fee amount: -120.37, currency: GBP}, {date: -06-14 description: Costa Coffee amount: -957.21, currency: GBP merchant: Costa Coffee}, {date: -06-14 description: Stripe Payout amount: 165.97, currency: GBP merchant: Stripe}, {date: -06-16 description: TransferWise amount: 160.48, currency: GBP merchant: TransferWise}, {date: -06-17 description: Stripe Payout amount: 1325.16, currency: GBP merchant: Stripe}, {date: -06-18 description: Amazon Web Services amount: -1155.33, currency: GBP merchant: Amazon Web Services}, {date: -06-18 description: Late Fee amount: -1495.34, currency: GBP}, {date: -06-18 description: Upwork Ltd Payment amount: 122.51, currency: GBP merchant: Upwork Ltd}, {date: -06-18 description: Upwork Ltd Payment amount: 1016.92, currency: GBP merchant: Upwork Ltd}, {date: -06-19 description: Account Maintenance Fee amount: -1013.75, currency: GBP}, {date: -06-19 description: TFL Travel amount: -663.95, currency: GBP merchant: TFL}, {date: -06-20 description: Costa Coffee amount: -1089.18, currency: GBP merchant: Costa Coffee}, {date: -06-22 description: Google Ads amount: -221.47, currency: GBP merchant: Google}, {date: -06-22 description: Google Ads amount: -392.83, currency: GBP merchant: Google}, {date: -06-23 description: PayPal Fee amount: -370.99, currency: GBP merchant: PayPal}, {date: -06-24 description: Google Ads amount: -652.07, currency: GBP merchant: Google}, {date: -06-24 description: Stripe Payout amount: 401.21, currency: GBP merchant: Stripe}, {date: -06-24 description: Stripe Payout amount: 471.83, currency: GBP merchant: Stripe}, {date: -06-25 description: Google Ads amount: -133.65, currency: GBP merchant: Google}, {date: -06-25 description: PayPal Fee amount: -42.0, currency: GBP merchant: PayPal}, {date: -06-25 description: Stripe Payout amount: 619.82, currency: GBP merchant: Stripe}, {date: -06-25 description: TransferWise amount: 1061.66, currency: GBP merchant: TransferWise}, {date: -06-26 description: Account Maintenance Fee amount: -616.07, currency: GBP}, {date: -06-26 description: TransferWise amount: 257.68, currency: GBP merchant: TransferWise}, {date: -06-26 description: Upwork Ltd Payment amount: 266.17, currency: GBP merchant: Upwork Ltd}, {date: -06-28 description: TransferWise amount: 394.26, currency: GBP merchant: TransferWise}, {date: -06-29 description: Costa Coffee amount: -587.33, currency: GBP merchant: Costa Coffee}, {date: -06-29 description: TransferWise amount:",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  }
]
2025-08-15 12:08:08,490 - app.services.transaction_service - INFO - Transactions extracted from PDF: 1 found
2025-08-15 12:08:08,490 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-15 12:08:08,490 - app.services.bedrock_service - INFO - [classify_120808490] Starting transaction classification - Data: {'date': '2025-06-01', 'description': '[{date:  description: Adobe CC amount: -1253.63, currency: GBP merchant: Adobe}, {date:  description: Amazon Web Services amount: -494.93, currency: GBP merchant: Amazon Web Services}, {date: -06-02 description: PayPal Fee amount: -146.2, currency: GBP merchant: PayPal}, {date: -06-02 description: Stripe Payout amount: 281.48, currency: GBP merchant: Stripe}, {date: -06-06 description: Adobe CC amount: -687.09, currency: GBP merchant: Adobe}, {date: -06-06 description: Zoom Subscription amount: -1380.44, currency: GBP merchant: Zoom}, {date: -06-07 description: Adobe CC amount: 214.51, currency: GBP merchant: Adobe}, {date: -06-07 description: Client Refund amount: 1003.31, currency: GBP}, {date: -06-07 description: Costa Coffee amount: -1156.58, currency: GBP merchant: Costa Coffee}, {date: -06-07 description: TFL Travel amount: -1470.87, currency: GBP merchant: TFL}, {date: -06-08 description: HMRC Payment amount: -386.26, currency: GBP merchant: HMRC}, {date: -06-09 description: Adobe CC amount: -123.63, currency: GBP merchant: Adobe}, {date: -06-09 description: Github amount: -888.7, currency: GBP merchant: Github}, {date: -06-09 description: Github amount: -1099.51, currency: GBP merchant: Github}, {date: -06-09 description: PayPal Fee amount: 140.94, currency: GBP merchant: PayPal}, {date: -06-10 description: Google Ads amount: -919.83, currency: GBP merchant: Google}, {date: -06-10 description: Stripe Payout amount: 1377.52, currency: GBP merchant: Stripe}, {date: -06-12 description: Freelancer Income amount: 937.34, currency: GBP}, {date: -06-13 description: Account Maintenance Fee amount: -598.34, currency: GBP}, {date: -06-14 description: Account Maintenance Fee amount: -120.37, currency: GBP}, {date: -06-14 description: Costa Coffee amount: -957.21, currency: GBP merchant: Costa Coffee}, {date: -06-14 description: Stripe Payout amount: 165.97, currency: GBP merchant: Stripe}, {date: -06-16 description: TransferWise amount: 160.48, currency: GBP merchant: TransferWise}, {date: -06-17 description: Stripe Payout amount: 1325.16, currency: GBP merchant: Stripe}, {date: -06-18 description: Amazon Web Services amount: -1155.33, currency: GBP merchant: Amazon Web Services}, {date: -06-18 description: Late Fee amount: -1495.34, currency: GBP}, {date: -06-18 description: Upwork Ltd Payment amount: 122.51, currency: GBP merchant: Upwork Ltd}, {date: -06-18 description: Upwork Ltd Payment amount: 1016.92, currency: GBP merchant: Upwork Ltd}, {date: -06-19 description: Account Maintenance Fee amount: -1013.75, currency: GBP}, {date: -06-19 description: TFL Travel amount: -663.95, currency: GBP merchant: TFL}, {date: -06-20 description: Costa Coffee amount: -1089.18, currency: GBP merchant: Costa Coffee}, {date: -06-22 description: Google Ads amount: -221.47, currency: GBP merchant: Google}, {date: -06-22 description: Google Ads amount: -392.83, currency: GBP merchant: Google}, {date: -06-23 description: PayPal Fee amount: -370.99, currency: GBP merchant: PayPal}, {date: -06-24 description: Google Ads amount: -652.07, currency: GBP merchant: Google}, {date: -06-24 description: Stripe Payout amount: 401.21, currency: GBP merchant: Stripe}, {date: -06-24 description: Stripe Payout amount: 471.83, currency: GBP merchant: Stripe}, {date: -06-25 description: Google Ads amount: -133.65, currency: GBP merchant: Google}, {date: -06-25 description: PayPal Fee amount: -42.0, currency: GBP merchant: PayPal}, {date: -06-25 description: Stripe Payout amount: 619.82, currency: GBP merchant: Stripe}, {date: -06-25 description: TransferWise amount: 1061.66, currency: GBP merchant: TransferWise}, {date: -06-26 description: Account Maintenance Fee amount: -616.07, currency: GBP}, {date: -06-26 description: TransferWise amount: 257.68, currency: GBP merchant: TransferWise}, {date: -06-26 description: Upwork Ltd Payment amount: 266.17, currency: GBP merchant: Upwork Ltd}, {date: -06-28 description: TransferWise amount: 394.26, currency: GBP merchant: TransferWise}, {date: -06-29 description: Costa Coffee amount: -587.33, currency: GBP merchant: Costa Coffee}, {date: -06-29 description: TransferWise amount:', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 12:08:10,423 - app.services.bedrock_service - INFO - [classify_120808490] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Most transactions are related to freelancing work, software subscriptions, payment processing fees, and client payments.", "category": "professional_services"}
2025-08-15 12:08:10,424 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Most transactions are related to freelancing work, software subscriptions, payment processing fees, and client payments.', 'category': 'professional_services'}
2025-08-15 12:08:10,424 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Most transactions are related to freelancing work, software subscriptions, payment processing fees, and client payments.",
  "category": "professional_services"
}
2025-08-15 12:08:10,425 - app.services.bedrock_service - INFO - [classify_120808490] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Most transactions are related to freelancing work, software subscriptions, payment processing fees, and client payments.', 'category': 'professional_services'}, Time: 1.934s
2025-08-15 12:08:10,426 - app.services.bedrock_service - INFO - [classify_120808490] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Most transactions are related to freelancing work, software subscriptions, payment processing fees, and client payments.",
  "category": "professional_services"
}
2025-08-15 12:08:10,465 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 1, Errors: 0, Time: 37.28s
2025-08-15 12:08:10,465 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] PDF processing completed - Result: {'processed_count': 1, 'transactions': [{'id': 'ea06b3fc-a0d0-42e2-81e9-0043912cd476', 'date': '2025-06-01', 'description': '[{date:  description: Adobe CC amount: -1253.63, currency: GBP merchant: Adobe}, {date:  description: Amazon Web Services amount: -494.93, currency: GBP merchant: Amazon Web Services}, {date: -06-02 description: PayPal Fee amount: -146.2, currency: GBP merchant: PayPal}, {date: -06-02 description: Stripe Payout amount: 281.48, currency: GBP merchant: Stripe}, {date: -06-06 description: Adobe CC amount: -687.09, currency: GBP merchant: Adobe}, {date: -06-06 description: Zoom Subscription amount: -1380.44, currency: GBP merchant: Zoom}, {date: -06-07 description: Adobe CC amount: 214.51, currency: GBP merchant: Adobe}, {date: -06-07 description: Client Refund amount: 1003.31, currency: GBP}, {date: -06-07 description: Costa Coffee amount: -1156.58, currency: GBP merchant: Costa Coffee}, {date: -06-07 description: TFL Travel amount: -1470.87, currency: GBP merchant: TFL}, {date: -06-08 description: HMRC Payment amount: -386.26, currency: GBP merchant: HMRC}, {date: -06-09 description: Adobe CC amount: -123.63, currency: GBP merchant: Adobe}, {date: -06-09 description: Github amount: -888.7, currency: GBP merchant: Github}, {date: -06-09 description: Github amount: -1099.51, currency: GBP merchant: Github}, {date: -06-09 description: PayPal Fee amount: 140.94, currency: GBP merchant: PayPal}, {date: -06-10 description: Google Ads amount: -919.83, currency: GBP merchant: Google}, {date: -06-10 description: Stripe Payout amount: 1377.52, currency: GBP merchant: Stripe}, {date: -06-12 description: Freelancer Income amount: 937.34, currency: GBP}, {date: -06-13 description: Account Maintenance Fee amount: -598.34, currency: GBP}, {date: -06-14 description: Account Maintenance Fee amount: -120.37, currency: GBP}, {date: -06-14 description: Costa Coffee amount: -957.21, currency: GBP merchant: Costa Coffee}, {date: -06-14 description: Stripe Payout amount: 165.97, currency: GBP merchant: Stripe}, {date: -06-16 description: TransferWise amount: 160.48, currency: GBP merchant: TransferWise}, {date: -06-17 description: Stripe Payout amount: 1325.16, currency: GBP merchant: Stripe}, {date: -06-18 description: Amazon Web Services amount: -1155.33, currency: GBP merchant: Amazon Web Services}, {date: -06-18 description: Late Fee amount: -1495.34, currency: GBP}, {date: -06-18 description: Upwork Ltd Payment amount: 122.51, currency: GBP merchant: Upwork Ltd}, {date: -06-18 description: Upwork Ltd Payment amount: 1016.92, currency: GBP merchant: Upwork Ltd}, {date: -06-19 description: Account Maintenance Fee amount: -1013.75, currency: GBP}, {date: -06-19 description: TFL Travel amount: -663.95, currency: GBP merchant: TFL}, {date: -06-20 description: Costa Coffee amount: -1089.18, currency: GBP merchant: Costa Coffee}, {date: -06-22 description: Google Ads amount: -221.47, currency: GBP merchant: Google}, {date: -06-22 description: Google Ads amount: -392.83, currency: GBP merchant: Google}, {date: -06-23 description: PayPal Fee amount: -370.99, currency: GBP merchant: PayPal}, {date: -06-24 description: Google Ads amount: -652.07, currency: GBP merchant: Google}, {date: -06-24 description: Stripe Payout amount: 401.21, currency: GBP merchant: Stripe}, {date: -06-24 description: Stripe Payout amount: 471.83, currency: GBP merchant: Stripe}, {date: -06-25 description: Google Ads amount: -133.65, currency: GBP merchant: Google}, {date: -06-25 description: PayPal Fee amount: -42.0, currency: GBP merchant: PayPal}, {date: -06-25 description: Stripe Payout amount: 619.82, currency: GBP merchant: Stripe}, {date: -06-25 description: TransferWise amount: 1061.66, currency: GBP merchant: TransferWise}, {date: -06-26 description: Account Maintenance Fee amount: -616.07, currency: GBP}, {date: -06-26 description: TransferWise amount: 257.68, currency: GBP merchant: TransferWise}, {date: -06-26 description: Upwork Ltd Payment amount: 266.17, currency: GBP merchant: Upwork Ltd}, {date: -06-28 description: TransferWise amount: 394.26, currency: GBP merchant: TransferWise}, {date: -06-29 description: Costa Coffee amount: -587.33, currency: GBP merchant: Costa Coffee}, {date: -06-29 description: TransferWise amount:', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'professional_services'}], 'errors': [], 'processing_time': 37.278815}
2025-08-15 12:08:10,465 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] File processing completed successfully - Processing time: 37.28s, Transactions processed: 1
2025-08-15 12:09:24,258 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 12:09:25,349 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 12:09:25,368 - app.main - INFO - Database tables created/verified
2025-08-15 12:09:25,368 - app.main - INFO - CORS middleware configured
2025-08-15 12:09:25,372 - app.main - INFO - API routers included
2025-08-15 12:09:25,373 - app.main - INFO - 🚀 Application starting up...
2025-08-15 12:09:25,373 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 12:09:25,373 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 12:09:25,373 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 12:09:25,374 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 12:09:25,374 - app.main - INFO - ✅ Application startup complete
2025-08-15 12:09:50,327 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 12:09:51,225 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 12:09:51,237 - app.main - INFO - Database tables created/verified
2025-08-15 12:09:51,237 - app.main - INFO - CORS middleware configured
2025-08-15 12:09:51,241 - app.main - INFO - API routers included
2025-08-15 12:09:51,242 - app.main - INFO - 🚀 Application starting up...
2025-08-15 12:09:51,242 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 12:09:51,242 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 12:09:51,243 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 12:09:51,243 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 12:09:51,243 - app.main - INFO - ✅ Application startup complete
2025-08-15 12:20:50,244 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 12:20:51,406 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 12:20:51,417 - app.main - INFO - Database tables created/verified
2025-08-15 12:20:51,418 - app.main - INFO - CORS middleware configured
2025-08-15 12:20:51,421 - app.main - INFO - API routers included
2025-08-15 12:20:51,422 - app.main - INFO - 🚀 Application starting up...
2025-08-15 12:20:51,422 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 12:20:51,422 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 12:20:51,423 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 12:20:51,423 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 12:20:51,423 - app.main - INFO - ✅ Application startup complete
2025-08-15 12:21:32,326 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 12:21:33,242 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 12:21:33,262 - app.main - INFO - Database tables created/verified
2025-08-15 12:21:33,262 - app.main - INFO - CORS middleware configured
2025-08-15 12:21:33,268 - app.main - INFO - API routers included
2025-08-15 12:21:33,270 - app.main - INFO - 🚀 Application starting up...
2025-08-15 12:21:33,270 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 12:21:33,270 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 12:21:33,270 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 12:21:33,271 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 12:21:33,271 - app.main - INFO - ✅ Application startup complete
2025-08-15 12:21:46,235 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 12:21:47,256 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 12:21:47,283 - app.main - INFO - Database tables created/verified
2025-08-15 12:21:47,284 - app.main - INFO - CORS middleware configured
2025-08-15 12:21:47,292 - app.main - INFO - API routers included
2025-08-15 12:21:47,293 - app.main - INFO - 🚀 Application starting up...
2025-08-15 12:21:47,294 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 12:21:47,294 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 12:21:47,294 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 12:21:47,294 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 12:21:47,295 - app.main - INFO - ✅ Application startup complete
2025-08-15 12:22:03,307 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 12:22:04,148 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 12:22:04,162 - app.main - INFO - Database tables created/verified
2025-08-15 12:22:04,163 - app.main - INFO - CORS middleware configured
2025-08-15 12:22:04,167 - app.main - INFO - API routers included
2025-08-15 12:22:04,167 - app.main - INFO - 🚀 Application starting up...
2025-08-15 12:22:04,167 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 12:22:04,168 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 12:22:04,168 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 12:22:04,168 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 12:22:04,168 - app.main - INFO - ✅ Application startup complete
2025-08-15 12:22:24,190 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 12:22:24,925 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 12:22:24,934 - app.main - INFO - Database tables created/verified
2025-08-15 12:22:24,934 - app.main - INFO - CORS middleware configured
2025-08-15 12:22:24,937 - app.main - INFO - API routers included
2025-08-15 12:22:24,938 - app.main - INFO - 🚀 Application starting up...
2025-08-15 12:22:24,938 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 12:22:24,938 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 12:22:24,938 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 12:22:24,939 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 12:22:24,939 - app.main - INFO - ✅ Application startup complete
2025-08-15 12:54:15,009 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 12:54:16,207 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 12:54:16,224 - app.main - INFO - Database tables created/verified
2025-08-15 12:54:16,225 - app.main - INFO - CORS middleware configured
2025-08-15 12:54:16,228 - app.main - INFO - API routers included
2025-08-15 12:54:16,229 - app.main - INFO - 🚀 Application starting up...
2025-08-15 12:54:16,229 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 12:54:16,229 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 12:54:16,229 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 12:54:16,229 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 12:54:16,230 - app.main - INFO - ✅ Application startup complete
2025-08-15 12:59:07,145 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 12:59:08,038 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 12:59:08,050 - app.main - INFO - Database tables created/verified
2025-08-15 12:59:08,050 - app.main - INFO - CORS middleware configured
2025-08-15 12:59:08,053 - app.main - INFO - API routers included
2025-08-15 12:59:08,054 - app.main - INFO - 🚀 Application starting up...
2025-08-15 12:59:08,054 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 12:59:08,054 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 12:59:08,055 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 12:59:08,055 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 12:59:08,055 - app.main - INFO - ✅ Application startup complete
2025-08-15 12:59:12,111 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 12:59:12,832 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 12:59:12,844 - app.main - INFO - Database tables created/verified
2025-08-15 12:59:12,844 - app.main - INFO - CORS middleware configured
2025-08-15 12:59:12,847 - app.main - INFO - API routers included
2025-08-15 12:59:12,848 - app.main - INFO - 🚀 Application starting up...
2025-08-15 12:59:12,848 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 12:59:12,848 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 12:59:12,848 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 12:59:12,848 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 12:59:12,848 - app.main - INFO - ✅ Application startup complete
2025-08-15 13:11:09,368 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 13:11:10,361 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 13:11:10,383 - app.main - INFO - Database tables created/verified
2025-08-15 13:11:10,384 - app.main - INFO - CORS middleware configured
2025-08-15 13:11:10,388 - app.main - INFO - API routers included
2025-08-15 13:11:10,389 - app.main - INFO - 🚀 Application starting up...
2025-08-15 13:11:10,390 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 13:11:10,390 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 13:11:10,390 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 13:11:10,390 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 13:11:10,390 - app.main - INFO - ✅ Application startup complete
2025-08-15 13:11:33,256 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 13:11:33,958 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 13:11:33,965 - app.main - INFO - Database tables created/verified
2025-08-15 13:11:33,965 - app.main - INFO - CORS middleware configured
2025-08-15 13:11:33,969 - app.main - INFO - API routers included
2025-08-15 13:11:33,969 - app.main - INFO - 🚀 Application starting up...
2025-08-15 13:11:33,969 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 13:11:33,970 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 13:11:33,970 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 13:11:33,970 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 13:11:33,970 - app.main - INFO - ✅ Application startup complete
2025-08-15 13:15:07,295 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 13:15:07,487 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 13:15:09,880 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 13:15:09,882 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 13:15:17,534 - app.api.transactions - INFO - [upload_20250815_131517_8b43cd5c] Starting file upload - User: 8b43cd5c-1bfc-4483-ab59-423b6ad0abf2, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-15 13:15:17,535 - app.api.transactions - INFO - [upload_20250815_131517_8b43cd5c] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-15 13:15:17,536 - app.api.transactions - INFO - [upload_20250815_131517_8b43cd5c] File type validation passed
2025-08-15 13:15:17,537 - app.api.transactions - INFO - [upload_20250815_131517_8b43cd5c] Reading file content for size validation
2025-08-15 13:15:17,538 - app.api.transactions - INFO - [upload_20250815_131517_8b43cd5c] File content read - Size: 4422 bytes
2025-08-15 13:15:17,539 - app.api.transactions - INFO - [upload_20250815_131517_8b43cd5c] File size validation passed
2025-08-15 13:15:17,540 - app.api.transactions - INFO - [upload_20250815_131517_8b43cd5c] Initializing services
2025-08-15 13:15:17,541 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 13:15:17,546 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 13:15:17,547 - app.api.transactions - INFO - [upload_20250815_131517_8b43cd5c] Services initialized successfully
2025-08-15 13:15:17,548 - app.api.transactions - INFO - [upload_20250815_131517_8b43cd5c] Processing file with extension: pdf
2025-08-15 13:15:17,548 - app.api.transactions - INFO - [upload_20250815_131517_8b43cd5c] Processing PDF file
2025-08-15 13:15:17,549 - app.services.transaction_service - INFO - Starting PDF processing for user 8b43cd5c-1bfc-4483-ab59-423b6ad0abf2
2025-08-15 13:15:17,549 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-15 13:15:17,550 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-15 13:15:17,551 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-15 13:15:17,562 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-15 13:15:17,562 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-15 13:15:17,563 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-15 13:15:17,564 - app.services.bedrock_service - INFO - [extract_131517564] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-15 13:15:53,854 - app.services.bedrock_service - INFO - [extract_131517564] Raw Bedrock text response:
[
{"date": "2025-06-01", "description": "Adobe CC", "amount": 1253.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-01", "description": "Amazon Web Services", "amount": 494.93, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-02", "description": "PayPal Fee", "amount": 146.20, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-06", "description": "Adobe CC", "amount": 687.09, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-06", "description": "Zoom Subscription", "amount": 1380.44, "currency": "GBP", "merchant": "Zoom"},
{"date": "2025-06-07", "description": "Adobe CC", "amount": -214.51, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP", "merchant": "Client"},
{"date": "2025-06-07", "description": "Costa Coffee", "amount": 1156.58, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-07", "description": "TFL Travel", "amount": 1470.87, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-08", "description": "HMRC Payment", "amount": 386.26, "currency": "GBP", "merchant": "HMRC"},
{"date": "2025-06-09", "description": "Adobe CC", "amount": 123.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-09", "description": "Github", "amount": 888.70, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "Github", "amount": 1099.51, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "PayPal Fee", "amount": -140.94, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-10", "description": "Google Ads", "amount": 919.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP", "merchant": "Freelancer"},
{"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": 598.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": 120.37, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Costa Coffee", "amount": 957.21, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-14", "description": "Stripe Payout", "amount": -165.97, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-16", "description": "TransferWise", "amount": -160.48, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-18", "description": "Amazon Web Services", "amount": 1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-18", "description": "Late Fee", "amount": 1495.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": -122.51, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": 1013.75, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-19", "description": "TFL Travel", "amount": 663.95, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-20", "description": "Costa Coffee", "amount": 1089.18, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 221.47, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 392.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-23", "description": "PayPal Fee", "amount": 370.99, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-24", "description": "Google Ads", "amount": 652.07, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "Google Ads", "amount": 133.65, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-25", "description": "PayPal Fee", "amount": 42.00, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": 616.07, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-29", "description": "Costa Coffee", "amount": 587
2025-08-15 13:15:53,856 - app.services.bedrock_service - INFO - Parsing transaction extraction response: [
{"date": "2025-06-01", "description": "Adobe CC", "amount": 1253.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-01", "description": "Amazon Web Services", "amount": 494.93, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-02", "description": "PayPal Fee", "amount": 146.20, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-06", "description": "Adobe CC", "amount": 687.09, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-06", "description": "Zoom Subscription", "amount": 1380.44, "currency": "GBP", "merchant": "Zoom"},
{"date": "2025-06-07", "description": "Adobe CC", "amount": -214.51, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP", "merchant": "Client"},
{"date": "2025-06-07", "description": "Costa Coffee", "amount": 1156.58, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-07", "description": "TFL Travel", "amount": 1470.87, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-08", "description": "HMRC Payment", "amount": 386.26, "currency": "GBP", "merchant": "HMRC"},
{"date": "2025-06-09", "description": "Adobe CC", "amount": 123.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-09", "description": "Github", "amount": 888.70, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "Github", "amount": 1099.51, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "PayPal Fee", "amount": -140.94, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-10", "description": "Google Ads", "amount": 919.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP", "merchant": "Freelancer"},
{"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": 598.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": 120.37, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Costa Coffee", "amount": 957.21, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-14", "description": "Stripe Payout", "amount": -165.97, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-16", "description": "TransferWise", "amount": -160.48, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-18", "description": "Amazon Web Services", "amount": 1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-18", "description": "Late Fee", "amount": 1495.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": -122.51, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": 1013.75, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-19", "description": "TFL Travel", "amount": 663.95, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-20", "description": "Costa Coffee", "amount": 1089.18, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 221.47, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 392.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-23", "description": "PayPal Fee", "amount": 370.99, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-24", "description": "Google Ads", "amount": 652.07, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "Google Ads", "amount": 133.65, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-25", "description": "PayPal Fee", "amount": 42.00, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": 616.07, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-29", "description": "Costa Coffee", "amount": 587
2025-08-15 13:15:53,857 - app.services.bedrock_service - WARNING - Strategy 2 failed - JSON decode error: Extra data: line 1 column 109 (char 108)
2025-08-15 13:15:53,859 - app.services.bedrock_service - INFO - Strategy 3 successful - Manually extracted 46 transactions
2025-08-15 13:15:53,860 - app.services.bedrock_service - INFO - Final validated transactions: [
  {
    "date": "2025-06-01",
    "description": "{date:  description: Adobe CC amount: 1253.63, currency: GBP merchant: Adobe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-01",
    "description": "{date:  description: Amazon Web Services amount: 494.93, currency: GBP merchant: Amazon Web Services},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{date:  description: PayPal Fee amount: 146.20, currency: GBP merchant: PayPal},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{date:  description: Stripe Payout amount: 281.48, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{date:  description: Adobe CC amount: 687.09, currency: GBP merchant: Adobe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{date:  description: Zoom Subscription amount: 1380.44, currency: GBP merchant: Zoom},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{date:  description: Adobe CC amount: -214.51, currency: GBP merchant: Adobe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{date:  description: Client Refund amount: 1003.31, currency: GBP merchant: Client},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{date:  description: Costa Coffee amount: 1156.58, currency: GBP merchant: Costa Coffee},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{date:  description: TFL Travel amount: 1470.87, currency: GBP merchant: TFL},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-08",
    "description": "{date:  description: HMRC Payment amount: 386.26, currency: GBP merchant: HMRC},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{date:  description: Adobe CC amount: 123.63, currency: GBP merchant: Adobe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{date:  description: Github amount: 888.70, currency: GBP merchant: Github},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{date:  description: Github amount: 1099.51, currency: GBP merchant: Github},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{date:  description: PayPal Fee amount: -140.94, currency: GBP merchant: PayPal},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{date:  description: Google Ads amount: 919.83, currency: GBP merchant: Google},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{date:  description: Stripe Payout amount: 1377.52, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-12",
    "description": "{date:  description: Freelancer Income amount: 937.34, currency: GBP merchant: Freelancer},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-13",
    "description": "{date:  description: Account Maintenance Fee amount: 598.34, currency: GBP merchant: Bank},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{date:  description: Account Maintenance Fee amount: 120.37, currency: GBP merchant: Bank},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{date:  description: Costa Coffee amount: 957.21, currency: GBP merchant: Costa Coffee},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{date:  description: Stripe Payout amount: -165.97, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-16",
    "description": "{date:  description: TransferWise amount: -160.48, currency: GBP merchant: TransferWise},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-17",
    "description": "{date:  description: Stripe Payout amount: 1325.16, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{date:  description: Amazon Web Services amount: 1155.33, currency: GBP merchant: Amazon Web Services},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{date:  description: Late Fee amount: 1495.34, currency: GBP merchant: Bank},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{date:  description: Upwork Ltd Payment amount: -122.51, currency: GBP merchant: Upwork},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{date:  description: Upwork Ltd Payment amount: 1016.92, currency: GBP merchant: Upwork},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{date:  description: Account Maintenance Fee amount: 1013.75, currency: GBP merchant: Bank},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{date:  description: TFL Travel amount: 663.95, currency: GBP merchant: TFL},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-20",
    "description": "{date:  description: Costa Coffee amount: 1089.18, currency: GBP merchant: Costa Coffee},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{date:  description: Google Ads amount: 221.47, currency: GBP merchant: Google},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{date:  description: Google Ads amount: 392.83, currency: GBP merchant: Google},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-23",
    "description": "{date:  description: PayPal Fee amount: 370.99, currency: GBP merchant: PayPal},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{date:  description: Google Ads amount: 652.07, currency: GBP merchant: Google},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{date:  description: Stripe Payout amount: 401.21, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{date:  description: Stripe Payout amount: 471.83, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{date:  description: Google Ads amount: 133.65, currency: GBP merchant: Google},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{date:  description: PayPal Fee amount: 42.00, currency: GBP merchant: PayPal},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{date:  description: Stripe Payout amount: 619.82, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{date:  description: TransferWise amount: 1061.66, currency: GBP merchant: TransferWise},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{date:  description: Account Maintenance Fee amount: 616.07, currency: GBP merchant: Bank},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{date:  description: TransferWise amount: 257.68, currency: GBP merchant: TransferWise},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{date:  description: Upwork Ltd Payment amount: 266.17, currency: GBP merchant: Upwork},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-28",
    "description": "{date:  description: TransferWise amount: 394.26, currency: GBP merchant: TransferWise},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-29",
    "description": "{date:  description: Costa Coffee amount: 587",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  }
]
2025-08-15 13:15:53,861 - app.services.bedrock_service - INFO - [extract_131517564] PDF extraction completed successfully - Transactions found: 46, Time: 36.296s
2025-08-15 13:15:53,861 - app.services.bedrock_service - INFO - [extract_131517564] Parsed transactions: [
  {
    "date": "2025-06-01",
    "description": "{date:  description: Adobe CC amount: 1253.63, currency: GBP merchant: Adobe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-01",
    "description": "{date:  description: Amazon Web Services amount: 494.93, currency: GBP merchant: Amazon Web Services},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{date:  description: PayPal Fee amount: 146.20, currency: GBP merchant: PayPal},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{date:  description: Stripe Payout amount: 281.48, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{date:  description: Adobe CC amount: 687.09, currency: GBP merchant: Adobe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{date:  description: Zoom Subscription amount: 1380.44, currency: GBP merchant: Zoom},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{date:  description: Adobe CC amount: -214.51, currency: GBP merchant: Adobe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{date:  description: Client Refund amount: 1003.31, currency: GBP merchant: Client},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{date:  description: Costa Coffee amount: 1156.58, currency: GBP merchant: Costa Coffee},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{date:  description: TFL Travel amount: 1470.87, currency: GBP merchant: TFL},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-08",
    "description": "{date:  description: HMRC Payment amount: 386.26, currency: GBP merchant: HMRC},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{date:  description: Adobe CC amount: 123.63, currency: GBP merchant: Adobe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{date:  description: Github amount: 888.70, currency: GBP merchant: Github},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{date:  description: Github amount: 1099.51, currency: GBP merchant: Github},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{date:  description: PayPal Fee amount: -140.94, currency: GBP merchant: PayPal},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{date:  description: Google Ads amount: 919.83, currency: GBP merchant: Google},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{date:  description: Stripe Payout amount: 1377.52, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-12",
    "description": "{date:  description: Freelancer Income amount: 937.34, currency: GBP merchant: Freelancer},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-13",
    "description": "{date:  description: Account Maintenance Fee amount: 598.34, currency: GBP merchant: Bank},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{date:  description: Account Maintenance Fee amount: 120.37, currency: GBP merchant: Bank},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{date:  description: Costa Coffee amount: 957.21, currency: GBP merchant: Costa Coffee},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{date:  description: Stripe Payout amount: -165.97, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-16",
    "description": "{date:  description: TransferWise amount: -160.48, currency: GBP merchant: TransferWise},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-17",
    "description": "{date:  description: Stripe Payout amount: 1325.16, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{date:  description: Amazon Web Services amount: 1155.33, currency: GBP merchant: Amazon Web Services},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{date:  description: Late Fee amount: 1495.34, currency: GBP merchant: Bank},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{date:  description: Upwork Ltd Payment amount: -122.51, currency: GBP merchant: Upwork},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{date:  description: Upwork Ltd Payment amount: 1016.92, currency: GBP merchant: Upwork},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{date:  description: Account Maintenance Fee amount: 1013.75, currency: GBP merchant: Bank},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{date:  description: TFL Travel amount: 663.95, currency: GBP merchant: TFL},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-20",
    "description": "{date:  description: Costa Coffee amount: 1089.18, currency: GBP merchant: Costa Coffee},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{date:  description: Google Ads amount: 221.47, currency: GBP merchant: Google},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{date:  description: Google Ads amount: 392.83, currency: GBP merchant: Google},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-23",
    "description": "{date:  description: PayPal Fee amount: 370.99, currency: GBP merchant: PayPal},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{date:  description: Google Ads amount: 652.07, currency: GBP merchant: Google},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{date:  description: Stripe Payout amount: 401.21, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{date:  description: Stripe Payout amount: 471.83, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{date:  description: Google Ads amount: 133.65, currency: GBP merchant: Google},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{date:  description: PayPal Fee amount: 42.00, currency: GBP merchant: PayPal},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{date:  description: Stripe Payout amount: 619.82, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{date:  description: TransferWise amount: 1061.66, currency: GBP merchant: TransferWise},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{date:  description: Account Maintenance Fee amount: 616.07, currency: GBP merchant: Bank},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{date:  description: TransferWise amount: 257.68, currency: GBP merchant: TransferWise},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{date:  description: Upwork Ltd Payment amount: 266.17, currency: GBP merchant: Upwork},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-28",
    "description": "{date:  description: TransferWise amount: 394.26, currency: GBP merchant: TransferWise},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-29",
    "description": "{date:  description: Costa Coffee amount: 587",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  }
]
2025-08-15 13:15:53,861 - app.services.transaction_service - INFO - Transactions extracted from PDF: 46 found
2025-08-15 13:15:53,861 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-15 13:15:53,861 - app.services.bedrock_service - INFO - [classify_131553861] Starting transaction classification - Data: {'date': '2025-06-01', 'description': '{date:  description: Adobe CC amount: 1253.63, currency: GBP merchant: Adobe},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:15:55,070 - app.services.bedrock_service - INFO - [classify_131553861] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Software subscriptions like Adobe Creative Cloud are common business expenses for freelancers", "category": "software_subscription"}
2025-08-15 13:15:55,071 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Software subscriptions like Adobe Creative Cloud are common business expenses for freelancers', 'category': 'software_subscription'}
2025-08-15 13:15:55,072 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Software subscriptions like Adobe Creative Cloud are common business expenses for freelancers",
  "category": "software_subscription"
}
2025-08-15 13:15:55,072 - app.services.bedrock_service - INFO - [classify_131553861] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Software subscriptions like Adobe Creative Cloud are common business expenses for freelancers', 'category': 'software_subscription'}, Time: 1.210s
2025-08-15 13:15:55,073 - app.services.bedrock_service - INFO - [classify_131553861] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Software subscriptions like Adobe Creative Cloud are common business expenses for freelancers",
  "category": "software_subscription"
}
2025-08-15 13:15:55,105 - app.services.bedrock_service - INFO - [classify_131555105] Starting transaction classification - Data: {'date': '2025-06-01', 'description': '{date:  description: Amazon Web Services amount: 494.93, currency: GBP merchant: Amazon Web Services},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:15:56,587 - app.services.bedrock_service - INFO - [classify_131555105] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Cloud computing services like AWS are essential for running business applications", "category": "cloud_services"}
2025-08-15 13:15:56,588 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Cloud computing services like AWS are essential for running business applications', 'category': 'cloud_services'}
2025-08-15 13:15:56,589 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Cloud computing services like AWS are essential for running business applications",
  "category": "cloud_services"
}
2025-08-15 13:15:56,589 - app.services.bedrock_service - INFO - [classify_131555105] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Cloud computing services like AWS are essential for running business applications', 'category': 'cloud_services'}, Time: 1.484s
2025-08-15 13:15:56,590 - app.services.bedrock_service - INFO - [classify_131555105] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Cloud computing services like AWS are essential for running business applications",
  "category": "cloud_services"
}
2025-08-15 13:15:56,603 - app.services.bedrock_service - INFO - [classify_131556603] Starting transaction classification - Data: {'date': '2025-06-02', 'description': '{date:  description: PayPal Fee amount: 146.20, currency: GBP merchant: PayPal},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:15:58,123 - app.services.bedrock_service - INFO - [classify_131556603] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for business services", "category": "payment_processing_fees"}
2025-08-15 13:15:58,123 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for business services', 'category': 'payment_processing_fees'}
2025-08-15 13:15:58,124 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for business services",
  "category": "payment_processing_fees"
}
2025-08-15 13:15:58,124 - app.services.bedrock_service - INFO - [classify_131556603] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for business services', 'category': 'payment_processing_fees'}, Time: 1.521s
2025-08-15 13:15:58,125 - app.services.bedrock_service - INFO - [classify_131556603] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for business services",
  "category": "payment_processing_fees"
}
2025-08-15 13:15:58,129 - app.services.bedrock_service - INFO - [classify_131558129] Starting transaction classification - Data: {'date': '2025-06-02', 'description': '{date:  description: Stripe Payout amount: 281.48, currency: GBP merchant: Stripe},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:15:59,461 - app.services.bedrock_service - INFO - [classify_131558129] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payouts from payment processors like Stripe are typically for business income", "category": "income"}
2025-08-15 13:15:59,462 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payouts from payment processors like Stripe are typically for business income', 'category': 'income'}
2025-08-15 13:15:59,462 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payouts from payment processors like Stripe are typically for business income",
  "category": "income"
}
2025-08-15 13:15:59,462 - app.services.bedrock_service - INFO - [classify_131558129] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payouts from payment processors like Stripe are typically for business income', 'category': 'income'}, Time: 1.332s
2025-08-15 13:15:59,462 - app.services.bedrock_service - INFO - [classify_131558129] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payouts from payment processors like Stripe are typically for business income",
  "category": "income"
}
2025-08-15 13:15:59,463 - app.services.bedrock_service - INFO - [classify_131559463] Starting transaction classification - Data: {'date': '2025-06-06', 'description': '{date:  description: Adobe CC amount: 687.09, currency: GBP merchant: Adobe},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:16:02,469 - app.services.bedrock_service - INFO - [classify_131559463] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Software subscriptions like Adobe Creative Cloud are common business expenses for freelancers", "category": "software_subscription"}
2025-08-15 13:16:02,469 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Software subscriptions like Adobe Creative Cloud are common business expenses for freelancers', 'category': 'software_subscription'}
2025-08-15 13:16:02,470 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Software subscriptions like Adobe Creative Cloud are common business expenses for freelancers",
  "category": "software_subscription"
}
2025-08-15 13:16:02,470 - app.services.bedrock_service - INFO - [classify_131559463] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Software subscriptions like Adobe Creative Cloud are common business expenses for freelancers', 'category': 'software_subscription'}, Time: 3.007s
2025-08-15 13:16:02,471 - app.services.bedrock_service - INFO - [classify_131559463] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Software subscriptions like Adobe Creative Cloud are common business expenses for freelancers",
  "category": "software_subscription"
}
2025-08-15 13:16:02,474 - app.services.bedrock_service - INFO - [classify_131602474] Starting transaction classification - Data: {'date': '2025-06-06', 'description': '{date:  description: Zoom Subscription amount: 1380.44, currency: GBP merchant: Zoom},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:16:10,057 - app.services.bedrock_service - INFO - [classify_131602474] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Zoom subscription is a common business expense for freelancers and consultants for video conferencing and online meetings", "category": "software_subscription"}
2025-08-15 13:16:10,058 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Zoom subscription is a common business expense for freelancers and consultants for video conferencing and online meetings', 'category': 'software_subscription'}
2025-08-15 13:16:10,058 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Zoom subscription is a common business expense for freelancers and consultants for video conferencing and online meetings",
  "category": "software_subscription"
}
2025-08-15 13:16:10,059 - app.services.bedrock_service - INFO - [classify_131602474] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Zoom subscription is a common business expense for freelancers and consultants for video conferencing and online meetings', 'category': 'software_subscription'}, Time: 7.585s
2025-08-15 13:16:10,059 - app.services.bedrock_service - INFO - [classify_131602474] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Zoom subscription is a common business expense for freelancers and consultants for video conferencing and online meetings",
  "category": "software_subscription"
}
2025-08-15 13:16:10,064 - app.services.bedrock_service - INFO - [classify_131610064] Starting transaction classification - Data: {'date': '2025-06-07', 'description': '{date:  description: Adobe CC amount: -214.51, currency: GBP merchant: Adobe},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:16:20,714 - app.services.bedrock_service - INFO - [classify_131610064] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work", "category": "software_subscription"}
2025-08-15 13:16:20,716 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work', 'category': 'software_subscription'}
2025-08-15 13:16:20,716 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work",
  "category": "software_subscription"
}
2025-08-15 13:16:20,717 - app.services.bedrock_service - INFO - [classify_131610064] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work', 'category': 'software_subscription'}, Time: 10.653s
2025-08-15 13:16:20,718 - app.services.bedrock_service - INFO - [classify_131610064] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work",
  "category": "software_subscription"
}
2025-08-15 13:16:20,725 - app.services.bedrock_service - INFO - [classify_131620725] Starting transaction classification - Data: {'date': '2025-06-07', 'description': '{date:  description: Client Refund amount: 1003.31, currency: GBP merchant: Client},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:16:33,482 - app.services.bedrock_service - INFO - [classify_131620725] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "A client refund is directly related to freelance business activities", "category": "income_adjustment"}
2025-08-15 13:16:33,483 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'A client refund is directly related to freelance business activities', 'category': 'income_adjustment'}
2025-08-15 13:16:33,484 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "A client refund is directly related to freelance business activities",
  "category": "income_adjustment"
}
2025-08-15 13:16:33,484 - app.services.bedrock_service - INFO - [classify_131620725] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'A client refund is directly related to freelance business activities', 'category': 'income_adjustment'}, Time: 12.758s
2025-08-15 13:16:33,485 - app.services.bedrock_service - INFO - [classify_131620725] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "A client refund is directly related to freelance business activities",
  "category": "income_adjustment"
}
2025-08-15 13:16:33,493 - app.services.bedrock_service - INFO - [classify_131633492] Starting transaction classification - Data: {'date': '2025-06-07', 'description': '{date:  description: Costa Coffee amount: 1156.58, currency: GBP merchant: Costa Coffee},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:16:43,363 - app.services.bedrock_service - INFO - [classify_131633492] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.9, "reasoning": "Coffee purchases from cafes are typically personal expenses", "category": "food_dining"}
2025-08-15 13:16:43,364 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Coffee purchases from cafes are typically personal expenses', 'category': 'food_dining'}
2025-08-15 13:16:43,365 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Coffee purchases from cafes are typically personal expenses",
  "category": "food_dining"
}
2025-08-15 13:16:43,366 - app.services.bedrock_service - INFO - [classify_131633492] Classification completed successfully - Result: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Coffee purchases from cafes are typically personal expenses', 'category': 'food_dining'}, Time: 9.873s
2025-08-15 13:16:43,366 - app.services.bedrock_service - INFO - [classify_131633492] Parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Coffee purchases from cafes are typically personal expenses",
  "category": "food_dining"
}
2025-08-15 13:16:43,370 - app.services.bedrock_service - INFO - [classify_131643370] Starting transaction classification - Data: {'date': '2025-06-07', 'description': '{date:  description: TFL Travel amount: 1470.87, currency: GBP merchant: TFL},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:16:57,372 - app.services.bedrock_service - INFO - [classify_131643370] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "Travel expenses are typically business expenses for freelancers", "category": "travel"}
2025-08-15 13:16:57,373 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.8, 'reasoning': 'Travel expenses are typically business expenses for freelancers', 'category': 'travel'}
2025-08-15 13:16:57,374 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "Travel expenses are typically business expenses for freelancers",
  "category": "travel"
}
2025-08-15 13:16:57,374 - app.services.bedrock_service - INFO - [classify_131643370] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.8, 'reasoning': 'Travel expenses are typically business expenses for freelancers', 'category': 'travel'}, Time: 14.004s
2025-08-15 13:16:57,375 - app.services.bedrock_service - INFO - [classify_131643370] Parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "Travel expenses are typically business expenses for freelancers",
  "category": "travel"
}
2025-08-15 13:16:57,402 - app.services.bedrock_service - INFO - [classify_131657402] Starting transaction classification - Data: {'date': '2025-06-08', 'description': '{date:  description: HMRC Payment amount: 386.26, currency: GBP merchant: HMRC},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:17:05,858 - app.services.bedrock_service - ERROR - [classify_131657402] Classification failed after 8.456s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 13:17:05,874 - app.services.bedrock_service - INFO - [classify_131705874] Starting transaction classification - Data: {'date': '2025-06-09', 'description': '{date:  description: Adobe CC amount: 123.63, currency: GBP merchant: Adobe},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:17:07,117 - app.services.bedrock_service - INFO - [classify_131705874] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work", "category": "software_subscription"}
2025-08-15 13:17:07,117 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work', 'category': 'software_subscription'}
2025-08-15 13:17:07,118 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work",
  "category": "software_subscription"
}
2025-08-15 13:17:07,118 - app.services.bedrock_service - INFO - [classify_131705874] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work', 'category': 'software_subscription'}, Time: 1.244s
2025-08-15 13:17:07,119 - app.services.bedrock_service - INFO - [classify_131705874] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work",
  "category": "software_subscription"
}
2025-08-15 13:17:07,122 - app.services.bedrock_service - INFO - [classify_131707122] Starting transaction classification - Data: {'date': '2025-06-09', 'description': '{date:  description: Github amount: 888.70, currency: GBP merchant: Github},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:17:16,133 - app.services.bedrock_service - ERROR - [classify_131707122] Classification failed after 9.010s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 13:17:16,136 - app.services.bedrock_service - INFO - [classify_131716136] Starting transaction classification - Data: {'date': '2025-06-09', 'description': '{date:  description: Github amount: 1099.51, currency: GBP merchant: Github},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:17:19,977 - app.services.bedrock_service - INFO - [classify_131716136] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "GitHub is a platform for hosting and managing code repositories, which is essential for software development work", "category": "software_subscription"}
2025-08-15 13:17:19,978 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'GitHub is a platform for hosting and managing code repositories, which is essential for software development work', 'category': 'software_subscription'}
2025-08-15 13:17:19,978 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "GitHub is a platform for hosting and managing code repositories, which is essential for software development work",
  "category": "software_subscription"
}
2025-08-15 13:17:19,980 - app.services.bedrock_service - INFO - [classify_131716136] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'GitHub is a platform for hosting and managing code repositories, which is essential for software development work', 'category': 'software_subscription'}, Time: 3.844s
2025-08-15 13:17:19,980 - app.services.bedrock_service - INFO - [classify_131716136] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "GitHub is a platform for hosting and managing code repositories, which is essential for software development work",
  "category": "software_subscription"
}
2025-08-15 13:17:19,986 - app.services.bedrock_service - INFO - [classify_131719986] Starting transaction classification - Data: {'date': '2025-06-09', 'description': '{date:  description: PayPal Fee amount: -140.94, currency: GBP merchant: PayPal},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:17:23,644 - app.services.bedrock_service - ERROR - [classify_131719986] Classification failed after 3.657s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 13:17:23,649 - app.services.bedrock_service - INFO - [classify_131723649] Starting transaction classification - Data: {'date': '2025-06-10', 'description': '{date:  description: Google Ads amount: 919.83, currency: GBP merchant: Google},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:17:34,750 - app.services.bedrock_service - INFO - [classify_131723649] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising expense for businesses", "category": "advertising"}
2025-08-15 13:17:34,752 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising expense for businesses', 'category': 'advertising'}
2025-08-15 13:17:34,753 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising expense for businesses",
  "category": "advertising"
}
2025-08-15 13:17:34,754 - app.services.bedrock_service - INFO - [classify_131723649] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising expense for businesses', 'category': 'advertising'}, Time: 11.105s
2025-08-15 13:17:34,755 - app.services.bedrock_service - INFO - [classify_131723649] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising expense for businesses",
  "category": "advertising"
}
2025-08-15 13:17:34,763 - app.services.bedrock_service - INFO - [classify_131734763] Starting transaction classification - Data: {'date': '2025-06-10', 'description': '{date:  description: Stripe Payout amount: 1377.52, currency: GBP merchant: Stripe},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:17:47,053 - app.services.bedrock_service - INFO - [classify_131734763] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payouts from payment processors like Stripe are typically for business income", "category": "income"}
2025-08-15 13:17:47,056 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payouts from payment processors like Stripe are typically for business income', 'category': 'income'}
2025-08-15 13:17:47,057 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payouts from payment processors like Stripe are typically for business income",
  "category": "income"
}
2025-08-15 13:17:47,057 - app.services.bedrock_service - INFO - [classify_131734763] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payouts from payment processors like Stripe are typically for business income', 'category': 'income'}, Time: 12.293s
2025-08-15 13:17:47,058 - app.services.bedrock_service - INFO - [classify_131734763] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payouts from payment processors like Stripe are typically for business income",
  "category": "income"
}
2025-08-15 13:17:47,077 - app.services.bedrock_service - INFO - [classify_131747077] Starting transaction classification - Data: {'date': '2025-06-12', 'description': '{date:  description: Freelancer Income amount: 937.34, currency: GBP merchant: Freelancer},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:17:51,757 - app.services.bedrock_service - ERROR - [classify_131747077] Classification failed after 4.679s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 13:17:51,763 - app.services.bedrock_service - INFO - [classify_131751763] Starting transaction classification - Data: {'date': '2025-06-13', 'description': '{date:  description: Account Maintenance Fee amount: 598.34, currency: GBP merchant: Bank},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:17:56,970 - app.services.bedrock_service - INFO - [classify_131751763] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "Bank fees and account maintenance charges are typically business expenses for freelancers", "category": "banking_fees"}
2025-08-15 13:17:56,971 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.8, 'reasoning': 'Bank fees and account maintenance charges are typically business expenses for freelancers', 'category': 'banking_fees'}
2025-08-15 13:17:56,973 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "Bank fees and account maintenance charges are typically business expenses for freelancers",
  "category": "banking_fees"
}
2025-08-15 13:17:56,974 - app.services.bedrock_service - INFO - [classify_131751763] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.8, 'reasoning': 'Bank fees and account maintenance charges are typically business expenses for freelancers', 'category': 'banking_fees'}, Time: 5.210s
2025-08-15 13:17:56,975 - app.services.bedrock_service - INFO - [classify_131751763] Parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "Bank fees and account maintenance charges are typically business expenses for freelancers",
  "category": "banking_fees"
}
2025-08-15 13:17:56,983 - app.services.bedrock_service - INFO - [classify_131756983] Starting transaction classification - Data: {'date': '2025-06-14', 'description': '{date:  description: Account Maintenance Fee amount: 120.37, currency: GBP merchant: Bank},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:18:02,554 - app.services.bedrock_service - ERROR - [classify_131756983] Classification failed after 5.570s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 13:18:02,560 - app.services.bedrock_service - INFO - [classify_131802560] Starting transaction classification - Data: {'date': '2025-06-14', 'description': '{date:  description: Costa Coffee amount: 957.21, currency: GBP merchant: Costa Coffee},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:18:08,337 - app.services.bedrock_service - INFO - [classify_131802560] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.8, "reasoning": "Coffee purchases from cafes are typically personal expenses", "category": "food_dining"}
2025-08-15 13:18:08,339 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.8, 'reasoning': 'Coffee purchases from cafes are typically personal expenses', 'category': 'food_dining'}
2025-08-15 13:18:08,340 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "Coffee purchases from cafes are typically personal expenses",
  "category": "food_dining"
}
2025-08-15 13:18:08,340 - app.services.bedrock_service - INFO - [classify_131802560] Classification completed successfully - Result: {'classification': 'personal', 'confidence': 0.8, 'reasoning': 'Coffee purchases from cafes are typically personal expenses', 'category': 'food_dining'}, Time: 5.780s
2025-08-15 13:18:08,341 - app.services.bedrock_service - INFO - [classify_131802560] Parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "Coffee purchases from cafes are typically personal expenses",
  "category": "food_dining"
}
2025-08-15 13:18:08,346 - app.services.bedrock_service - INFO - [classify_131808346] Starting transaction classification - Data: {'date': '2025-06-14', 'description': '{date:  description: Stripe Payout amount: -165.97, currency: GBP merchant: Stripe},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:18:19,916 - app.services.bedrock_service - INFO - [classify_131808346] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are income received for freelance/business services", "category": "income"}
2025-08-15 13:18:19,919 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are income received for freelance/business services', 'category': 'income'}
2025-08-15 13:18:19,919 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are income received for freelance/business services",
  "category": "income"
}
2025-08-15 13:18:19,919 - app.services.bedrock_service - INFO - [classify_131808346] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are income received for freelance/business services', 'category': 'income'}, Time: 11.573s
2025-08-15 13:18:19,919 - app.services.bedrock_service - INFO - [classify_131808346] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are income received for freelance/business services",
  "category": "income"
}
2025-08-15 13:18:19,922 - app.services.bedrock_service - INFO - [classify_131819922] Starting transaction classification - Data: {'date': '2025-06-16', 'description': '{date:  description: TransferWise amount: -160.48, currency: GBP merchant: TransferWise},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:18:26,959 - app.services.bedrock_service - ERROR - [classify_131819922] Classification failed after 7.037s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 13:18:26,975 - app.services.bedrock_service - INFO - [classify_131826975] Starting transaction classification - Data: {'date': '2025-06-17', 'description': '{date:  description: Stripe Payout amount: 1325.16, currency: GBP merchant: Stripe},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:18:34,549 - app.services.bedrock_service - INFO - [classify_131826975] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payouts from payment processors like Stripe are typically for business income", "category": "income"}
2025-08-15 13:18:34,550 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payouts from payment processors like Stripe are typically for business income', 'category': 'income'}
2025-08-15 13:18:34,550 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payouts from payment processors like Stripe are typically for business income",
  "category": "income"
}
2025-08-15 13:18:34,550 - app.services.bedrock_service - INFO - [classify_131826975] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payouts from payment processors like Stripe are typically for business income', 'category': 'income'}, Time: 7.574s
2025-08-15 13:18:34,550 - app.services.bedrock_service - INFO - [classify_131826975] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payouts from payment processors like Stripe are typically for business income",
  "category": "income"
}
2025-08-15 13:18:34,552 - app.services.bedrock_service - INFO - [classify_131834552] Starting transaction classification - Data: {'date': '2025-06-18', 'description': '{date:  description: Amazon Web Services amount: 1155.33, currency: GBP merchant: Amazon Web Services},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:18:41,502 - app.services.bedrock_service - ERROR - [classify_131834552] Classification failed after 6.950s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 13:18:41,510 - app.services.bedrock_service - INFO - [classify_131841510] Starting transaction classification - Data: {'date': '2025-06-18', 'description': '{date:  description: Late Fee amount: 1495.34, currency: GBP merchant: Bank},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:18:46,358 - app.services.bedrock_service - INFO - [classify_131841510] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.9, "reasoning": "Late fees charged by banks are typically personal expenses related to mismanaged finances", "category": "bank_fees"}
2025-08-15 13:18:46,360 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Late fees charged by banks are typically personal expenses related to mismanaged finances', 'category': 'bank_fees'}
2025-08-15 13:18:46,361 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Late fees charged by banks are typically personal expenses related to mismanaged finances",
  "category": "bank_fees"
}
2025-08-15 13:18:46,361 - app.services.bedrock_service - INFO - [classify_131841510] Classification completed successfully - Result: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Late fees charged by banks are typically personal expenses related to mismanaged finances', 'category': 'bank_fees'}, Time: 4.851s
2025-08-15 13:18:46,362 - app.services.bedrock_service - INFO - [classify_131841510] Parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Late fees charged by banks are typically personal expenses related to mismanaged finances",
  "category": "bank_fees"
}
2025-08-15 13:18:46,369 - app.services.bedrock_service - INFO - [classify_131846369] Starting transaction classification - Data: {'date': '2025-06-18', 'description': '{date:  description: Upwork Ltd Payment amount: -122.51, currency: GBP merchant: Upwork},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:18:57,691 - app.services.bedrock_service - INFO - [classify_131846369] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payment from Upwork indicates income from freelance work", "category": "freelance_income"}
2025-08-15 13:18:57,692 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payment from Upwork indicates income from freelance work', 'category': 'freelance_income'}
2025-08-15 13:18:57,693 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment from Upwork indicates income from freelance work",
  "category": "freelance_income"
}
2025-08-15 13:18:57,693 - app.services.bedrock_service - INFO - [classify_131846369] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payment from Upwork indicates income from freelance work', 'category': 'freelance_income'}, Time: 11.324s
2025-08-15 13:18:57,693 - app.services.bedrock_service - INFO - [classify_131846369] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment from Upwork indicates income from freelance work",
  "category": "freelance_income"
}
2025-08-15 13:18:57,697 - app.services.bedrock_service - INFO - [classify_131857697] Starting transaction classification - Data: {'date': '2025-06-18', 'description': '{date:  description: Upwork Ltd Payment amount: 1016.92, currency: GBP merchant: Upwork},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:19:01,941 - app.services.bedrock_service - ERROR - [classify_131857697] Classification failed after 4.244s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 13:19:01,950 - app.services.bedrock_service - INFO - [classify_131901950] Starting transaction classification - Data: {'date': '2025-06-19', 'description': '{date:  description: Account Maintenance Fee amount: 1013.75, currency: GBP merchant: Bank},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:19:07,731 - app.services.bedrock_service - INFO - [classify_131901950] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "Account maintenance fees for business banking accounts are typically business expenses", "category": "banking_fees"}
2025-08-15 13:19:07,731 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.8, 'reasoning': 'Account maintenance fees for business banking accounts are typically business expenses', 'category': 'banking_fees'}
2025-08-15 13:19:07,732 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "Account maintenance fees for business banking accounts are typically business expenses",
  "category": "banking_fees"
}
2025-08-15 13:19:07,732 - app.services.bedrock_service - INFO - [classify_131901950] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.8, 'reasoning': 'Account maintenance fees for business banking accounts are typically business expenses', 'category': 'banking_fees'}, Time: 5.782s
2025-08-15 13:19:07,733 - app.services.bedrock_service - INFO - [classify_131901950] Parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "Account maintenance fees for business banking accounts are typically business expenses",
  "category": "banking_fees"
}
2025-08-15 13:19:07,737 - app.services.bedrock_service - INFO - [classify_131907737] Starting transaction classification - Data: {'date': '2025-06-19', 'description': '{date:  description: TFL Travel amount: 663.95, currency: GBP merchant: TFL},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:19:17,838 - app.services.bedrock_service - ERROR - [classify_131907737] Classification failed after 10.101s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 13:19:17,851 - app.services.bedrock_service - INFO - [classify_131917851] Starting transaction classification - Data: {'date': '2025-06-20', 'description': '{date:  description: Costa Coffee amount: 1089.18, currency: GBP merchant: Costa Coffee},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:19:19,607 - app.services.bedrock_service - INFO - [classify_131917851] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.9, "reasoning": "Coffee purchases from cafes are typically personal expenses", "category": "food_dining"}
2025-08-15 13:19:19,608 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Coffee purchases from cafes are typically personal expenses', 'category': 'food_dining'}
2025-08-15 13:19:19,608 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Coffee purchases from cafes are typically personal expenses",
  "category": "food_dining"
}
2025-08-15 13:19:19,608 - app.services.bedrock_service - INFO - [classify_131917851] Classification completed successfully - Result: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Coffee purchases from cafes are typically personal expenses', 'category': 'food_dining'}, Time: 1.756s
2025-08-15 13:19:19,609 - app.services.bedrock_service - INFO - [classify_131917851] Parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Coffee purchases from cafes are typically personal expenses",
  "category": "food_dining"
}
2025-08-15 13:19:19,614 - app.services.bedrock_service - INFO - [classify_131919614] Starting transaction classification - Data: {'date': '2025-06-22', 'description': '{date:  description: Google Ads amount: 221.47, currency: GBP merchant: Google},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:19:22,353 - app.services.bedrock_service - ERROR - [classify_131919614] Classification failed after 2.739s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 13:19:22,360 - app.services.bedrock_service - INFO - [classify_131922360] Starting transaction classification - Data: {'date': '2025-06-22', 'description': '{date:  description: Google Ads amount: 392.83, currency: GBP merchant: Google},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:19:29,901 - app.services.bedrock_service - ERROR - [classify_131922360] Classification failed after 7.541s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 13:19:29,907 - app.services.bedrock_service - INFO - [classify_131929907] Starting transaction classification - Data: {'date': '2025-06-23', 'description': '{date:  description: PayPal Fee amount: 370.99, currency: GBP merchant: PayPal},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:19:31,282 - app.services.bedrock_service - INFO - [classify_131929907] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for business services", "category": "payment_processing_fees"}
2025-08-15 13:19:31,282 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for business services', 'category': 'payment_processing_fees'}
2025-08-15 13:19:31,282 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for business services",
  "category": "payment_processing_fees"
}
2025-08-15 13:19:31,283 - app.services.bedrock_service - INFO - [classify_131929907] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for business services', 'category': 'payment_processing_fees'}, Time: 1.375s
2025-08-15 13:19:31,283 - app.services.bedrock_service - INFO - [classify_131929907] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for business services",
  "category": "payment_processing_fees"
}
2025-08-15 13:19:31,287 - app.services.bedrock_service - INFO - [classify_131931287] Starting transaction classification - Data: {'date': '2025-06-24', 'description': '{date:  description: Google Ads amount: 652.07, currency: GBP merchant: Google},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:19:37,749 - app.services.bedrock_service - ERROR - [classify_131931287] Classification failed after 6.462s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 13:19:37,754 - app.services.bedrock_service - INFO - [classify_131937754] Starting transaction classification - Data: {'date': '2025-06-24', 'description': '{date:  description: Stripe Payout amount: 401.21, currency: GBP merchant: Stripe},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:19:43,863 - app.services.bedrock_service - INFO - [classify_131937754] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payouts from payment processors like Stripe are typically for business income", "category": "income"}
2025-08-15 13:19:43,865 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payouts from payment processors like Stripe are typically for business income', 'category': 'income'}
2025-08-15 13:19:43,866 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payouts from payment processors like Stripe are typically for business income",
  "category": "income"
}
2025-08-15 13:19:43,867 - app.services.bedrock_service - INFO - [classify_131937754] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payouts from payment processors like Stripe are typically for business income', 'category': 'income'}, Time: 6.113s
2025-08-15 13:19:43,868 - app.services.bedrock_service - INFO - [classify_131937754] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payouts from payment processors like Stripe are typically for business income",
  "category": "income"
}
2025-08-15 13:19:43,875 - app.services.bedrock_service - INFO - [classify_131943875] Starting transaction classification - Data: {'date': '2025-06-24', 'description': '{date:  description: Stripe Payout amount: 471.83, currency: GBP merchant: Stripe},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:19:48,982 - app.services.bedrock_service - ERROR - [classify_131943875] Classification failed after 5.106s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 13:19:48,987 - app.services.bedrock_service - INFO - [classify_131948987] Starting transaction classification - Data: {'date': '2025-06-25', 'description': '{date:  description: Google Ads amount: 133.65, currency: GBP merchant: Google},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:20:00,001 - app.services.bedrock_service - INFO - [classify_131948987] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising expense for freelancers and businesses", "category": "advertising"}
2025-08-15 13:20:00,003 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising expense for freelancers and businesses', 'category': 'advertising'}
2025-08-15 13:20:00,003 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising expense for freelancers and businesses",
  "category": "advertising"
}
2025-08-15 13:20:00,004 - app.services.bedrock_service - INFO - [classify_131948987] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising expense for freelancers and businesses', 'category': 'advertising'}, Time: 11.017s
2025-08-15 13:20:00,005 - app.services.bedrock_service - INFO - [classify_131948987] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising expense for freelancers and businesses",
  "category": "advertising"
}
2025-08-15 13:20:00,012 - app.services.bedrock_service - INFO - [classify_132000012] Starting transaction classification - Data: {'date': '2025-06-25', 'description': '{date:  description: PayPal Fee amount: 42.00, currency: GBP merchant: PayPal},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:20:11,626 - app.services.bedrock_service - INFO - [classify_132000012] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for business services", "category": "business_fees"}
2025-08-15 13:20:11,627 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for business services', 'category': 'business_fees'}
2025-08-15 13:20:11,627 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for business services",
  "category": "business_fees"
}
2025-08-15 13:20:11,627 - app.services.bedrock_service - INFO - [classify_132000012] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for business services', 'category': 'business_fees'}, Time: 11.615s
2025-08-15 13:20:11,628 - app.services.bedrock_service - INFO - [classify_132000012] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for business services",
  "category": "business_fees"
}
2025-08-15 13:20:11,635 - app.services.bedrock_service - INFO - [classify_132011635] Starting transaction classification - Data: {'date': '2025-06-25', 'description': '{date:  description: Stripe Payout amount: 619.82, currency: GBP merchant: Stripe},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:20:23,404 - app.services.bedrock_service - INFO - [classify_132011635] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payouts from payment processors like Stripe are typically for business income", "category": "income"}
2025-08-15 13:20:23,406 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payouts from payment processors like Stripe are typically for business income', 'category': 'income'}
2025-08-15 13:20:23,407 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payouts from payment processors like Stripe are typically for business income",
  "category": "income"
}
2025-08-15 13:20:23,408 - app.services.bedrock_service - INFO - [classify_132011635] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payouts from payment processors like Stripe are typically for business income', 'category': 'income'}, Time: 11.773s
2025-08-15 13:20:23,408 - app.services.bedrock_service - INFO - [classify_132011635] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payouts from payment processors like Stripe are typically for business income",
  "category": "income"
}
2025-08-15 13:20:23,416 - app.services.bedrock_service - INFO - [classify_132023416] Starting transaction classification - Data: {'date': '2025-06-25', 'description': '{date:  description: TransferWise amount: 1061.66, currency: GBP merchant: TransferWise},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:20:36,052 - app.services.bedrock_service - INFO - [classify_132023416] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "TransferWise is a money transfer service often used by freelancers for international payments", "category": "financial_services"}
2025-08-15 13:20:36,052 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.8, 'reasoning': 'TransferWise is a money transfer service often used by freelancers for international payments', 'category': 'financial_services'}
2025-08-15 13:20:36,052 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service often used by freelancers for international payments",
  "category": "financial_services"
}
2025-08-15 13:20:36,052 - app.services.bedrock_service - INFO - [classify_132023416] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.8, 'reasoning': 'TransferWise is a money transfer service often used by freelancers for international payments', 'category': 'financial_services'}, Time: 12.636s
2025-08-15 13:20:36,052 - app.services.bedrock_service - INFO - [classify_132023416] Parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service often used by freelancers for international payments",
  "category": "financial_services"
}
2025-08-15 13:20:36,054 - app.services.bedrock_service - INFO - [classify_132036054] Starting transaction classification - Data: {'date': '2025-06-26', 'description': '{date:  description: Account Maintenance Fee amount: 616.07, currency: GBP merchant: Bank},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:20:45,041 - app.services.bedrock_service - INFO - [classify_132036054] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "Bank fees and account maintenance charges are typically business expenses for freelancers", "category": "banking_fees"}
2025-08-15 13:20:45,042 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.8, 'reasoning': 'Bank fees and account maintenance charges are typically business expenses for freelancers', 'category': 'banking_fees'}
2025-08-15 13:20:45,042 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "Bank fees and account maintenance charges are typically business expenses for freelancers",
  "category": "banking_fees"
}
2025-08-15 13:20:45,043 - app.services.bedrock_service - INFO - [classify_132036054] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.8, 'reasoning': 'Bank fees and account maintenance charges are typically business expenses for freelancers', 'category': 'banking_fees'}, Time: 8.989s
2025-08-15 13:20:45,043 - app.services.bedrock_service - INFO - [classify_132036054] Parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "Bank fees and account maintenance charges are typically business expenses for freelancers",
  "category": "banking_fees"
}
2025-08-15 13:20:45,047 - app.services.bedrock_service - INFO - [classify_132045046] Starting transaction classification - Data: {'date': '2025-06-26', 'description': '{date:  description: TransferWise amount: 257.68, currency: GBP merchant: TransferWise},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:20:53,691 - app.services.bedrock_service - ERROR - [classify_132045046] Classification failed after 8.644s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 13:20:53,697 - app.services.bedrock_service - INFO - [classify_132053697] Starting transaction classification - Data: {'date': '2025-06-26', 'description': '{date:  description: Upwork Ltd Payment amount: 266.17, currency: GBP merchant: Upwork},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:20:55,761 - app.services.bedrock_service - INFO - [classify_132053697] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payment from Upwork is income earned from freelancing work", "category": "freelance_income"}
2025-08-15 13:20:55,762 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payment from Upwork is income earned from freelancing work', 'category': 'freelance_income'}
2025-08-15 13:20:55,762 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment from Upwork is income earned from freelancing work",
  "category": "freelance_income"
}
2025-08-15 13:20:55,763 - app.services.bedrock_service - INFO - [classify_132053697] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payment from Upwork is income earned from freelancing work', 'category': 'freelance_income'}, Time: 2.065s
2025-08-15 13:20:55,763 - app.services.bedrock_service - INFO - [classify_132053697] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment from Upwork is income earned from freelancing work",
  "category": "freelance_income"
}
2025-08-15 13:20:55,768 - app.services.bedrock_service - INFO - [classify_132055768] Starting transaction classification - Data: {'date': '2025-06-28', 'description': '{date:  description: TransferWise amount: 394.26, currency: GBP merchant: TransferWise},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:21:00,986 - app.services.bedrock_service - ERROR - [classify_132055768] Classification failed after 5.218s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 13:21:00,995 - app.services.bedrock_service - INFO - [classify_132100995] Starting transaction classification - Data: {'date': '2025-06-29', 'description': '{date:  description: Costa Coffee amount: 587', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 13:21:05,953 - app.services.bedrock_service - ERROR - [classify_132100995] Classification failed after 4.957s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 13:21:05,967 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 46, Errors: 0, Time: 348.42s
2025-08-15 13:21:05,968 - app.api.transactions - INFO - [upload_20250815_131517_8b43cd5c] PDF processing completed - Result: {'processed_count': 46, 'transactions': [{'id': '90994136-1c7b-4da2-9b64-161f00dc3fe2', 'date': '2025-06-01', 'description': '{date:  description: Adobe CC amount: 1253.63, currency: GBP merchant: Adobe},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'software_subscription'}, {'id': '9bb94f00-0af3-4d64-9ce3-a55d1a8a0e50', 'date': '2025-06-01', 'description': '{date:  description: Amazon Web Services amount: 494.93, currency: GBP merchant: Amazon Web Services},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'cloud_services'}, {'id': '34e64ba5-a7c0-4bc0-ba35-afc6607f79f5', 'date': '2025-06-02', 'description': '{date:  description: PayPal Fee amount: 146.20, currency: GBP merchant: PayPal},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'payment_processing_fees'}, {'id': '6c70b678-6f95-4565-9b0c-eedadb133331', 'date': '2025-06-02', 'description': '{date:  description: Stripe Payout amount: 281.48, currency: GBP merchant: Stripe},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': 'a26707b0-ad7e-4cf9-bf07-cd53290472fe', 'date': '2025-06-06', 'description': '{date:  description: Adobe CC amount: 687.09, currency: GBP merchant: Adobe},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software_subscription'}, {'id': 'c9b62585-cc71-49c6-9133-64b42f6e043f', 'date': '2025-06-06', 'description': '{date:  description: Zoom Subscription amount: 1380.44, currency: GBP merchant: Zoom},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'software_subscription'}, {'id': 'cc40c77e-4e2a-48d3-bb8b-2cc863b4b26f', 'date': '2025-06-07', 'description': '{date:  description: Adobe CC amount: -214.51, currency: GBP merchant: Adobe},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software_subscription'}, {'id': '16a210e3-ea5b-4400-9a7e-bcbdc0b3a3b5', 'date': '2025-06-07', 'description': '{date:  description: Client Refund amount: 1003.31, currency: GBP merchant: Client},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income_adjustment'}, {'id': '0a84738a-606f-4958-910f-1a12c03f523d', 'date': '2025-06-07', 'description': '{date:  description: Costa Coffee amount: 1156.58, currency: GBP merchant: Costa Coffee},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.9, 'category': 'food_dining'}, {'id': '94ea2f98-3138-4d82-ac1e-7e2e49eeba2e', 'date': '2025-06-07', 'description': '{date:  description: TFL Travel amount: 1470.87, currency: GBP merchant: TFL},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.8, 'category': 'travel'}, {'id': '34ce4fdb-72bb-4dd2-8b10-586ba09a7ddb', 'date': '2025-06-08', 'description': '{date:  description: HMRC Payment amount: 386.26, currency: GBP merchant: HMRC},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'b373e4c6-028f-4ea7-b135-396cf41d6941', 'date': '2025-06-09', 'description': '{date:  description: Adobe CC amount: 123.63, currency: GBP merchant: Adobe},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software_subscription'}, {'id': '7c340b2e-e21d-450c-9613-9c850530a0a5', 'date': '2025-06-09', 'description': '{date:  description: Github amount: 888.70, currency: GBP merchant: Github},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'a423220a-63f6-408f-92eb-e98b1b80de80', 'date': '2025-06-09', 'description': '{date:  description: Github amount: 1099.51, currency: GBP merchant: Github},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'software_subscription'}, {'id': 'ddf1b381-bdd4-48db-94d3-cabee1e8ca64', 'date': '2025-06-09', 'description': '{date:  description: PayPal Fee amount: -140.94, currency: GBP merchant: PayPal},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '6c75fbe9-3a0c-42d7-b1c7-79e2d0d9432a', 'date': '2025-06-10', 'description': '{date:  description: Google Ads amount: 919.83, currency: GBP merchant: Google},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'advertising'}, {'id': 'f28908ab-02c7-4d14-89fd-22d64ee643ce', 'date': '2025-06-10', 'description': '{date:  description: Stripe Payout amount: 1377.52, currency: GBP merchant: Stripe},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '95cc95cf-dc0f-4d49-a163-31772f34fbb4', 'date': '2025-06-12', 'description': '{date:  description: Freelancer Income amount: 937.34, currency: GBP merchant: Freelancer},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'ea4550e6-ebfb-4235-9c6f-bcd1efb30936', 'date': '2025-06-13', 'description': '{date:  description: Account Maintenance Fee amount: 598.34, currency: GBP merchant: Bank},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.8, 'category': 'banking_fees'}, {'id': 'f8cf3590-6b74-4b0d-8085-fe9e677f71ac', 'date': '2025-06-14', 'description': '{date:  description: Account Maintenance Fee amount: 120.37, currency: GBP merchant: Bank},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'b1087ba8-a0e4-4c28-b07f-179a3bfa1162', 'date': '2025-06-14', 'description': '{date:  description: Costa Coffee amount: 957.21, currency: GBP merchant: Costa Coffee},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.8, 'category': 'food_dining'}, {'id': '74194555-f6c6-4111-be9a-348a54bb01c5', 'date': '2025-06-14', 'description': '{date:  description: Stripe Payout amount: -165.97, currency: GBP merchant: Stripe},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '52589439-f611-4061-b82e-fb3610513f03', 'date': '2025-06-16', 'description': '{date:  description: TransferWise amount: -160.48, currency: GBP merchant: TransferWise},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '73391fdb-34eb-457f-83fd-9abf8c5de1d0', 'date': '2025-06-17', 'description': '{date:  description: Stripe Payout amount: 1325.16, currency: GBP merchant: Stripe},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': 'fd55010f-fc5e-44fa-a3a4-b50449143d87', 'date': '2025-06-18', 'description': '{date:  description: Amazon Web Services amount: 1155.33, currency: GBP merchant: Amazon Web Services},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'f7cb763e-10cf-4c20-a934-366de10e918f', 'date': '2025-06-18', 'description': '{date:  description: Late Fee amount: 1495.34, currency: GBP merchant: Bank},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.9, 'category': 'bank_fees'}, {'id': 'cebc26a0-b79d-49b6-b08e-08eade8dcd80', 'date': '2025-06-18', 'description': '{date:  description: Upwork Ltd Payment amount: -122.51, currency: GBP merchant: Upwork},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'freelance_income'}, {'id': 'c23e363b-036a-4d1b-a8a0-080e3ff558c6', 'date': '2025-06-18', 'description': '{date:  description: Upwork Ltd Payment amount: 1016.92, currency: GBP merchant: Upwork},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '49047a04-1ece-48e2-a5d3-1bac610d8308', 'date': '2025-06-19', 'description': '{date:  description: Account Maintenance Fee amount: 1013.75, currency: GBP merchant: Bank},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.8, 'category': 'banking_fees'}, {'id': '5ba07344-cc1c-4d95-8bde-545883fe7fa8', 'date': '2025-06-19', 'description': '{date:  description: TFL Travel amount: 663.95, currency: GBP merchant: TFL},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '5ef3b460-a094-4835-844e-78712b136a61', 'date': '2025-06-20', 'description': '{date:  description: Costa Coffee amount: 1089.18, currency: GBP merchant: Costa Coffee},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.9, 'category': 'food_dining'}, {'id': 'ea83efcc-23ec-4c10-add9-7fba70c45d12', 'date': '2025-06-22', 'description': '{date:  description: Google Ads amount: 221.47, currency: GBP merchant: Google},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '5ca8fd74-946d-4394-add5-8452104b3f4a', 'date': '2025-06-22', 'description': '{date:  description: Google Ads amount: 392.83, currency: GBP merchant: Google},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '50f72c84-d00e-4bd9-82e0-e2e5163575b3', 'date': '2025-06-23', 'description': '{date:  description: PayPal Fee amount: 370.99, currency: GBP merchant: PayPal},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'payment_processing_fees'}, {'id': '8c8f40e8-0fcc-4550-b0c6-14ab3c122c92', 'date': '2025-06-24', 'description': '{date:  description: Google Ads amount: 652.07, currency: GBP merchant: Google},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '113475cf-62c5-4dd7-9151-d1f7574e223e', 'date': '2025-06-24', 'description': '{date:  description: Stripe Payout amount: 401.21, currency: GBP merchant: Stripe},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '33036259-45d9-43ce-9058-8cab09a93144', 'date': '2025-06-24', 'description': '{date:  description: Stripe Payout amount: 471.83, currency: GBP merchant: Stripe},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '2dccb1c7-ea83-4e07-9f59-8f246c20fbbd', 'date': '2025-06-25', 'description': '{date:  description: Google Ads amount: 133.65, currency: GBP merchant: Google},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'advertising'}, {'id': '3f2a273b-cbe7-44e5-9adb-b0c994f1f884', 'date': '2025-06-25', 'description': '{date:  description: PayPal Fee amount: 42.00, currency: GBP merchant: PayPal},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'business_fees'}, {'id': '3b3ed88c-aa7e-48ce-88e9-27372b5d5470', 'date': '2025-06-25', 'description': '{date:  description: Stripe Payout amount: 619.82, currency: GBP merchant: Stripe},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': 'bc5bca9d-6eb9-41e0-8bbe-f85ffaa67a15', 'date': '2025-06-25', 'description': '{date:  description: TransferWise amount: 1061.66, currency: GBP merchant: TransferWise},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.8, 'category': 'financial_services'}, {'id': '34cff000-68b1-4af6-9c5e-08bc8e6cf9d7', 'date': '2025-06-26', 'description': '{date:  description: Account Maintenance Fee amount: 616.07, currency: GBP merchant: Bank},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.8, 'category': 'banking_fees'}, {'id': '16489ca9-d011-49ae-8583-c71d75bfa85f', 'date': '2025-06-26', 'description': '{date:  description: TransferWise amount: 257.68, currency: GBP merchant: TransferWise},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '8ea4bd10-eaa6-4d21-ad7b-a8ccb0e00d1b', 'date': '2025-06-26', 'description': '{date:  description: Upwork Ltd Payment amount: 266.17, currency: GBP merchant: Upwork},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'freelance_income'}, {'id': 'b5cacf87-331c-468e-83be-e42440d1e4b3', 'date': '2025-06-28', 'description': '{date:  description: TransferWise amount: 394.26, currency: GBP merchant: TransferWise},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '8f1d9252-5e79-49db-9422-8e942433ca75', 'date': '2025-06-29', 'description': '{date:  description: Costa Coffee amount: 587', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}], 'errors': [], 'processing_time': 348.418485}
2025-08-15 13:21:05,968 - app.api.transactions - INFO - [upload_20250815_131517_8b43cd5c] File processing completed successfully - Processing time: 348.42s, Transactions processed: 46
2025-08-15 16:22:41,233 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 16:22:42,628 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 16:22:42,660 - app.main - INFO - Database tables created/verified
2025-08-15 16:22:42,661 - app.main - INFO - CORS middleware configured
2025-08-15 16:22:42,665 - app.main - INFO - API routers included
2025-08-15 16:22:42,667 - app.main - INFO - 🚀 Application starting up...
2025-08-15 16:22:42,667 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 16:22:42,668 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 16:22:42,668 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 16:22:42,668 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 16:22:42,669 - app.main - INFO - ✅ Application startup complete
2025-08-15 16:27:34,838 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 16:27:34,947 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 16:27:49,298 - app.api.transactions - INFO - [upload_20250815_162749_8b43cd5c] Starting file upload - User: 8b43cd5c-1bfc-4483-ab59-423b6ad0abf2, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-15 16:27:49,299 - app.api.transactions - INFO - [upload_20250815_162749_8b43cd5c] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-15 16:27:49,299 - app.api.transactions - INFO - [upload_20250815_162749_8b43cd5c] File type validation passed
2025-08-15 16:27:49,299 - app.api.transactions - INFO - [upload_20250815_162749_8b43cd5c] Reading file content for size validation
2025-08-15 16:27:49,299 - app.api.transactions - INFO - [upload_20250815_162749_8b43cd5c] File content read - Size: 4422 bytes
2025-08-15 16:27:49,299 - app.api.transactions - INFO - [upload_20250815_162749_8b43cd5c] File size validation passed
2025-08-15 16:27:49,300 - app.api.transactions - INFO - [upload_20250815_162749_8b43cd5c] Initializing services
2025-08-15 16:27:49,300 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 16:27:49,305 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 16:27:49,305 - app.api.transactions - INFO - [upload_20250815_162749_8b43cd5c] Services initialized successfully
2025-08-15 16:27:49,306 - app.api.transactions - INFO - [upload_20250815_162749_8b43cd5c] Processing file with extension: pdf
2025-08-15 16:27:49,306 - app.api.transactions - INFO - [upload_20250815_162749_8b43cd5c] Processing PDF file
2025-08-15 16:27:49,307 - app.services.transaction_service - INFO - Starting PDF processing for user 8b43cd5c-1bfc-4483-ab59-423b6ad0abf2
2025-08-15 16:27:49,307 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-15 16:27:49,307 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-15 16:27:49,309 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-15 16:27:49,318 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-15 16:27:49,318 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-15 16:27:49,318 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-15 16:27:49,318 - app.services.bedrock_service - INFO - [extract_162749318] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-15 16:28:22,601 - app.services.bedrock_service - INFO - [extract_162749318] Raw Bedrock text response:
[
{"date": "2025-06-01", "description": "Adobe CC", "amount": 1253.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-01", "description": "Amazon Web Services", "amount": 494.93, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-02", "description": "PayPal Fee", "amount": 146.20, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-06", "description": "Adobe CC", "amount": 687.09, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-06", "description": "Zoom Subscription", "amount": 1380.44, "currency": "GBP", "merchant": "Zoom"},
{"date": "2025-06-07", "description": "Adobe CC", "amount": -214.51, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP", "merchant": "Client"},
{"date": "2025-06-07", "description": "Costa Coffee", "amount": 1156.58, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-07", "description": "TFL Travel", "amount": 1470.87, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-08", "description": "HMRC Payment", "amount": 386.26, "currency": "GBP", "merchant": "HMRC"},
{"date": "2025-06-09", "description": "Adobe CC", "amount": 123.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-09", "description": "Github", "amount": 888.70, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "Github", "amount": 1099.51, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "PayPal Fee", "amount": -140.94, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-10", "description": "Google Ads", "amount": 919.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP", "merchant": "Freelancer"},
{"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": 598.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": 120.37, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Costa Coffee", "amount": 957.21, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-14", "description": "Stripe Payout", "amount": -165.97, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-16", "description": "TransferWise", "amount": -160.48, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-18", "description": "Amazon Web Services", "amount": 1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-18", "description": "Late Fee", "amount": 1495.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": -122.51, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": 1013.75, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-19", "description": "TFL Travel", "amount": 663.95, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-20", "description": "Costa Coffee", "amount": 1089.18, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 221.47, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 392.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-23", "description": "PayPal Fee", "amount": 370.99, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-24", "description": "Google Ads", "amount": 652.07, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "Google Ads", "amount": 133.65, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-25", "description": "PayPal Fee", "amount": 42.00, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": 616.07, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-29", "description": "Costa Coffee", "amount": 587
2025-08-15 16:28:22,602 - app.services.bedrock_service - INFO - Parsing transaction extraction response: [
{"date": "2025-06-01", "description": "Adobe CC", "amount": 1253.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-01", "description": "Amazon Web Services", "amount": 494.93, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-02", "description": "PayPal Fee", "amount": 146.20, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-06", "description": "Adobe CC", "amount": 687.09, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-06", "description": "Zoom Subscription", "amount": 1380.44, "currency": "GBP", "merchant": "Zoom"},
{"date": "2025-06-07", "description": "Adobe CC", "amount": -214.51, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP", "merchant": "Client"},
{"date": "2025-06-07", "description": "Costa Coffee", "amount": 1156.58, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-07", "description": "TFL Travel", "amount": 1470.87, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-08", "description": "HMRC Payment", "amount": 386.26, "currency": "GBP", "merchant": "HMRC"},
{"date": "2025-06-09", "description": "Adobe CC", "amount": 123.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-09", "description": "Github", "amount": 888.70, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "Github", "amount": 1099.51, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "PayPal Fee", "amount": -140.94, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-10", "description": "Google Ads", "amount": 919.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP", "merchant": "Freelancer"},
{"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": 598.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": 120.37, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Costa Coffee", "amount": 957.21, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-14", "description": "Stripe Payout", "amount": -165.97, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-16", "description": "TransferWise", "amount": -160.48, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-18", "description": "Amazon Web Services", "amount": 1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-18", "description": "Late Fee", "amount": 1495.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": -122.51, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": 1013.75, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-19", "description": "TFL Travel", "amount": 663.95, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-20", "description": "Costa Coffee", "amount": 1089.18, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 221.47, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 392.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-23", "description": "PayPal Fee", "amount": 370.99, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-24", "description": "Google Ads", "amount": 652.07, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "Google Ads", "amount": 133.65, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-25", "description": "PayPal Fee", "amount": 42.00, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": 616.07, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-29", "description": "Costa Coffee", "amount": 587
2025-08-15 16:28:22,603 - app.services.bedrock_service - WARNING - Strategy 2 failed - JSON decode error: Extra data: line 1 column 109 (char 108)
2025-08-15 16:28:22,603 - app.services.bedrock_service - INFO - Strategy 3 successful - Manually extracted 46 transactions
2025-08-15 16:28:22,605 - app.services.bedrock_service - INFO - Final validated transactions: [
  {
    "date": "2025-06-01",
    "description": "{date:  description: Adobe CC amount: 1253.63, currency: GBP merchant: Adobe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-01",
    "description": "{date:  description: Amazon Web Services amount: 494.93, currency: GBP merchant: Amazon Web Services},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{date:  description: PayPal Fee amount: 146.20, currency: GBP merchant: PayPal},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{date:  description: Stripe Payout amount: 281.48, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{date:  description: Adobe CC amount: 687.09, currency: GBP merchant: Adobe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{date:  description: Zoom Subscription amount: 1380.44, currency: GBP merchant: Zoom},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{date:  description: Adobe CC amount: -214.51, currency: GBP merchant: Adobe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{date:  description: Client Refund amount: 1003.31, currency: GBP merchant: Client},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{date:  description: Costa Coffee amount: 1156.58, currency: GBP merchant: Costa Coffee},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{date:  description: TFL Travel amount: 1470.87, currency: GBP merchant: TFL},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-08",
    "description": "{date:  description: HMRC Payment amount: 386.26, currency: GBP merchant: HMRC},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{date:  description: Adobe CC amount: 123.63, currency: GBP merchant: Adobe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{date:  description: Github amount: 888.70, currency: GBP merchant: Github},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{date:  description: Github amount: 1099.51, currency: GBP merchant: Github},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{date:  description: PayPal Fee amount: -140.94, currency: GBP merchant: PayPal},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{date:  description: Google Ads amount: 919.83, currency: GBP merchant: Google},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{date:  description: Stripe Payout amount: 1377.52, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-12",
    "description": "{date:  description: Freelancer Income amount: 937.34, currency: GBP merchant: Freelancer},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-13",
    "description": "{date:  description: Account Maintenance Fee amount: 598.34, currency: GBP merchant: Bank},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{date:  description: Account Maintenance Fee amount: 120.37, currency: GBP merchant: Bank},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{date:  description: Costa Coffee amount: 957.21, currency: GBP merchant: Costa Coffee},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{date:  description: Stripe Payout amount: -165.97, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-16",
    "description": "{date:  description: TransferWise amount: -160.48, currency: GBP merchant: TransferWise},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-17",
    "description": "{date:  description: Stripe Payout amount: 1325.16, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{date:  description: Amazon Web Services amount: 1155.33, currency: GBP merchant: Amazon Web Services},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{date:  description: Late Fee amount: 1495.34, currency: GBP merchant: Bank},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{date:  description: Upwork Ltd Payment amount: -122.51, currency: GBP merchant: Upwork},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{date:  description: Upwork Ltd Payment amount: 1016.92, currency: GBP merchant: Upwork},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{date:  description: Account Maintenance Fee amount: 1013.75, currency: GBP merchant: Bank},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{date:  description: TFL Travel amount: 663.95, currency: GBP merchant: TFL},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-20",
    "description": "{date:  description: Costa Coffee amount: 1089.18, currency: GBP merchant: Costa Coffee},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{date:  description: Google Ads amount: 221.47, currency: GBP merchant: Google},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{date:  description: Google Ads amount: 392.83, currency: GBP merchant: Google},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-23",
    "description": "{date:  description: PayPal Fee amount: 370.99, currency: GBP merchant: PayPal},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{date:  description: Google Ads amount: 652.07, currency: GBP merchant: Google},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{date:  description: Stripe Payout amount: 401.21, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{date:  description: Stripe Payout amount: 471.83, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{date:  description: Google Ads amount: 133.65, currency: GBP merchant: Google},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{date:  description: PayPal Fee amount: 42.00, currency: GBP merchant: PayPal},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{date:  description: Stripe Payout amount: 619.82, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{date:  description: TransferWise amount: 1061.66, currency: GBP merchant: TransferWise},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{date:  description: Account Maintenance Fee amount: 616.07, currency: GBP merchant: Bank},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{date:  description: TransferWise amount: 257.68, currency: GBP merchant: TransferWise},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{date:  description: Upwork Ltd Payment amount: 266.17, currency: GBP merchant: Upwork},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-28",
    "description": "{date:  description: TransferWise amount: 394.26, currency: GBP merchant: TransferWise},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-29",
    "description": "{date:  description: Costa Coffee amount: 587",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  }
]
2025-08-15 16:28:22,605 - app.services.bedrock_service - INFO - [extract_162749318] PDF extraction completed successfully - Transactions found: 46, Time: 33.286s
2025-08-15 16:28:22,605 - app.services.bedrock_service - INFO - [extract_162749318] Parsed transactions: [
  {
    "date": "2025-06-01",
    "description": "{date:  description: Adobe CC amount: 1253.63, currency: GBP merchant: Adobe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-01",
    "description": "{date:  description: Amazon Web Services amount: 494.93, currency: GBP merchant: Amazon Web Services},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{date:  description: PayPal Fee amount: 146.20, currency: GBP merchant: PayPal},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{date:  description: Stripe Payout amount: 281.48, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{date:  description: Adobe CC amount: 687.09, currency: GBP merchant: Adobe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{date:  description: Zoom Subscription amount: 1380.44, currency: GBP merchant: Zoom},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{date:  description: Adobe CC amount: -214.51, currency: GBP merchant: Adobe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{date:  description: Client Refund amount: 1003.31, currency: GBP merchant: Client},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{date:  description: Costa Coffee amount: 1156.58, currency: GBP merchant: Costa Coffee},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{date:  description: TFL Travel amount: 1470.87, currency: GBP merchant: TFL},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-08",
    "description": "{date:  description: HMRC Payment amount: 386.26, currency: GBP merchant: HMRC},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{date:  description: Adobe CC amount: 123.63, currency: GBP merchant: Adobe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{date:  description: Github amount: 888.70, currency: GBP merchant: Github},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{date:  description: Github amount: 1099.51, currency: GBP merchant: Github},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{date:  description: PayPal Fee amount: -140.94, currency: GBP merchant: PayPal},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{date:  description: Google Ads amount: 919.83, currency: GBP merchant: Google},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{date:  description: Stripe Payout amount: 1377.52, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-12",
    "description": "{date:  description: Freelancer Income amount: 937.34, currency: GBP merchant: Freelancer},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-13",
    "description": "{date:  description: Account Maintenance Fee amount: 598.34, currency: GBP merchant: Bank},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{date:  description: Account Maintenance Fee amount: 120.37, currency: GBP merchant: Bank},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{date:  description: Costa Coffee amount: 957.21, currency: GBP merchant: Costa Coffee},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{date:  description: Stripe Payout amount: -165.97, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-16",
    "description": "{date:  description: TransferWise amount: -160.48, currency: GBP merchant: TransferWise},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-17",
    "description": "{date:  description: Stripe Payout amount: 1325.16, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{date:  description: Amazon Web Services amount: 1155.33, currency: GBP merchant: Amazon Web Services},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{date:  description: Late Fee amount: 1495.34, currency: GBP merchant: Bank},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{date:  description: Upwork Ltd Payment amount: -122.51, currency: GBP merchant: Upwork},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{date:  description: Upwork Ltd Payment amount: 1016.92, currency: GBP merchant: Upwork},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{date:  description: Account Maintenance Fee amount: 1013.75, currency: GBP merchant: Bank},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{date:  description: TFL Travel amount: 663.95, currency: GBP merchant: TFL},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-20",
    "description": "{date:  description: Costa Coffee amount: 1089.18, currency: GBP merchant: Costa Coffee},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{date:  description: Google Ads amount: 221.47, currency: GBP merchant: Google},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{date:  description: Google Ads amount: 392.83, currency: GBP merchant: Google},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-23",
    "description": "{date:  description: PayPal Fee amount: 370.99, currency: GBP merchant: PayPal},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{date:  description: Google Ads amount: 652.07, currency: GBP merchant: Google},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{date:  description: Stripe Payout amount: 401.21, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{date:  description: Stripe Payout amount: 471.83, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{date:  description: Google Ads amount: 133.65, currency: GBP merchant: Google},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{date:  description: PayPal Fee amount: 42.00, currency: GBP merchant: PayPal},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{date:  description: Stripe Payout amount: 619.82, currency: GBP merchant: Stripe},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{date:  description: TransferWise amount: 1061.66, currency: GBP merchant: TransferWise},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{date:  description: Account Maintenance Fee amount: 616.07, currency: GBP merchant: Bank},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{date:  description: TransferWise amount: 257.68, currency: GBP merchant: TransferWise},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{date:  description: Upwork Ltd Payment amount: 266.17, currency: GBP merchant: Upwork},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-28",
    "description": "{date:  description: TransferWise amount: 394.26, currency: GBP merchant: TransferWise},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-29",
    "description": "{date:  description: Costa Coffee amount: 587",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  }
]
2025-08-15 16:28:22,605 - app.services.transaction_service - INFO - Transactions extracted from PDF: 46 found
2025-08-15 16:28:22,605 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-15 16:28:23,694 - app.services.bedrock_service - INFO - [classify_162822606] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Software subscriptions like Adobe Creative Cloud are common business expenses for freelancers", "category": "software_subscription"}
2025-08-15 16:28:23,694 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Software subscriptions like Adobe Creative Cloud are common business expenses for freelancers', 'category': 'software_subscription'}
2025-08-15 16:28:23,694 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Software subscriptions like Adobe Creative Cloud are common business expenses for freelancers",
  "category": "software_subscription"
}
2025-08-15 16:28:25,075 - app.services.bedrock_service - INFO - [classify_162823720] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Cloud computing services like AWS are commonly used for business purposes by freelancers and consultants", "category": "cloud_services"}
2025-08-15 16:28:25,075 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Cloud computing services like AWS are commonly used for business purposes by freelancers and consultants', 'category': 'cloud_services'}
2025-08-15 16:28:25,076 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Cloud computing services like AWS are commonly used for business purposes by freelancers and consultants",
  "category": "cloud_services"
}
2025-08-15 16:28:26,415 - app.services.bedrock_service - INFO - [classify_162825082] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for business services", "category": "business_fees"}
2025-08-15 16:28:26,417 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for business services', 'category': 'business_fees'}
2025-08-15 16:28:26,417 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for business services",
  "category": "business_fees"
}
2025-08-15 16:28:28,662 - app.services.bedrock_service - INFO - [classify_162826420] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are income received for freelance or business services", "category": "income"}
2025-08-15 16:28:28,663 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are income received for freelance or business services', 'category': 'income'}
2025-08-15 16:28:28,663 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are income received for freelance or business services",
  "category": "income"
}
2025-08-15 16:28:32,682 - app.services.bedrock_service - INFO - [classify_162828667] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work", "category": "software_subscription"}
2025-08-15 16:28:32,683 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work', 'category': 'software_subscription'}
2025-08-15 16:28:32,684 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work",
  "category": "software_subscription"
}
2025-08-15 16:28:36,679 - app.services.bedrock_service - INFO - [classify_162832688] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Zoom subscription is a common business expense for freelancers and consultants", "category": "software_subscription"}
2025-08-15 16:28:36,679 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Zoom subscription is a common business expense for freelancers and consultants', 'category': 'software_subscription'}
2025-08-15 16:28:36,680 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Zoom subscription is a common business expense for freelancers and consultants",
  "category": "software_subscription"
}
2025-08-15 16:28:44,321 - app.services.bedrock_service - ERROR - [classify_162836683] Classification failed after 7.637s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:28:50,749 - app.services.bedrock_service - INFO - [classify_162844331] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "A client refund is directly related to freelance business income", "category": "income_refund"}
2025-08-15 16:28:50,750 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'A client refund is directly related to freelance business income', 'category': 'income_refund'}
2025-08-15 16:28:50,751 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "A client refund is directly related to freelance business income",
  "category": "income_refund"
}
2025-08-15 16:28:59,936 - app.services.bedrock_service - INFO - [classify_162850755] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.9, "reasoning": "Coffee purchases from cafes are typically personal expenses", "category": "food_dining"}
2025-08-15 16:28:59,937 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Coffee purchases from cafes are typically personal expenses', 'category': 'food_dining'}
2025-08-15 16:28:59,937 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Coffee purchases from cafes are typically personal expenses",
  "category": "food_dining"
}
2025-08-15 16:29:06,313 - app.services.bedrock_service - ERROR - [classify_162859947] Classification failed after 6.366s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:29:09,849 - app.services.bedrock_service - ERROR - [classify_162906322] Classification failed after 3.526s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:29:12,869 - app.services.bedrock_service - INFO - [classify_162909853] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work", "category": "software_subscription"}
2025-08-15 16:29:12,870 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work', 'category': 'software_subscription'}
2025-08-15 16:29:12,870 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work",
  "category": "software_subscription"
}
2025-08-15 16:29:20,385 - app.services.bedrock_service - ERROR - [classify_162912878] Classification failed after 7.506s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:29:24,238 - app.services.bedrock_service - INFO - [classify_162920389] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "GitHub subscription is a common expense for freelance developers and programmers", "category": "software_subscription"}
2025-08-15 16:29:24,239 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'GitHub subscription is a common expense for freelance developers and programmers', 'category': 'software_subscription'}
2025-08-15 16:29:24,239 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "GitHub subscription is a common expense for freelance developers and programmers",
  "category": "software_subscription"
}
2025-08-15 16:29:31,573 - app.services.bedrock_service - ERROR - [classify_162924245] Classification failed after 7.329s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:29:41,029 - app.services.bedrock_service - INFO - [classify_162931582] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising expense for businesses", "category": "marketing_advertising"}
2025-08-15 16:29:41,030 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising expense for businesses', 'category': 'marketing_advertising'}
2025-08-15 16:29:41,031 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising expense for businesses",
  "category": "marketing_advertising"
}
2025-08-15 16:29:45,470 - app.services.bedrock_service - ERROR - [classify_162941036] Classification failed after 4.435s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:29:48,505 - app.services.bedrock_service - INFO - [classify_162945476] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Income from freelancing work is considered business revenue", "category": "freelance_income"}
2025-08-15 16:29:48,506 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Income from freelancing work is considered business revenue', 'category': 'freelance_income'}
2025-08-15 16:29:48,507 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Income from freelancing work is considered business revenue",
  "category": "freelance_income"
}
2025-08-15 16:29:57,086 - app.services.bedrock_service - ERROR - [classify_162948512] Classification failed after 8.574s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:30:00,586 - app.services.bedrock_service - INFO - [classify_162957092] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "Bank fees and account maintenance charges are typically business expenses for freelancers", "category": "banking_fees"}
2025-08-15 16:30:00,587 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.8, 'reasoning': 'Bank fees and account maintenance charges are typically business expenses for freelancers', 'category': 'banking_fees'}
2025-08-15 16:30:00,587 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "Bank fees and account maintenance charges are typically business expenses for freelancers",
  "category": "banking_fees"
}
2025-08-15 16:30:04,683 - app.services.bedrock_service - ERROR - [classify_163000591] Classification failed after 4.092s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:30:12,465 - app.services.bedrock_service - INFO - [classify_163004694] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are income received for freelance or business services", "category": "income"}
2025-08-15 16:30:12,467 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are income received for freelance or business services', 'category': 'income'}
2025-08-15 16:30:12,467 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are income received for freelance or business services",
  "category": "income"
}
2025-08-15 16:30:21,661 - app.services.bedrock_service - ERROR - [classify_163012471] Classification failed after 9.190s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:30:24,451 - app.services.bedrock_service - INFO - [classify_163021668] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payouts from payment processors like Stripe are typically income for freelancers and businesses", "category": "income"}
2025-08-15 16:30:24,452 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payouts from payment processors like Stripe are typically income for freelancers and businesses', 'category': 'income'}
2025-08-15 16:30:24,453 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payouts from payment processors like Stripe are typically income for freelancers and businesses",
  "category": "income"
}
2025-08-15 16:30:31,308 - app.services.bedrock_service - ERROR - [classify_163024458] Classification failed after 6.849s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:30:37,450 - app.services.bedrock_service - INFO - [classify_163031339] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.9, "reasoning": "Late fees charged by banks are typically personal expenses related to mismanaged finances", "category": "bank_fees"}
2025-08-15 16:30:37,451 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Late fees charged by banks are typically personal expenses related to mismanaged finances', 'category': 'bank_fees'}
2025-08-15 16:30:37,451 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Late fees charged by banks are typically personal expenses related to mismanaged finances",
  "category": "bank_fees"
}
2025-08-15 16:30:46,679 - app.services.bedrock_service - ERROR - [classify_163037455] Classification failed after 9.224s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:30:48,203 - app.services.bedrock_service - INFO - [classify_163046711] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payment from Upwork is likely income from freelance work", "category": "freelance_income"}
2025-08-15 16:30:48,203 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payment from Upwork is likely income from freelance work', 'category': 'freelance_income'}
2025-08-15 16:30:48,204 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment from Upwork is likely income from freelance work",
  "category": "freelance_income"
}
2025-08-15 16:31:00,518 - app.services.bedrock_service - INFO - [classify_163048207] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "Bank fees and account maintenance charges are typically business expenses for freelancers", "category": "banking_fees"}
2025-08-15 16:31:00,519 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.8, 'reasoning': 'Bank fees and account maintenance charges are typically business expenses for freelancers', 'category': 'banking_fees'}
2025-08-15 16:31:00,520 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "Bank fees and account maintenance charges are typically business expenses for freelancers",
  "category": "banking_fees"
}
2025-08-15 16:31:12,369 - app.services.bedrock_service - INFO - [classify_163100543] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "Travel expenses are typically business expenses for freelancers", "category": "transportation"}
2025-08-15 16:31:12,371 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.8, 'reasoning': 'Travel expenses are typically business expenses for freelancers', 'category': 'transportation'}
2025-08-15 16:31:12,372 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "Travel expenses are typically business expenses for freelancers",
  "category": "transportation"
}
2025-08-15 16:31:19,500 - app.services.bedrock_service - ERROR - [classify_163112377] Classification failed after 7.123s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:31:26,841 - app.services.bedrock_service - INFO - [classify_163119511] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising expense for businesses", "category": "advertising"}
2025-08-15 16:31:26,843 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising expense for businesses', 'category': 'advertising'}
2025-08-15 16:31:26,843 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising expense for businesses",
  "category": "advertising"
}
2025-08-15 16:31:37,356 - app.services.bedrock_service - INFO - [classify_163126847] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising expense for businesses", "category": "advertising"}
2025-08-15 16:31:37,358 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising expense for businesses', 'category': 'advertising'}
2025-08-15 16:31:37,359 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising expense for businesses",
  "category": "advertising"
}
2025-08-15 16:31:45,237 - app.services.bedrock_service - ERROR - [classify_163137372] Classification failed after 7.865s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:31:49,335 - app.services.bedrock_service - INFO - [classify_163145244] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising expense for businesses", "category": "marketing_advertising"}
2025-08-15 16:31:49,335 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising expense for businesses', 'category': 'marketing_advertising'}
2025-08-15 16:31:49,336 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising expense for businesses",
  "category": "marketing_advertising"
}
2025-08-15 16:31:54,334 - app.services.bedrock_service - ERROR - [classify_163149339] Classification failed after 4.995s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:32:00,687 - app.services.bedrock_service - INFO - [classify_163154339] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payouts from payment processors like Stripe are typically for business income", "category": "income"}
2025-08-15 16:32:00,687 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payouts from payment processors like Stripe are typically for business income', 'category': 'income'}
2025-08-15 16:32:00,688 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payouts from payment processors like Stripe are typically for business income",
  "category": "income"
}
2025-08-15 16:32:13,825 - app.services.bedrock_service - INFO - [classify_163200694] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising expense for businesses", "category": "advertising"}
2025-08-15 16:32:13,826 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising expense for businesses', 'category': 'advertising'}
2025-08-15 16:32:13,826 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising expense for businesses",
  "category": "advertising"
}
2025-08-15 16:32:20,113 - app.services.bedrock_service - ERROR - [classify_163213828] Classification failed after 6.285s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:32:25,979 - app.services.bedrock_service - INFO - [classify_163220118] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payouts from payment processors like Stripe are typically for business income", "category": "income"}
2025-08-15 16:32:25,981 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payouts from payment processors like Stripe are typically for business income', 'category': 'income'}
2025-08-15 16:32:25,981 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payouts from payment processors like Stripe are typically for business income",
  "category": "income"
}
2025-08-15 16:32:37,425 - app.services.bedrock_service - INFO - [classify_163225987] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "TransferWise is a money transfer service often used by freelancers for international payments", "category": "financial_services"}
2025-08-15 16:32:37,427 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.8, 'reasoning': 'TransferWise is a money transfer service often used by freelancers for international payments', 'category': 'financial_services'}
2025-08-15 16:32:37,428 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service often used by freelancers for international payments",
  "category": "financial_services"
}
2025-08-15 16:32:40,946 - app.services.bedrock_service - ERROR - [classify_163237432] Classification failed after 3.514s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:32:52,824 - app.services.bedrock_service - INFO - [classify_163240953] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "TransferWise is a money transfer service often used by freelancers for international payments", "category": "financial_services"}
2025-08-15 16:32:52,825 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.8, 'reasoning': 'TransferWise is a money transfer service often used by freelancers for international payments', 'category': 'financial_services'}
2025-08-15 16:32:52,825 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service often used by freelancers for international payments",
  "category": "financial_services"
}
2025-08-15 16:33:02,261 - app.services.bedrock_service - INFO - [classify_163252830] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payment from Upwork is likely income from freelance work", "category": "freelance_income"}
2025-08-15 16:33:02,262 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payment from Upwork is likely income from freelance work', 'category': 'freelance_income'}
2025-08-15 16:33:02,262 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment from Upwork is likely income from freelance work",
  "category": "freelance_income"
}
2025-08-15 16:33:12,897 - app.services.bedrock_service - INFO - [classify_163302265] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "TransferWise is a money transfer service often used by freelancers for international payments", "category": "financial_services"}
2025-08-15 16:33:12,898 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.8, 'reasoning': 'TransferWise is a money transfer service often used by freelancers for international payments', 'category': 'financial_services'}
2025-08-15 16:33:12,898 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service often used by freelancers for international payments",
  "category": "financial_services"
}
2025-08-15 16:33:17,261 - app.services.bedrock_service - ERROR - [classify_163312905] Classification failed after 4.356s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:33:17,277 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 46, Errors: 0, Time: 327.97s
2025-08-15 16:33:17,278 - app.api.transactions - INFO - [upload_20250815_162749_8b43cd5c] PDF processing completed - Result: {'processed_count': 46, 'transactions': [{'id': '2671802c-ec7a-43e9-ab99-19ad98755db7', 'date': '2025-06-01', 'description': '{date:  description: Adobe CC amount: 1253.63, currency: GBP merchant: Adobe},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'software_subscription'}, {'id': 'da3eeeda-a70b-4c5a-b218-f2e5fd9343e6', 'date': '2025-06-01', 'description': '{date:  description: Amazon Web Services amount: 494.93, currency: GBP merchant: Amazon Web Services},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'cloud_services'}, {'id': 'b0967ca7-22f0-49bf-bf47-0c5e3ca1c55d', 'date': '2025-06-02', 'description': '{date:  description: PayPal Fee amount: 146.20, currency: GBP merchant: PayPal},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'business_fees'}, {'id': 'f1574fe5-c23f-46dc-ae2f-e67058d3585b', 'date': '2025-06-02', 'description': '{date:  description: Stripe Payout amount: 281.48, currency: GBP merchant: Stripe},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '0cb84776-0562-4836-930b-73e40f7bc621', 'date': '2025-06-06', 'description': '{date:  description: Adobe CC amount: 687.09, currency: GBP merchant: Adobe},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software_subscription'}, {'id': '9a455a1f-85a4-4fb7-8eb2-66b7504d47da', 'date': '2025-06-06', 'description': '{date:  description: Zoom Subscription amount: 1380.44, currency: GBP merchant: Zoom},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'software_subscription'}, {'id': '48f73784-9ad1-4f17-83ca-6212507bd01d', 'date': '2025-06-07', 'description': '{date:  description: Adobe CC amount: -214.51, currency: GBP merchant: Adobe},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '81dcee9e-267b-45ae-97d7-4e36352063a0', 'date': '2025-06-07', 'description': '{date:  description: Client Refund amount: 1003.31, currency: GBP merchant: Client},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income_refund'}, {'id': '200b01ff-d621-4184-86fc-f8c8c1eae97d', 'date': '2025-06-07', 'description': '{date:  description: Costa Coffee amount: 1156.58, currency: GBP merchant: Costa Coffee},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.9, 'category': 'food_dining'}, {'id': '2a3eb052-26b3-408b-8c2d-9f4bf117ddb0', 'date': '2025-06-07', 'description': '{date:  description: TFL Travel amount: 1470.87, currency: GBP merchant: TFL},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '603fe5fa-6bd3-4b33-a8fb-1526f6d4035a', 'date': '2025-06-08', 'description': '{date:  description: HMRC Payment amount: 386.26, currency: GBP merchant: HMRC},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '83eb47e6-02c6-4ce3-b51b-b315b5312717', 'date': '2025-06-09', 'description': '{date:  description: Adobe CC amount: 123.63, currency: GBP merchant: Adobe},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software_subscription'}, {'id': '14a1a4a7-27ef-458d-b1cc-73a2c9d010c5', 'date': '2025-06-09', 'description': '{date:  description: Github amount: 888.70, currency: GBP merchant: Github},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '5b23eafe-1e80-4b31-8406-11199df17f01', 'date': '2025-06-09', 'description': '{date:  description: Github amount: 1099.51, currency: GBP merchant: Github},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'software_subscription'}, {'id': '72961fa6-d38c-4896-b073-4a6222457a40', 'date': '2025-06-09', 'description': '{date:  description: PayPal Fee amount: -140.94, currency: GBP merchant: PayPal},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'e47e6595-0a40-4faf-88fd-47e34953cc98', 'date': '2025-06-10', 'description': '{date:  description: Google Ads amount: 919.83, currency: GBP merchant: Google},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'marketing_advertising'}, {'id': 'f254c9ce-923e-42a7-b621-5c1bc32cffeb', 'date': '2025-06-10', 'description': '{date:  description: Stripe Payout amount: 1377.52, currency: GBP merchant: Stripe},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'b2024ddb-bc4e-4ef0-b644-e8235805aeba', 'date': '2025-06-12', 'description': '{date:  description: Freelancer Income amount: 937.34, currency: GBP merchant: Freelancer},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'freelance_income'}, {'id': 'b5b9ff10-a313-41f8-9507-3ba68380b1b1', 'date': '2025-06-13', 'description': '{date:  description: Account Maintenance Fee amount: 598.34, currency: GBP merchant: Bank},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '8c5dd70b-bfcf-4d90-855f-67046f826abe', 'date': '2025-06-14', 'description': '{date:  description: Account Maintenance Fee amount: 120.37, currency: GBP merchant: Bank},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.8, 'category': 'banking_fees'}, {'id': '96c7277e-7d30-4a85-b26f-891969ab3a59', 'date': '2025-06-14', 'description': '{date:  description: Costa Coffee amount: 957.21, currency: GBP merchant: Costa Coffee},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '9727b3da-4f1e-4d64-9005-43807a3ddedf', 'date': '2025-06-14', 'description': '{date:  description: Stripe Payout amount: -165.97, currency: GBP merchant: Stripe},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '68b2ac60-bc66-4bb3-bfa3-5ddb1bc4d4c9', 'date': '2025-06-16', 'description': '{date:  description: TransferWise amount: -160.48, currency: GBP merchant: TransferWise},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '25cbe680-de54-414b-b190-fa2d28f1467e', 'date': '2025-06-17', 'description': '{date:  description: Stripe Payout amount: 1325.16, currency: GBP merchant: Stripe},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '7801fa85-b578-4088-9c7c-29515ed2ac38', 'date': '2025-06-18', 'description': '{date:  description: Amazon Web Services amount: 1155.33, currency: GBP merchant: Amazon Web Services},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '2ab280c3-8a81-4e77-8e2c-5fead2ced34e', 'date': '2025-06-18', 'description': '{date:  description: Late Fee amount: 1495.34, currency: GBP merchant: Bank},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.9, 'category': 'bank_fees'}, {'id': '0e21eb35-5085-4475-bef9-12082b5b1a07', 'date': '2025-06-18', 'description': '{date:  description: Upwork Ltd Payment amount: -122.51, currency: GBP merchant: Upwork},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '43031bca-334b-454e-b386-bdd12f3bb037', 'date': '2025-06-18', 'description': '{date:  description: Upwork Ltd Payment amount: 1016.92, currency: GBP merchant: Upwork},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'freelance_income'}, {'id': '9b91a470-e32d-4b2c-9e40-73c2f2c52e70', 'date': '2025-06-19', 'description': '{date:  description: Account Maintenance Fee amount: 1013.75, currency: GBP merchant: Bank},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.8, 'category': 'banking_fees'}, {'id': '406f7c00-739c-4283-954e-1a0009e8f106', 'date': '2025-06-19', 'description': '{date:  description: TFL Travel amount: 663.95, currency: GBP merchant: TFL},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.8, 'category': 'transportation'}, {'id': 'cc44aca7-95b8-4887-aa82-2bdc59324894', 'date': '2025-06-20', 'description': '{date:  description: Costa Coffee amount: 1089.18, currency: GBP merchant: Costa Coffee},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '33119474-95ce-47eb-89f2-a11b5393eaff', 'date': '2025-06-22', 'description': '{date:  description: Google Ads amount: 221.47, currency: GBP merchant: Google},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'advertising'}, {'id': 'aaff19b3-9205-49c6-a955-d26481ae6f34', 'date': '2025-06-22', 'description': '{date:  description: Google Ads amount: 392.83, currency: GBP merchant: Google},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'advertising'}, {'id': '5679da4d-333e-40e2-9c3f-18f85fd7d64d', 'date': '2025-06-23', 'description': '{date:  description: PayPal Fee amount: 370.99, currency: GBP merchant: PayPal},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'f4d0eaf3-22d8-47ad-aece-4e07b6ac3f8f', 'date': '2025-06-24', 'description': '{date:  description: Google Ads amount: 652.07, currency: GBP merchant: Google},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'marketing_advertising'}, {'id': 'c9dd4d91-c967-41a5-adb2-cf7a53e541f1', 'date': '2025-06-24', 'description': '{date:  description: Stripe Payout amount: 401.21, currency: GBP merchant: Stripe},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'c40a853d-f29d-476b-bcc3-b6b764c18a0d', 'date': '2025-06-24', 'description': '{date:  description: Stripe Payout amount: 471.83, currency: GBP merchant: Stripe},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '4d94b789-9e66-48a1-9299-8ef79b3bec54', 'date': '2025-06-25', 'description': '{date:  description: Google Ads amount: 133.65, currency: GBP merchant: Google},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'advertising'}, {'id': '077aed6c-8e5f-4767-ac89-f02bc156f600', 'date': '2025-06-25', 'description': '{date:  description: PayPal Fee amount: 42.00, currency: GBP merchant: PayPal},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'a700f4a9-3ba1-43a2-93f3-4e3542c2c3a8', 'date': '2025-06-25', 'description': '{date:  description: Stripe Payout amount: 619.82, currency: GBP merchant: Stripe},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': 'd1e281b4-45b2-4c90-bfaa-470e12a87350', 'date': '2025-06-25', 'description': '{date:  description: TransferWise amount: 1061.66, currency: GBP merchant: TransferWise},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.8, 'category': 'financial_services'}, {'id': '9b11e6c6-7b38-4f88-b9c8-fa5ebbf18b5a', 'date': '2025-06-26', 'description': '{date:  description: Account Maintenance Fee amount: 616.07, currency: GBP merchant: Bank},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'a9dd4641-bcaf-4fca-94a3-c6869c709fb5', 'date': '2025-06-26', 'description': '{date:  description: TransferWise amount: 257.68, currency: GBP merchant: TransferWise},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.8, 'category': 'financial_services'}, {'id': '9ec265e4-4382-4d85-acf5-da1d136fcd73', 'date': '2025-06-26', 'description': '{date:  description: Upwork Ltd Payment amount: 266.17, currency: GBP merchant: Upwork},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'freelance_income'}, {'id': '12c55813-0ed1-4a04-936d-27049d31df23', 'date': '2025-06-28', 'description': '{date:  description: TransferWise amount: 394.26, currency: GBP merchant: TransferWise},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.8, 'category': 'financial_services'}, {'id': '5af88461-f933-4023-8ab8-9a27ce064cfe', 'date': '2025-06-29', 'description': '{date:  description: Costa Coffee amount: 587', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}], 'errors': [], 'processing_time': 327.970609}
2025-08-15 16:33:17,278 - app.api.transactions - INFO - [upload_20250815_162749_8b43cd5c] File processing completed successfully - Processing time: 327.97s, Transactions processed: 46
2025-08-15 16:34:07,876 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 16:34:08,942 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 16:34:08,958 - app.main - INFO - Database tables created/verified
2025-08-15 16:34:08,958 - app.main - INFO - CORS middleware configured
2025-08-15 16:34:08,962 - app.main - INFO - API routers included
2025-08-15 16:34:08,963 - app.main - INFO - 🚀 Application starting up...
2025-08-15 16:34:08,963 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 16:34:08,964 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 16:34:08,964 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 16:34:08,964 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 16:34:08,964 - app.main - INFO - ✅ Application startup complete
2025-08-15 16:44:04,830 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 16:44:05,625 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 16:44:05,635 - app.main - INFO - Database tables created/verified
2025-08-15 16:44:05,635 - app.main - INFO - CORS middleware configured
2025-08-15 16:44:05,639 - app.main - INFO - API routers included
2025-08-15 16:44:05,639 - app.main - INFO - 🚀 Application starting up...
2025-08-15 16:44:05,639 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 16:44:05,640 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 16:44:05,640 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 16:44:05,640 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 16:44:05,640 - app.main - INFO - ✅ Application startup complete
2025-08-15 16:45:46,830 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 16:45:47,658 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 16:45:47,669 - app.main - INFO - Database tables created/verified
2025-08-15 16:45:47,670 - app.main - INFO - CORS middleware configured
2025-08-15 16:45:47,673 - app.main - INFO - API routers included
2025-08-15 16:45:47,674 - app.main - INFO - 🚀 Application starting up...
2025-08-15 16:45:47,674 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 16:45:47,674 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 16:45:47,674 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 16:45:47,674 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 16:45:47,674 - app.main - INFO - ✅ Application startup complete
2025-08-15 16:46:02,963 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 16:46:03,675 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 16:46:03,683 - app.main - INFO - Database tables created/verified
2025-08-15 16:46:03,683 - app.main - INFO - CORS middleware configured
2025-08-15 16:46:03,687 - app.main - INFO - API routers included
2025-08-15 16:46:03,687 - app.main - INFO - 🚀 Application starting up...
2025-08-15 16:46:03,688 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 16:46:03,688 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 16:46:03,688 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 16:46:03,688 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 16:46:03,688 - app.main - INFO - ✅ Application startup complete
2025-08-15 16:46:26,045 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 16:46:26,671 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 16:46:26,678 - app.main - INFO - Database tables created/verified
2025-08-15 16:46:26,678 - app.main - INFO - CORS middleware configured
2025-08-15 16:46:26,681 - app.main - INFO - API routers included
2025-08-15 16:46:26,682 - app.main - INFO - 🚀 Application starting up...
2025-08-15 16:46:26,682 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 16:46:26,682 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 16:46:26,682 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 16:46:26,682 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 16:46:26,683 - app.main - INFO - ✅ Application startup complete
2025-08-15 16:46:37,199 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 16:46:37,861 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 16:46:37,868 - app.main - INFO - Database tables created/verified
2025-08-15 16:46:37,869 - app.main - INFO - CORS middleware configured
2025-08-15 16:46:37,872 - app.main - INFO - API routers included
2025-08-15 16:46:37,873 - app.main - INFO - 🚀 Application starting up...
2025-08-15 16:46:37,873 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 16:46:37,873 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 16:46:37,873 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 16:46:37,873 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 16:46:37,873 - app.main - INFO - ✅ Application startup complete
2025-08-15 16:48:01,997 - app.api.transactions - INFO - [upload_20250815_164801_8b43cd5c] Starting file upload - User: 8b43cd5c-1bfc-4483-ab59-423b6ad0abf2, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-15 16:48:01,999 - app.api.transactions - INFO - [upload_20250815_164801_8b43cd5c] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-15 16:48:01,999 - app.api.transactions - INFO - [upload_20250815_164801_8b43cd5c] File type validation passed
2025-08-15 16:48:02,000 - app.api.transactions - INFO - [upload_20250815_164801_8b43cd5c] Reading file content for size validation
2025-08-15 16:48:02,000 - app.api.transactions - INFO - [upload_20250815_164801_8b43cd5c] File content read - Size: 4422 bytes
2025-08-15 16:48:02,001 - app.api.transactions - INFO - [upload_20250815_164801_8b43cd5c] File size validation passed
2025-08-15 16:48:02,001 - app.api.transactions - INFO - [upload_20250815_164801_8b43cd5c] Initializing services
2025-08-15 16:48:02,001 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 16:48:02,069 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 16:48:02,069 - app.api.transactions - INFO - [upload_20250815_164801_8b43cd5c] Services initialized successfully
2025-08-15 16:48:02,069 - app.api.transactions - INFO - [upload_20250815_164801_8b43cd5c] Processing file with extension: pdf
2025-08-15 16:48:02,070 - app.api.transactions - INFO - [upload_20250815_164801_8b43cd5c] Processing PDF file
2025-08-15 16:48:02,070 - app.services.transaction_service - INFO - Starting PDF processing for user 8b43cd5c-1bfc-4483-ab59-423b6ad0abf2
2025-08-15 16:48:02,070 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-15 16:48:02,070 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-15 16:48:02,072 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-15 16:48:02,155 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-15 16:48:02,156 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-15 16:48:02,156 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-15 16:48:02,156 - app.services.bedrock_service - INFO - [extract_164802156] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-15 16:48:33,769 - app.services.bedrock_service - INFO - [extract_164802156] Raw Bedrock text response:
[
{"date": "2025-06-01", "description": "Adobe CC", "amount": 1253.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-01", "description": "Amazon Web Services", "amount": 494.93, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-02", "description": "PayPal Fee", "amount": 146.20, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-06", "description": "Adobe CC", "amount": 687.09, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-06", "description": "Zoom Subscription", "amount": 1380.44, "currency": "GBP", "merchant": "Zoom"},
{"date": "2025-06-07", "description": "Adobe CC", "amount": -214.51, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP", "merchant": "Client"},
{"date": "2025-06-07", "description": "Costa Coffee", "amount": 1156.58, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-07", "description": "TFL Travel", "amount": 1470.87, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-08", "description": "HMRC Payment", "amount": 386.26, "currency": "GBP", "merchant": "HMRC"},
{"date": "2025-06-09", "description": "Adobe CC", "amount": 123.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-09", "description": "Github", "amount": 888.70, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "Github", "amount": 1099.51, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "PayPal Fee", "amount": -140.94, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-10", "description": "Google Ads", "amount": 919.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP", "merchant": "Freelancer"},
{"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": 598.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": 120.37, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Costa Coffee", "amount": 957.21, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-14", "description": "Stripe Payout", "amount": -165.97, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-16", "description": "TransferWise", "amount": -160.48, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-18", "description": "Amazon Web Services", "amount": 1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-18", "description": "Late Fee", "amount": 1495.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": -122.51, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": 1013.75, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-19", "description": "TFL Travel", "amount": 663.95, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-20", "description": "Costa Coffee", "amount": 1089.18, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 221.47, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 392.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-23", "description": "PayPal Fee", "amount": 370.99, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-24", "description": "Google Ads", "amount": 652.07, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "Google Ads", "amount": 133.65, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-25", "description": "PayPal Fee", "amount": 42.00, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": 616.07, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-29", "description": "Costa Coffee", "amount": 587
2025-08-15 16:48:33,771 - app.services.bedrock_service - INFO - Parsing transaction extraction response: [
{"date": "2025-06-01", "description": "Adobe CC", "amount": 1253.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-01", "description": "Amazon Web Services", "amount": 494.93, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-02", "description": "PayPal Fee", "amount": 146.20, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-06", "description": "Adobe CC", "amount": 687.09, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-06", "description": "Zoom Subscription", "amount": 1380.44, "currency": "GBP", "merchant": "Zoom"},
{"date": "2025-06-07", "description": "Adobe CC", "amount": -214.51, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP", "merchant": "Client"},
{"date": "2025-06-07", "description": "Costa Coffee", "amount": 1156.58, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-07", "description": "TFL Travel", "amount": 1470.87, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-08", "description": "HMRC Payment", "amount": 386.26, "currency": "GBP", "merchant": "HMRC"},
{"date": "2025-06-09", "description": "Adobe CC", "amount": 123.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-09", "description": "Github", "amount": 888.70, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "Github", "amount": 1099.51, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "PayPal Fee", "amount": -140.94, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-10", "description": "Google Ads", "amount": 919.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP", "merchant": "Freelancer"},
{"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": 598.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": 120.37, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Costa Coffee", "amount": 957.21, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-14", "description": "Stripe Payout", "amount": -165.97, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-16", "description": "TransferWise", "amount": -160.48, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-18", "description": "Amazon Web Services", "amount": 1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-18", "description": "Late Fee", "amount": 1495.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": -122.51, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": 1013.75, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-19", "description": "TFL Travel", "amount": 663.95, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-20", "description": "Costa Coffee", "amount": 1089.18, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 221.47, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 392.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-23", "description": "PayPal Fee", "amount": 370.99, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-24", "description": "Google Ads", "amount": 652.07, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "Google Ads", "amount": 133.65, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-25", "description": "PayPal Fee", "amount": 42.00, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": 616.07, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-29", "description": "Costa Coffee", "amount": 587
2025-08-15 16:48:33,772 - app.services.bedrock_service - WARNING - No JSON array found in response
2025-08-15 16:48:33,774 - app.services.bedrock_service - INFO - [extract_164802156] PDF extraction completed successfully - Transactions found: 0, Time: 31.617s
2025-08-15 16:48:33,775 - app.services.bedrock_service - INFO - [extract_164802156] Parsed transactions: []
2025-08-15 16:48:33,775 - app.services.transaction_service - INFO - Transactions extracted from PDF: 0 found
2025-08-15 16:48:33,776 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-15 16:48:33,778 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 0, Errors: 0, Time: 31.71s
2025-08-15 16:48:33,779 - app.api.transactions - INFO - [upload_20250815_164801_8b43cd5c] PDF processing completed - Result: {'processed_count': 0, 'transactions': [], 'errors': [], 'processing_time': 31.708386}
2025-08-15 16:48:33,779 - app.api.transactions - INFO - [upload_20250815_164801_8b43cd5c] File processing completed successfully - Processing time: 31.71s, Transactions processed: 0
2025-08-15 16:51:00,399 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 16:51:01,298 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 16:51:01,310 - app.main - INFO - Database tables created/verified
2025-08-15 16:51:01,311 - app.main - INFO - CORS middleware configured
2025-08-15 16:51:01,314 - app.main - INFO - API routers included
2025-08-15 16:51:01,315 - app.main - INFO - 🚀 Application starting up...
2025-08-15 16:51:01,315 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 16:51:01,316 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 16:51:01,316 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 16:51:01,316 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 16:51:01,316 - app.main - INFO - ✅ Application startup complete
2025-08-15 16:51:04,635 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 16:51:05,255 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 16:51:05,268 - app.main - INFO - Database tables created/verified
2025-08-15 16:51:05,269 - app.main - INFO - CORS middleware configured
2025-08-15 16:51:05,272 - app.main - INFO - API routers included
2025-08-15 16:51:05,273 - app.main - INFO - 🚀 Application starting up...
2025-08-15 16:51:05,273 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 16:51:05,273 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 16:51:05,273 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 16:51:05,273 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 16:51:05,273 - app.main - INFO - ✅ Application startup complete
2025-08-15 16:51:13,561 - app.api.transactions - INFO - [upload_20250815_165113_8b43cd5c] Starting file upload - User: 8b43cd5c-1bfc-4483-ab59-423b6ad0abf2, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-15 16:51:13,561 - app.api.transactions - INFO - [upload_20250815_165113_8b43cd5c] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-15 16:51:13,561 - app.api.transactions - INFO - [upload_20250815_165113_8b43cd5c] File type validation passed
2025-08-15 16:51:13,562 - app.api.transactions - INFO - [upload_20250815_165113_8b43cd5c] Reading file content for size validation
2025-08-15 16:51:13,562 - app.api.transactions - INFO - [upload_20250815_165113_8b43cd5c] File content read - Size: 4422 bytes
2025-08-15 16:51:13,562 - app.api.transactions - INFO - [upload_20250815_165113_8b43cd5c] File size validation passed
2025-08-15 16:51:13,562 - app.api.transactions - INFO - [upload_20250815_165113_8b43cd5c] Initializing services
2025-08-15 16:51:13,563 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 16:51:13,635 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 16:51:13,635 - app.api.transactions - INFO - [upload_20250815_165113_8b43cd5c] Services initialized successfully
2025-08-15 16:51:13,635 - app.api.transactions - INFO - [upload_20250815_165113_8b43cd5c] Processing file with extension: pdf
2025-08-15 16:51:13,636 - app.api.transactions - INFO - [upload_20250815_165113_8b43cd5c] Processing PDF file
2025-08-15 16:51:13,636 - app.services.transaction_service - INFO - Starting PDF processing for user 8b43cd5c-1bfc-4483-ab59-423b6ad0abf2
2025-08-15 16:51:13,636 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-15 16:51:13,636 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-15 16:51:13,638 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-15 16:51:13,690 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-15 16:51:13,690 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-15 16:51:13,690 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-15 16:51:13,690 - app.services.bedrock_service - INFO - [extract_165113690] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-15 16:51:47,750 - app.services.bedrock_service - INFO - [extract_165113690] Raw Bedrock text response:
[
{"date": "2025-06-01", "description": "Adobe CC", "amount": 1253.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-01", "description": "Amazon Web Services", "amount": 494.93, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-02", "description": "PayPal Fee", "amount": 146.20, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-06", "description": "Adobe CC", "amount": 687.09, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-06", "description": "Zoom Subscription", "amount": 1380.44, "currency": "GBP", "merchant": "Zoom"},
{"date": "2025-06-07", "description": "Adobe CC", "amount": -214.51, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP", "merchant": "Client"},
{"date": "2025-06-07", "description": "Costa Coffee", "amount": 1156.58, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-07", "description": "TFL Travel", "amount": 1470.87, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-08", "description": "HMRC Payment", "amount": 386.26, "currency": "GBP", "merchant": "HMRC"},
{"date": "2025-06-09", "description": "Adobe CC", "amount": 123.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-09", "description": "Github", "amount": 888.70, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "Github", "amount": 1099.51, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "PayPal Fee", "amount": -140.94, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-10", "description": "Google Ads", "amount": 919.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP", "merchant": "Freelancer"},
{"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": 598.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": 120.37, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Costa Coffee", "amount": 957.21, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-14", "description": "Stripe Payout", "amount": -165.97, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-16", "description": "TransferWise", "amount": -160.48, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-18", "description": "Amazon Web Services", "amount": 1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-18", "description": "Late Fee", "amount": 1495.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": -122.51, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": 1013.75, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-19", "description": "TFL Travel", "amount": 663.95, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-20", "description": "Costa Coffee", "amount": 1089.18, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 221.47, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 392.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-23", "description": "PayPal Fee", "amount": 370.99, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-24", "description": "Google Ads", "amount": 652.07, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "Google Ads", "amount": 133.65, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-25", "description": "PayPal Fee", "amount": 42.00, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": 616.07, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-29", "description": "Costa Coffee", "amount": 587.33, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-29", "description": "TransferWise", "amount": 1162.35, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-30", "description": "Google Ads", "amount": 130.42, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-30", "description": "HMRC Payment", "amount": 571.13, "currency": "GBP", "merchant": "HMRC"},
{"date": "2025-06-30", "description": "TFL Travel", "amount": -83.36, "currency": "GBP", "merchant": "TFL"}
]
2025-08-15 16:51:47,753 - app.services.bedrock_service - INFO - Parsing transaction extraction response: [
{"date": "2025-06-01", "description": "Adobe CC", "amount": 1253.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-01", "description": "Amazon Web Services", "amount": 494.93, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-02", "description": "PayPal Fee", "amount": 146.20, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-06", "description": "Adobe CC", "amount": 687.09, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-06", "description": "Zoom Subscription", "amount": 1380.44, "currency": "GBP", "merchant": "Zoom"},
{"date": "2025-06-07", "description": "Adobe CC", "amount": -214.51, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP", "merchant": "Client"},
{"date": "2025-06-07", "description": "Costa Coffee", "amount": 1156.58, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-07", "description": "TFL Travel", "amount": 1470.87, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-08", "description": "HMRC Payment", "amount": 386.26, "currency": "GBP", "merchant": "HMRC"},
{"date": "2025-06-09", "description": "Adobe CC", "amount": 123.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-09", "description": "Github", "amount": 888.70, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "Github", "amount": 1099.51, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "PayPal Fee", "amount": -140.94, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-10", "description": "Google Ads", "amount": 919.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP", "merchant": "Freelancer"},
{"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": 598.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": 120.37, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Costa Coffee", "amount": 957.21, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-14", "description": "Stripe Payout", "amount": -165.97, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-16", "description": "TransferWise", "amount": -160.48, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-18", "description": "Amazon Web Services", "amount": 1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-18", "description": "Late Fee", "amount": 1495.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": -122.51, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": 1013.75, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-19", "description": "TFL Travel", "amount": 663.95, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-20", "description": "Costa Coffee", "amount": 1089.18, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 221.47, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 392.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-23", "description": "PayPal Fee", "amount": 370.99, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-24", "description": "Google Ads", "amount": 652.07, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "Google Ads", "amount": 133.65, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-25", "description": "PayPal Fee", "amount": 42.00, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": 616.07, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-29", "description": "Costa Coffee", "amount": 587.33, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-29", "description": "TransferWise", "amount": 1162.35, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-30", "description": "Google Ads", "amount": 130.42, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-30", "description": "HMRC Payment", "amount": 571.13, "currency": "GBP", "merchant": "HMRC"},
{"date": "2025-06-30", "description": "TFL Travel", "amount": -83.36, "currency": "GBP", "merchant": "TFL"}
]
2025-08-15 16:51:47,753 - app.services.bedrock_service - INFO - Extracted JSON array string: [
{"date": "2025-06-01", "description": "Adobe CC", "amount": 1253.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-01", "description": "Amazon Web Services", "amount": 494.93, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-02", "description": "PayPal Fee", "amount": 146.20, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-06", "description": "Adobe CC", "amount": 687.09, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-06", "description": "Zoom Subscription", "amount": 1380.44, "currency": "GBP", "merchant": "Zoom"},
{"date": "2025-06-07", "description": "Adobe CC", "amount": -214.51, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP", "merchant": "Client"},
{"date": "2025-06-07", "description": "Costa Coffee", "amount": 1156.58, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-07", "description": "TFL Travel", "amount": 1470.87, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-08", "description": "HMRC Payment", "amount": 386.26, "currency": "GBP", "merchant": "HMRC"},
{"date": "2025-06-09", "description": "Adobe CC", "amount": 123.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-09", "description": "Github", "amount": 888.70, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "Github", "amount": 1099.51, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "PayPal Fee", "amount": -140.94, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-10", "description": "Google Ads", "amount": 919.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP", "merchant": "Freelancer"},
{"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": 598.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": 120.37, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Costa Coffee", "amount": 957.21, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-14", "description": "Stripe Payout", "amount": -165.97, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-16", "description": "TransferWise", "amount": -160.48, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-18", "description": "Amazon Web Services", "amount": 1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-18", "description": "Late Fee", "amount": 1495.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": -122.51, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": 1013.75, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-19", "description": "TFL Travel", "amount": 663.95, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-20", "description": "Costa Coffee", "amount": 1089.18, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 221.47, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 392.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-23", "description": "PayPal Fee", "amount": 370.99, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-24", "description": "Google Ads", "amount": 652.07, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "Google Ads", "amount": 133.65, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-25", "description": "PayPal Fee", "amount": 42.00, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": 616.07, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-29", "description": "Costa Coffee", "amount": 587.33, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-29", "description": "TransferWise", "amount": 1162.35, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-30", "description": "Google Ads", "amount": 130.42, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-30", "description": "HMRC Payment", "amount": 571.13, "currency": "GBP", "merchant": "HMRC"},
{"date": "2025-06-30", "description": "TFL Travel", "amount": -83.36, "currency": "GBP", "merchant": "TFL"}
]
2025-08-15 16:51:47,756 - app.services.bedrock_service - INFO - Successfully parsed JSON array: [{'date': '2025-06-01', 'description': 'Adobe CC', 'amount': 1253.63, 'currency': 'GBP', 'merchant': 'Adobe'}, {'date': '2025-06-01', 'description': 'Amazon Web Services', 'amount': 494.93, 'currency': 'GBP', 'merchant': 'Amazon Web Services'}, {'date': '2025-06-02', 'description': 'PayPal Fee', 'amount': 146.2, 'currency': 'GBP', 'merchant': 'PayPal'}, {'date': '2025-06-02', 'description': 'Stripe Payout', 'amount': 281.48, 'currency': 'GBP', 'merchant': 'Stripe'}, {'date': '2025-06-06', 'description': 'Adobe CC', 'amount': 687.09, 'currency': 'GBP', 'merchant': 'Adobe'}, {'date': '2025-06-06', 'description': 'Zoom Subscription', 'amount': 1380.44, 'currency': 'GBP', 'merchant': 'Zoom'}, {'date': '2025-06-07', 'description': 'Adobe CC', 'amount': -214.51, 'currency': 'GBP', 'merchant': 'Adobe'}, {'date': '2025-06-07', 'description': 'Client Refund', 'amount': 1003.31, 'currency': 'GBP', 'merchant': 'Client'}, {'date': '2025-06-07', 'description': 'Costa Coffee', 'amount': 1156.58, 'currency': 'GBP', 'merchant': 'Costa Coffee'}, {'date': '2025-06-07', 'description': 'TFL Travel', 'amount': 1470.87, 'currency': 'GBP', 'merchant': 'TFL'}, {'date': '2025-06-08', 'description': 'HMRC Payment', 'amount': 386.26, 'currency': 'GBP', 'merchant': 'HMRC'}, {'date': '2025-06-09', 'description': 'Adobe CC', 'amount': 123.63, 'currency': 'GBP', 'merchant': 'Adobe'}, {'date': '2025-06-09', 'description': 'Github', 'amount': 888.7, 'currency': 'GBP', 'merchant': 'Github'}, {'date': '2025-06-09', 'description': 'Github', 'amount': 1099.51, 'currency': 'GBP', 'merchant': 'Github'}, {'date': '2025-06-09', 'description': 'PayPal Fee', 'amount': -140.94, 'currency': 'GBP', 'merchant': 'PayPal'}, {'date': '2025-06-10', 'description': 'Google Ads', 'amount': 919.83, 'currency': 'GBP', 'merchant': 'Google'}, {'date': '2025-06-10', 'description': 'Stripe Payout', 'amount': 1377.52, 'currency': 'GBP', 'merchant': 'Stripe'}, {'date': '2025-06-12', 'description': 'Freelancer Income', 'amount': 937.34, 'currency': 'GBP', 'merchant': 'Freelancer'}, {'date': '2025-06-13', 'description': 'Account Maintenance Fee', 'amount': 598.34, 'currency': 'GBP', 'merchant': 'Bank'}, {'date': '2025-06-14', 'description': 'Account Maintenance Fee', 'amount': 120.37, 'currency': 'GBP', 'merchant': 'Bank'}, {'date': '2025-06-14', 'description': 'Costa Coffee', 'amount': 957.21, 'currency': 'GBP', 'merchant': 'Costa Coffee'}, {'date': '2025-06-14', 'description': 'Stripe Payout', 'amount': -165.97, 'currency': 'GBP', 'merchant': 'Stripe'}, {'date': '2025-06-16', 'description': 'TransferWise', 'amount': -160.48, 'currency': 'GBP', 'merchant': 'TransferWise'}, {'date': '2025-06-17', 'description': 'Stripe Payout', 'amount': 1325.16, 'currency': 'GBP', 'merchant': 'Stripe'}, {'date': '2025-06-18', 'description': 'Amazon Web Services', 'amount': 1155.33, 'currency': 'GBP', 'merchant': 'Amazon Web Services'}, {'date': '2025-06-18', 'description': 'Late Fee', 'amount': 1495.34, 'currency': 'GBP', 'merchant': 'Bank'}, {'date': '2025-06-18', 'description': 'Upwork Ltd Payment', 'amount': -122.51, 'currency': 'GBP', 'merchant': 'Upwork'}, {'date': '2025-06-18', 'description': 'Upwork Ltd Payment', 'amount': 1016.92, 'currency': 'GBP', 'merchant': 'Upwork'}, {'date': '2025-06-19', 'description': 'Account Maintenance Fee', 'amount': 1013.75, 'currency': 'GBP', 'merchant': 'Bank'}, {'date': '2025-06-19', 'description': 'TFL Travel', 'amount': 663.95, 'currency': 'GBP', 'merchant': 'TFL'}, {'date': '2025-06-20', 'description': 'Costa Coffee', 'amount': 1089.18, 'currency': 'GBP', 'merchant': 'Costa Coffee'}, {'date': '2025-06-22', 'description': 'Google Ads', 'amount': 221.47, 'currency': 'GBP', 'merchant': 'Google'}, {'date': '2025-06-22', 'description': 'Google Ads', 'amount': 392.83, 'currency': 'GBP', 'merchant': 'Google'}, {'date': '2025-06-23', 'description': 'PayPal Fee', 'amount': 370.99, 'currency': 'GBP', 'merchant': 'PayPal'}, {'date': '2025-06-24', 'description': 'Google Ads', 'amount': 652.07, 'currency': 'GBP', 'merchant': 'Google'}, {'date': '2025-06-24', 'description': 'Stripe Payout', 'amount': 401.21, 'currency': 'GBP', 'merchant': 'Stripe'}, {'date': '2025-06-24', 'description': 'Stripe Payout', 'amount': 471.83, 'currency': 'GBP', 'merchant': 'Stripe'}, {'date': '2025-06-25', 'description': 'Google Ads', 'amount': 133.65, 'currency': 'GBP', 'merchant': 'Google'}, {'date': '2025-06-25', 'description': 'PayPal Fee', 'amount': 42.0, 'currency': 'GBP', 'merchant': 'PayPal'}, {'date': '2025-06-25', 'description': 'Stripe Payout', 'amount': 619.82, 'currency': 'GBP', 'merchant': 'Stripe'}, {'date': '2025-06-25', 'description': 'TransferWise', 'amount': 1061.66, 'currency': 'GBP', 'merchant': 'TransferWise'}, {'date': '2025-06-26', 'description': 'Account Maintenance Fee', 'amount': 616.07, 'currency': 'GBP', 'merchant': 'Bank'}, {'date': '2025-06-26', 'description': 'TransferWise', 'amount': 257.68, 'currency': 'GBP', 'merchant': 'TransferWise'}, {'date': '2025-06-26', 'description': 'Upwork Ltd Payment', 'amount': 266.17, 'currency': 'GBP', 'merchant': 'Upwork'}, {'date': '2025-06-28', 'description': 'TransferWise', 'amount': 394.26, 'currency': 'GBP', 'merchant': 'TransferWise'}, {'date': '2025-06-29', 'description': 'Costa Coffee', 'amount': 587.33, 'currency': 'GBP', 'merchant': 'Costa Coffee'}, {'date': '2025-06-29', 'description': 'TransferWise', 'amount': 1162.35, 'currency': 'GBP', 'merchant': 'TransferWise'}, {'date': '2025-06-30', 'description': 'Google Ads', 'amount': 130.42, 'currency': 'GBP', 'merchant': 'Google'}, {'date': '2025-06-30', 'description': 'HMRC Payment', 'amount': 571.13, 'currency': 'GBP', 'merchant': 'HMRC'}, {'date': '2025-06-30', 'description': 'TFL Travel', 'amount': -83.36, 'currency': 'GBP', 'merchant': 'TFL'}]
2025-08-15 16:51:47,761 - app.services.bedrock_service - INFO - Final validated transactions: [
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": 1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": 494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": 146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": 687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": 1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": -214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP",
    "merchant": "Client"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": 1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": 1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": 386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": 123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": 888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": 1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": -140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": 919.83,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-12",
    "description": "Freelancer Income",
    "amount": 937.34,
    "currency": "GBP",
    "merchant": "Freelancer"
  },
  {
    "date": "2025-06-13",
    "description": "Account Maintenance Fee",
    "amount": 598.34,
    "currency": "GBP",
    "merchant": "Bank"
  },
  {
    "date": "2025-06-14",
    "description": "Account Maintenance Fee",
    "amount": 120.37,
    "currency": "GBP",
    "merchant": "Bank"
  },
  {
    "date": "2025-06-14",
    "description": "Costa Coffee",
    "amount": 957.21,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-14",
    "description": "Stripe Payout",
    "amount": -165.97,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-16",
    "description": "TransferWise",
    "amount": -160.48,
    "currency": "GBP",
    "merchant": "TransferWise"
  },
  {
    "date": "2025-06-17",
    "description": "Stripe Payout",
    "amount": 1325.16,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-18",
    "description": "Amazon Web Services",
    "amount": 1155.33,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-18",
    "description": "Late Fee",
    "amount": 1495.34,
    "currency": "GBP",
    "merchant": "Bank"
  },
  {
    "date": "2025-06-18",
    "description": "Upwork Ltd Payment",
    "amount": -122.51,
    "currency": "GBP",
    "merchant": "Upwork"
  },
  {
    "date": "2025-06-18",
    "description": "Upwork Ltd Payment",
    "amount": 1016.92,
    "currency": "GBP",
    "merchant": "Upwork"
  },
  {
    "date": "2025-06-19",
    "description": "Account Maintenance Fee",
    "amount": 1013.75,
    "currency": "GBP",
    "merchant": "Bank"
  },
  {
    "date": "2025-06-19",
    "description": "TFL Travel",
    "amount": 663.95,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-20",
    "description": "Costa Coffee",
    "amount": 1089.18,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-22",
    "description": "Google Ads",
    "amount": 221.47,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-22",
    "description": "Google Ads",
    "amount": 392.83,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-23",
    "description": "PayPal Fee",
    "amount": 370.99,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-24",
    "description": "Google Ads",
    "amount": 652.07,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-24",
    "description": "Stripe Payout",
    "amount": 401.21,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-24",
    "description": "Stripe Payout",
    "amount": 471.83,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-25",
    "description": "Google Ads",
    "amount": 133.65,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-25",
    "description": "PayPal Fee",
    "amount": 42.0,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-25",
    "description": "Stripe Payout",
    "amount": 619.82,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-25",
    "description": "TransferWise",
    "amount": 1061.66,
    "currency": "GBP",
    "merchant": "TransferWise"
  },
  {
    "date": "2025-06-26",
    "description": "Account Maintenance Fee",
    "amount": 616.07,
    "currency": "GBP",
    "merchant": "Bank"
  },
  {
    "date": "2025-06-26",
    "description": "TransferWise",
    "amount": 257.68,
    "currency": "GBP",
    "merchant": "TransferWise"
  },
  {
    "date": "2025-06-26",
    "description": "Upwork Ltd Payment",
    "amount": 266.17,
    "currency": "GBP",
    "merchant": "Upwork"
  },
  {
    "date": "2025-06-28",
    "description": "TransferWise",
    "amount": 394.26,
    "currency": "GBP",
    "merchant": "TransferWise"
  },
  {
    "date": "2025-06-29",
    "description": "Costa Coffee",
    "amount": 587.33,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-29",
    "description": "TransferWise",
    "amount": 1162.35,
    "currency": "GBP",
    "merchant": "TransferWise"
  },
  {
    "date": "2025-06-30",
    "description": "Google Ads",
    "amount": 130.42,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-30",
    "description": "HMRC Payment",
    "amount": 571.13,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-30",
    "description": "TFL Travel",
    "amount": -83.36,
    "currency": "GBP",
    "merchant": "TFL"
  }
]
2025-08-15 16:51:47,763 - app.services.bedrock_service - INFO - [extract_165113690] PDF extraction completed successfully - Transactions found: 50, Time: 34.073s
2025-08-15 16:51:47,764 - app.services.bedrock_service - INFO - [extract_165113690] Parsed transactions: [
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": 1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": 494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": 146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": 687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": 1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": -214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP",
    "merchant": "Client"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": 1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": 1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": 386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": 123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": 888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": 1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": -140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": 919.83,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-12",
    "description": "Freelancer Income",
    "amount": 937.34,
    "currency": "GBP",
    "merchant": "Freelancer"
  },
  {
    "date": "2025-06-13",
    "description": "Account Maintenance Fee",
    "amount": 598.34,
    "currency": "GBP",
    "merchant": "Bank"
  },
  {
    "date": "2025-06-14",
    "description": "Account Maintenance Fee",
    "amount": 120.37,
    "currency": "GBP",
    "merchant": "Bank"
  },
  {
    "date": "2025-06-14",
    "description": "Costa Coffee",
    "amount": 957.21,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-14",
    "description": "Stripe Payout",
    "amount": -165.97,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-16",
    "description": "TransferWise",
    "amount": -160.48,
    "currency": "GBP",
    "merchant": "TransferWise"
  },
  {
    "date": "2025-06-17",
    "description": "Stripe Payout",
    "amount": 1325.16,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-18",
    "description": "Amazon Web Services",
    "amount": 1155.33,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-18",
    "description": "Late Fee",
    "amount": 1495.34,
    "currency": "GBP",
    "merchant": "Bank"
  },
  {
    "date": "2025-06-18",
    "description": "Upwork Ltd Payment",
    "amount": -122.51,
    "currency": "GBP",
    "merchant": "Upwork"
  },
  {
    "date": "2025-06-18",
    "description": "Upwork Ltd Payment",
    "amount": 1016.92,
    "currency": "GBP",
    "merchant": "Upwork"
  },
  {
    "date": "2025-06-19",
    "description": "Account Maintenance Fee",
    "amount": 1013.75,
    "currency": "GBP",
    "merchant": "Bank"
  },
  {
    "date": "2025-06-19",
    "description": "TFL Travel",
    "amount": 663.95,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-20",
    "description": "Costa Coffee",
    "amount": 1089.18,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-22",
    "description": "Google Ads",
    "amount": 221.47,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-22",
    "description": "Google Ads",
    "amount": 392.83,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-23",
    "description": "PayPal Fee",
    "amount": 370.99,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-24",
    "description": "Google Ads",
    "amount": 652.07,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-24",
    "description": "Stripe Payout",
    "amount": 401.21,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-24",
    "description": "Stripe Payout",
    "amount": 471.83,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-25",
    "description": "Google Ads",
    "amount": 133.65,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-25",
    "description": "PayPal Fee",
    "amount": 42.0,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-25",
    "description": "Stripe Payout",
    "amount": 619.82,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-25",
    "description": "TransferWise",
    "amount": 1061.66,
    "currency": "GBP",
    "merchant": "TransferWise"
  },
  {
    "date": "2025-06-26",
    "description": "Account Maintenance Fee",
    "amount": 616.07,
    "currency": "GBP",
    "merchant": "Bank"
  },
  {
    "date": "2025-06-26",
    "description": "TransferWise",
    "amount": 257.68,
    "currency": "GBP",
    "merchant": "TransferWise"
  },
  {
    "date": "2025-06-26",
    "description": "Upwork Ltd Payment",
    "amount": 266.17,
    "currency": "GBP",
    "merchant": "Upwork"
  },
  {
    "date": "2025-06-28",
    "description": "TransferWise",
    "amount": 394.26,
    "currency": "GBP",
    "merchant": "TransferWise"
  },
  {
    "date": "2025-06-29",
    "description": "Costa Coffee",
    "amount": 587.33,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-29",
    "description": "TransferWise",
    "amount": 1162.35,
    "currency": "GBP",
    "merchant": "TransferWise"
  },
  {
    "date": "2025-06-30",
    "description": "Google Ads",
    "amount": 130.42,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-30",
    "description": "HMRC Payment",
    "amount": 571.13,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-30",
    "description": "TFL Travel",
    "amount": -83.36,
    "currency": "GBP",
    "merchant": "TFL"
  }
]
2025-08-15 16:51:47,764 - app.services.transaction_service - INFO - Transactions extracted from PDF: 50 found
2025-08-15 16:51:47,764 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-15 16:51:51,075 - app.services.bedrock_service - INFO - [classify_165147764] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work", "category": "software_subscription"}
2025-08-15 16:51:51,076 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work",
  "category": "software_subscription"
}
2025-08-15 16:51:52,313 - app.services.bedrock_service - INFO - [classify_165151096] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Cloud computing services like AWS are essential for running business applications", "category": "cloud_services"}
2025-08-15 16:51:52,313 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Cloud computing services like AWS are essential for running business applications",
  "category": "cloud_services"
}
2025-08-15 16:51:53,599 - app.services.bedrock_service - INFO - [classify_165152317] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for business services", "category": "payment_processing_fees"}
2025-08-15 16:51:53,600 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for business services",
  "category": "payment_processing_fees"
}
2025-08-15 16:51:55,013 - app.services.bedrock_service - INFO - [classify_165153605] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are income received for freelance or business services", "category": "income"}
2025-08-15 16:51:55,013 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are income received for freelance or business services",
  "category": "income"
}
2025-08-15 16:51:56,513 - app.services.bedrock_service - INFO - [classify_165155019] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work", "category": "software_subscription"}
2025-08-15 16:51:56,514 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work",
  "category": "software_subscription"
}
2025-08-15 16:52:02,759 - app.services.bedrock_service - INFO - [classify_165156520] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Video conferencing tools like Zoom are essential for business communication and remote work", "category": "software_subscription"}
2025-08-15 16:52:02,760 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Video conferencing tools like Zoom are essential for business communication and remote work",
  "category": "software_subscription"
}
2025-08-15 16:52:10,491 - app.services.bedrock_service - ERROR - [classify_165202765] Classification failed after 7.726s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:52:14,329 - app.services.bedrock_service - INFO - [classify_165210499] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "A client refund is directly related to freelance business income", "category": "income_adjustment"}
2025-08-15 16:52:14,329 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "A client refund is directly related to freelance business income",
  "category": "income_adjustment"
}
2025-08-15 16:52:26,004 - app.services.bedrock_service - INFO - [classify_165214332] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.8, "reasoning": "Coffee shop purchases are typically personal expenses", "category": "food_dining"}
2025-08-15 16:52:26,006 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "Coffee shop purchases are typically personal expenses",
  "category": "food_dining"
}
2025-08-15 16:52:35,768 - app.services.bedrock_service - ERROR - [classify_165226015] Classification failed after 9.753s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:52:37,074 - app.services.bedrock_service - INFO - [classify_165235782] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "HMRC payments are tax obligations for business income", "category": "taxes"}
2025-08-15 16:52:37,074 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "HMRC payments are tax obligations for business income",
  "category": "taxes"
}
2025-08-15 16:52:40,771 - app.services.bedrock_service - ERROR - [classify_165237078] Classification failed after 3.693s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:52:54,776 - app.services.bedrock_service - INFO - [classify_165240777] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "GitHub is a software development platform used for business purposes", "category": "software_subscription"}
2025-08-15 16:52:54,778 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "GitHub is a software development platform used for business purposes",
  "category": "software_subscription"
}
2025-08-15 16:53:06,534 - app.services.bedrock_service - INFO - [classify_165254785] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "GitHub is a software development platform used for business purposes by freelance developers", "category": "software_subscription"}
2025-08-15 16:53:06,536 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "GitHub is a software development platform used for business purposes by freelance developers",
  "category": "software_subscription"
}
2025-08-15 16:53:16,013 - app.services.bedrock_service - INFO - [classify_165306553] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for business services", "category": "business_fees"}
2025-08-15 16:53:16,014 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for business services",
  "category": "business_fees"
}
2025-08-15 16:53:23,302 - app.services.bedrock_service - ERROR - [classify_165316019] Classification failed after 7.283s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:53:27,013 - app.services.bedrock_service - INFO - [classify_165323309] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are income received for freelance or business services", "category": "income"}
2025-08-15 16:53:27,014 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are income received for freelance or business services",
  "category": "income"
}
2025-08-15 16:53:32,455 - app.services.bedrock_service - ERROR - [classify_165327020] Classification failed after 5.436s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:53:44,695 - app.services.bedrock_service - INFO - [classify_165332462] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "Bank fees related to maintaining business accounts are typically business expenses", "category": "banking_fees"}
2025-08-15 16:53:44,696 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "Bank fees related to maintaining business accounts are typically business expenses",
  "category": "banking_fees"
}
2025-08-15 16:53:50,604 - app.services.bedrock_service - INFO - [classify_165344700] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.8, "reasoning": "Bank account maintenance fees are typically personal expenses", "category": "banking_fees"}
2025-08-15 16:53:50,605 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "Bank account maintenance fees are typically personal expenses",
  "category": "banking_fees"
}
2025-08-15 16:53:59,249 - app.services.bedrock_service - ERROR - [classify_165350611] Classification failed after 8.638s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:54:02,875 - app.services.bedrock_service - INFO - [classify_165359256] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are income received for freelance/business services", "category": "income"}
2025-08-15 16:54:02,877 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are income received for freelance/business services",
  "category": "income"
}
2025-08-15 16:54:07,985 - app.services.bedrock_service - ERROR - [classify_165402882] Classification failed after 5.102s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:54:14,342 - app.services.bedrock_service - INFO - [classify_165407995] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are income received for freelance or business services", "category": "income"}
2025-08-15 16:54:14,344 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are income received for freelance or business services",
  "category": "income"
}
2025-08-15 16:54:20,150 - app.services.bedrock_service - ERROR - [classify_165414351] Classification failed after 5.799s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:54:25,912 - app.services.bedrock_service - INFO - [classify_165420158] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.9, "reasoning": "Late fees charged by banks are typically personal expenses related to mismanaged finances", "category": "bank_fees"}
2025-08-15 16:54:25,912 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Late fees charged by banks are typically personal expenses related to mismanaged finances",
  "category": "bank_fees"
}
2025-08-15 16:54:31,566 - app.services.bedrock_service - ERROR - [classify_165425916] Classification failed after 5.650s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:54:39,474 - app.services.bedrock_service - INFO - [classify_165431574] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payment from Upwork is income earned from freelance work", "category": "freelance_income"}
2025-08-15 16:54:39,475 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment from Upwork is income earned from freelance work",
  "category": "freelance_income"
}
2025-08-15 16:54:47,080 - app.services.bedrock_service - ERROR - [classify_165439479] Classification failed after 7.600s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:54:49,310 - app.services.bedrock_service - INFO - [classify_165447091] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "Travel expenses are typically business expenses for freelancers", "category": "transportation"}
2025-08-15 16:54:49,311 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "Travel expenses are typically business expenses for freelancers",
  "category": "transportation"
}
2025-08-15 16:54:55,885 - app.services.bedrock_service - ERROR - [classify_165449315] Classification failed after 6.571s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:55:07,069 - app.services.bedrock_service - INFO - [classify_165455895] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is an online advertising platform for businesses", "category": "marketing_advertising"}
2025-08-15 16:55:07,070 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is an online advertising platform for businesses",
  "category": "marketing_advertising"
}
2025-08-15 16:55:14,656 - app.services.bedrock_service - INFO - [classify_165507081] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is an online advertising platform for businesses", "category": "marketing_advertising"}
2025-08-15 16:55:14,657 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is an online advertising platform for businesses",
  "category": "marketing_advertising"
}
2025-08-15 16:55:26,125 - app.services.bedrock_service - INFO - [classify_165514665] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for business services", "category": "payment_processing_fees"}
2025-08-15 16:55:26,126 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for business services",
  "category": "payment_processing_fees"
}
2025-08-15 16:55:34,345 - app.services.bedrock_service - ERROR - [classify_165526143] Classification failed after 8.201s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:55:37,887 - app.services.bedrock_service - INFO - [classify_165534370] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are income received for freelance or business services", "category": "income"}
2025-08-15 16:55:37,887 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are income received for freelance or business services",
  "category": "income"
}
2025-08-15 16:55:45,139 - app.services.bedrock_service - ERROR - [classify_165537892] Classification failed after 7.246s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:55:55,263 - app.services.bedrock_service - INFO - [classify_165545210] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is an online advertising platform for businesses", "category": "marketing_advertising"}
2025-08-15 16:55:55,266 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is an online advertising platform for businesses",
  "category": "marketing_advertising"
}
2025-08-15 16:55:59,722 - app.services.bedrock_service - ERROR - [classify_165555291] Classification failed after 4.431s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:56:01,475 - app.services.bedrock_service - INFO - [classify_165559729] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are income received for freelance or business services", "category": "income"}
2025-08-15 16:56:01,476 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are income received for freelance or business services",
  "category": "income"
}
2025-08-15 16:56:09,282 - app.services.bedrock_service - ERROR - [classify_165601480] Classification failed after 7.802s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:56:15,036 - app.services.bedrock_service - INFO - [classify_165609287] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "Bank fees related to maintaining business accounts are typically business expenses", "category": "banking_fees"}
2025-08-15 16:56:15,036 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "Bank fees related to maintaining business accounts are typically business expenses",
  "category": "banking_fees"
}
2025-08-15 16:56:26,385 - app.services.bedrock_service - INFO - [classify_165615040] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "TransferWise is a money transfer service often used by freelancers for international payments", "category": "financial_services"}
2025-08-15 16:56:26,387 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service often used by freelancers for international payments",
  "category": "financial_services"
}
2025-08-15 16:56:34,711 - app.services.bedrock_service - ERROR - [classify_165626396] Classification failed after 8.315s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:56:38,793 - app.services.bedrock_service - INFO - [classify_165634718] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "TransferWise is a money transfer service commonly used by freelancers for international payments", "category": "financial_services"}
2025-08-15 16:56:38,793 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service commonly used by freelancers for international payments",
  "category": "financial_services"
}
2025-08-15 16:56:45,822 - app.services.bedrock_service - ERROR - [classify_165638802] Classification failed after 7.019s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:56:49,045 - app.services.bedrock_service - INFO - [classify_165645829] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "TransferWise is a money transfer service commonly used by freelancers for international payments", "category": "financial_services"}
2025-08-15 16:56:49,046 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service commonly used by freelancers for international payments",
  "category": "financial_services"
}
2025-08-15 16:56:54,962 - app.services.bedrock_service - ERROR - [classify_165649052] Classification failed after 5.910s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 16:57:04,888 - app.services.bedrock_service - INFO - [classify_165654966] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "HMRC payments are tax obligations for business income", "category": "taxes"}
2025-08-15 16:57:04,891 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "HMRC payments are tax obligations for business income",
  "category": "taxes"
}
2025-08-15 16:57:14,907 - app.services.bedrock_service - INFO - [classify_165704910] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "Transportation costs for business travel are typically business expenses", "category": "travel_transportation"}
2025-08-15 16:57:14,909 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "Transportation costs for business travel are typically business expenses",
  "category": "travel_transportation"
}
2025-08-15 16:57:14,931 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 50, Errors: 0, Time: 361.29s
2025-08-15 16:57:14,931 - app.api.transactions - INFO - [upload_20250815_165113_8b43cd5c] PDF processing completed - Result: {'processed_count': 50, 'transactions': [{'id': 'e021547c-9c8d-4772-9a24-da7345df4194', 'date': '2025-06-01', 'description': 'Adobe CC', 'amount': 1253.63, 'classification': 'business', 'confidence': 0.95, 'category': 'software_subscription'}, {'id': 'd26a0dc3-0126-492b-b660-06ed015667fe', 'date': '2025-06-01', 'description': 'Amazon Web Services', 'amount': 494.93, 'classification': 'business', 'confidence': 0.95, 'category': 'cloud_services'}, {'id': '2ddc67e3-09aa-4939-ad97-36e333a22c00', 'date': '2025-06-02', 'description': 'PayPal Fee', 'amount': 146.2, 'classification': 'business', 'confidence': 0.9, 'category': 'payment_processing_fees'}, {'id': 'eaec732c-1a79-4fa0-a68c-3ecf80ba353d', 'date': '2025-06-02', 'description': 'Stripe Payout', 'amount': 281.48, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '57609293-6800-4662-982c-a185ac297338', 'date': '2025-06-06', 'description': 'Adobe CC', 'amount': 687.09, 'classification': 'business', 'confidence': 0.95, 'category': 'software_subscription'}, {'id': '4df87b9e-9c2f-4b7e-8421-b3c3169880c8', 'date': '2025-06-06', 'description': 'Zoom Subscription', 'amount': 1380.44, 'classification': 'business', 'confidence': 0.95, 'category': 'software_subscription'}, {'id': '628fb027-d4bc-49fa-9158-0bd465f27e31', 'date': '2025-06-07', 'description': 'Adobe CC', 'amount': -214.51, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'da446844-47a2-4207-953e-31435416a07e', 'date': '2025-06-07', 'description': 'Client Refund', 'amount': 1003.31, 'classification': 'business', 'confidence': 0.95, 'category': 'income_adjustment'}, {'id': '7a32d463-b7b1-4721-ab38-2c5c6c718f5a', 'date': '2025-06-07', 'description': 'Costa Coffee', 'amount': 1156.58, 'classification': 'personal', 'confidence': 0.8, 'category': 'food_dining'}, {'id': '260ea843-d21c-4715-a272-d1fee19bab5f', 'date': '2025-06-07', 'description': 'TFL Travel', 'amount': 1470.87, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '84caf2e0-7490-44d1-846e-344d67a4e6c7', 'date': '2025-06-08', 'description': 'HMRC Payment', 'amount': 386.26, 'classification': 'business', 'confidence': 0.95, 'category': 'taxes'}, {'id': 'f1deafc1-539b-4d8a-930e-7c99a2b1666b', 'date': '2025-06-09', 'description': 'Adobe CC', 'amount': 123.63, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'cc833c21-7d50-4b3f-aff2-7ae14a4dab3d', 'date': '2025-06-09', 'description': 'Github', 'amount': 888.7, 'classification': 'business', 'confidence': 0.95, 'category': 'software_subscription'}, {'id': 'af90dd4a-9e1f-4ce9-a780-ed48898a0d09', 'date': '2025-06-09', 'description': 'Github', 'amount': 1099.51, 'classification': 'business', 'confidence': 0.95, 'category': 'software_subscription'}, {'id': '2f804462-15b4-44dc-b339-590c191781fd', 'date': '2025-06-09', 'description': 'PayPal Fee', 'amount': -140.94, 'classification': 'business', 'confidence': 0.9, 'category': 'business_fees'}, {'id': 'd066017b-39e5-426c-a0a7-70f7555654c1', 'date': '2025-06-10', 'description': 'Google Ads', 'amount': 919.83, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '5fb0ff6b-ea5c-40ec-9d85-f738a1503ea7', 'date': '2025-06-10', 'description': 'Stripe Payout', 'amount': 1377.52, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '53db5486-b573-4d44-ac55-17d21100344a', 'date': '2025-06-12', 'description': 'Freelancer Income', 'amount': 937.34, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '7acff240-bf42-4b60-a59d-d13a5b1c24d7', 'date': '2025-06-13', 'description': 'Account Maintenance Fee', 'amount': 598.34, 'classification': 'business', 'confidence': 0.8, 'category': 'banking_fees'}, {'id': '113ac182-17ab-42f6-b1d1-63e7308b1bf5', 'date': '2025-06-14', 'description': 'Account Maintenance Fee', 'amount': 120.37, 'classification': 'personal', 'confidence': 0.8, 'category': 'banking_fees'}, {'id': '0f504ae1-4a3a-488d-885e-164bf71a7c8f', 'date': '2025-06-14', 'description': 'Costa Coffee', 'amount': 957.21, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '8a289119-8462-481b-9c33-28d5e85d2dcd', 'date': '2025-06-14', 'description': 'Stripe Payout', 'amount': -165.97, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '5e1bb8e3-c9ac-44d2-9612-c823efecb629', 'date': '2025-06-16', 'description': 'TransferWise', 'amount': -160.48, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '1c409bbe-6583-4d27-ad5a-18885216dd1a', 'date': '2025-06-17', 'description': 'Stripe Payout', 'amount': 1325.16, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '89121eb0-e395-49f9-b346-0b55775a83a5', 'date': '2025-06-18', 'description': 'Amazon Web Services', 'amount': 1155.33, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'bfe47abb-818d-4494-bd59-82664451f2ac', 'date': '2025-06-18', 'description': 'Late Fee', 'amount': 1495.34, 'classification': 'personal', 'confidence': 0.9, 'category': 'bank_fees'}, {'id': '65716f05-d2db-4b97-8c70-2dc68ab8cdfe', 'date': '2025-06-18', 'description': 'Upwork Ltd Payment', 'amount': -122.51, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'ad44e9ac-5a54-4a6c-ae09-968b33c5b980', 'date': '2025-06-18', 'description': 'Upwork Ltd Payment', 'amount': 1016.92, 'classification': 'business', 'confidence': 0.95, 'category': 'freelance_income'}, {'id': 'b6a6775c-dc2e-4834-9421-c06343571992', 'date': '2025-06-19', 'description': 'Account Maintenance Fee', 'amount': 1013.75, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'd134ff5d-6d27-41b6-a576-37740a5e59bc', 'date': '2025-06-19', 'description': 'TFL Travel', 'amount': 663.95, 'classification': 'business', 'confidence': 0.8, 'category': 'transportation'}, {'id': '999bd0a4-e883-4752-a677-fe100043c0a4', 'date': '2025-06-20', 'description': 'Costa Coffee', 'amount': 1089.18, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '8bef9301-2d45-446f-ad19-137bb02a00cd', 'date': '2025-06-22', 'description': 'Google Ads', 'amount': 221.47, 'classification': 'business', 'confidence': 0.95, 'category': 'marketing_advertising'}, {'id': '4ffae1b9-c747-4d9a-939f-18575aa06371', 'date': '2025-06-22', 'description': 'Google Ads', 'amount': 392.83, 'classification': 'business', 'confidence': 0.95, 'category': 'marketing_advertising'}, {'id': '92ad0875-0ad8-4d54-90d2-469666b243fd', 'date': '2025-06-23', 'description': 'PayPal Fee', 'amount': 370.99, 'classification': 'business', 'confidence': 0.9, 'category': 'payment_processing_fees'}, {'id': '4c8ffcf7-26ac-4d92-87a4-5b46177a4aa9', 'date': '2025-06-24', 'description': 'Google Ads', 'amount': 652.07, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '84f77ae6-a528-4b56-a3d3-1453a9013c2e', 'date': '2025-06-24', 'description': 'Stripe Payout', 'amount': 401.21, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '10d4959b-b6ca-4e5b-98d5-f9a6d909a886', 'date': '2025-06-24', 'description': 'Stripe Payout', 'amount': 471.83, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '4c590976-625c-44ed-ab6e-42c8bcf6ec83', 'date': '2025-06-25', 'description': 'Google Ads', 'amount': 133.65, 'classification': 'business', 'confidence': 0.95, 'category': 'marketing_advertising'}, {'id': 'b3a02340-3d38-4e6f-9e34-bec2261c6639', 'date': '2025-06-25', 'description': 'PayPal Fee', 'amount': 42.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'a64b5b5f-f936-4390-8113-f609768f5af8', 'date': '2025-06-25', 'description': 'Stripe Payout', 'amount': 619.82, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '78b3cb28-87bc-4e51-8aa8-1ebff0e4e65f', 'date': '2025-06-25', 'description': 'TransferWise', 'amount': 1061.66, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '46e2cfb3-9ea0-4d98-ad7f-2faa7976e1e7', 'date': '2025-06-26', 'description': 'Account Maintenance Fee', 'amount': 616.07, 'classification': 'business', 'confidence': 0.8, 'category': 'banking_fees'}, {'id': '45b3967e-57a7-464a-ae4c-70ac5a7aeaab', 'date': '2025-06-26', 'description': 'TransferWise', 'amount': 257.68, 'classification': 'business', 'confidence': 0.8, 'category': 'financial_services'}, {'id': 'ebb39f01-9050-48e7-a3a6-48b142cdd7a7', 'date': '2025-06-26', 'description': 'Upwork Ltd Payment', 'amount': 266.17, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'b973c90e-8c54-4b90-9eb1-f5b99f16a9b9', 'date': '2025-06-28', 'description': 'TransferWise', 'amount': 394.26, 'classification': 'business', 'confidence': 0.8, 'category': 'financial_services'}, {'id': '99f98cbd-aa1d-4f32-a6b0-e7b1934ecb32', 'date': '2025-06-29', 'description': 'Costa Coffee', 'amount': 587.33, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'eb254957-de1b-4fc4-94ea-d05ecaeec916', 'date': '2025-06-29', 'description': 'TransferWise', 'amount': 1162.35, 'classification': 'business', 'confidence': 0.8, 'category': 'financial_services'}, {'id': 'c2370afb-f6e9-40b1-bb14-77cbcfdbb59c', 'date': '2025-06-30', 'description': 'Google Ads', 'amount': 130.42, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '768ec79c-b1f1-48ee-bc1e-dfac0fa6cecb', 'date': '2025-06-30', 'description': 'HMRC Payment', 'amount': 571.13, 'classification': 'business', 'confidence': 0.95, 'category': 'taxes'}, {'id': 'f4378ec5-3870-494c-9f1d-96b6229ad34b', 'date': '2025-06-30', 'description': 'TFL Travel', 'amount': -83.36, 'classification': 'business', 'confidence': 0.8, 'category': 'travel_transportation'}], 'errors': [], 'processing_time': 361.294798}
2025-08-15 16:57:14,932 - app.api.transactions - INFO - [upload_20250815_165113_8b43cd5c] File processing completed successfully - Processing time: 361.30s, Transactions processed: 50
2025-08-15 17:22:07,024 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 17:22:07,032 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 17:22:12,887 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 17:22:12,889 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 17:22:39,282 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 17:22:39,287 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 17:25:27,030 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 17:25:28,030 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 17:25:28,045 - app.main - INFO - Database tables created/verified
2025-08-15 17:25:28,045 - app.main - INFO - CORS middleware configured
2025-08-15 17:25:28,049 - app.main - INFO - API routers included
2025-08-15 17:25:28,049 - app.main - INFO - 🚀 Application starting up...
2025-08-15 17:25:28,049 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 17:25:28,050 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 17:25:28,050 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 17:25:28,050 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 17:25:28,050 - app.main - INFO - ✅ Application startup complete
2025-08-15 17:25:52,018 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 17:25:52,957 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 17:25:52,973 - app.main - INFO - Database tables created/verified
2025-08-15 17:25:52,974 - app.main - INFO - CORS middleware configured
2025-08-15 17:25:52,977 - app.main - INFO - API routers included
2025-08-15 17:25:52,978 - app.main - INFO - 🚀 Application starting up...
2025-08-15 17:25:52,978 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 17:25:52,978 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 17:25:52,978 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 17:25:52,979 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 17:25:52,979 - app.main - INFO - ✅ Application startup complete
2025-08-15 17:26:03,681 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 17:26:03,776 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 17:36:01,572 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 17:36:01,588 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 17:36:03,980 - app.api.transactions - INFO - Cleared 188 transactions for user 8b43cd5c-1bfc-4483-ab59-423b6ad0abf2
2025-08-15 17:36:33,676 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 17:36:33,713 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 17:36:39,959 - app.api.transactions - INFO - [upload_20250815_173639_8b43cd5c] Starting file upload - User: 8b43cd5c-1bfc-4483-ab59-423b6ad0abf2, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-15 17:36:39,961 - app.api.transactions - INFO - [upload_20250815_173639_8b43cd5c] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-15 17:36:39,963 - app.api.transactions - INFO - [upload_20250815_173639_8b43cd5c] File type validation passed
2025-08-15 17:36:39,964 - app.api.transactions - INFO - [upload_20250815_173639_8b43cd5c] Reading file content for size validation
2025-08-15 17:36:39,965 - app.api.transactions - INFO - [upload_20250815_173639_8b43cd5c] File content read - Size: 4422 bytes
2025-08-15 17:36:39,966 - app.api.transactions - INFO - [upload_20250815_173639_8b43cd5c] File size validation passed
2025-08-15 17:36:39,967 - app.api.transactions - INFO - [upload_20250815_173639_8b43cd5c] Initializing services
2025-08-15 17:36:39,967 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 17:36:39,979 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 17:36:39,979 - app.api.transactions - INFO - [upload_20250815_173639_8b43cd5c] Services initialized successfully
2025-08-15 17:36:39,980 - app.api.transactions - INFO - [upload_20250815_173639_8b43cd5c] Processing file with extension: pdf
2025-08-15 17:36:39,980 - app.api.transactions - INFO - [upload_20250815_173639_8b43cd5c] Processing PDF file
2025-08-15 17:36:39,980 - app.services.transaction_service - INFO - Starting PDF processing for user 8b43cd5c-1bfc-4483-ab59-423b6ad0abf2
2025-08-15 17:36:39,981 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-15 17:36:39,981 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-15 17:36:39,990 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-15 17:36:40,007 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-15 17:36:40,007 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-15 17:36:40,007 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-15 17:36:40,007 - app.services.bedrock_service - INFO - [extract_173640007] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-15 17:37:24,608 - app.services.bedrock_service - INFO - [extract_173640007] Raw Bedrock text response:
[
{"date": "2025-06-01", "description": "Adobe CC", "amount": 1253.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-01", "description": "Amazon Web Services", "amount": 494.93, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-02", "description": "PayPal Fee", "amount": 146.20, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-06", "description": "Adobe CC", "amount": 687.09, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-06", "description": "Zoom Subscription", "amount": 1380.44, "currency": "GBP", "merchant": "Zoom"},
{"date": "2025-06-07", "description": "Adobe CC", "amount": -214.51, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP", "merchant": "Client"},
{"date": "2025-06-07", "description": "Costa Coffee", "amount": 1156.58, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-07", "description": "TFL Travel", "amount": 1470.87, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-08", "description": "HMRC Payment", "amount": 386.26, "currency": "GBP", "merchant": "HMRC"},
{"date": "2025-06-09", "description": "Adobe CC", "amount": 123.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-09", "description": "Github", "amount": 888.70, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "Github", "amount": 1099.51, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "PayPal Fee", "amount": -140.94, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-10", "description": "Google Ads", "amount": 919.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP", "merchant": "Freelancer"},
{"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": 598.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": 120.37, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Costa Coffee", "amount": 957.21, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-14", "description": "Stripe Payout", "amount": -165.97, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-16", "description": "TransferWise", "amount": -160.48, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-18", "description": "Amazon Web Services", "amount": 1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-18", "description": "Late Fee", "amount": 1495.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": -122.51, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": 1013.75, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-19", "description": "TFL Travel", "amount": 663.95, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-20", "description": "Costa Coffee", "amount": 1089.18, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 221.47, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 392.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-23", "description": "PayPal Fee", "amount": 370.99, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-24", "description": "Google Ads", "amount": 652.07, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "Google Ads", "amount": 133.65, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-25", "description": "PayPal Fee", "amount": 42.00, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": 616.07, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-29", "description": "Costa Coffee", "amount": 587.33, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-29", "description": "TransferWise", "amount": 1162.35, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-30", "description": "Google Ads", "amount": 130.42, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-30", "description": "HMRC Payment", "amount": 571.13, "currency": "GBP", "merchant": "HMRC"},
{"date": "2025-06-30", "description": "TFL Travel", "amount": -83.36, "currency": "GBP", "merchant": "TFL"}
]
2025-08-15 17:37:24,610 - app.services.bedrock_service - INFO - Parsing transaction extraction response: [
{"date": "2025-06-01", "description": "Adobe CC", "amount": 1253.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-01", "description": "Amazon Web Services", "amount": 494.93, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-02", "description": "PayPal Fee", "amount": 146.20, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-06", "description": "Adobe CC", "amount": 687.09, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-06", "description": "Zoom Subscription", "amount": 1380.44, "currency": "GBP", "merchant": "Zoom"},
{"date": "2025-06-07", "description": "Adobe CC", "amount": -214.51, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP", "merchant": "Client"},
{"date": "2025-06-07", "description": "Costa Coffee", "amount": 1156.58, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-07", "description": "TFL Travel", "amount": 1470.87, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-08", "description": "HMRC Payment", "amount": 386.26, "currency": "GBP", "merchant": "HMRC"},
{"date": "2025-06-09", "description": "Adobe CC", "amount": 123.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-09", "description": "Github", "amount": 888.70, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "Github", "amount": 1099.51, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "PayPal Fee", "amount": -140.94, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-10", "description": "Google Ads", "amount": 919.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP", "merchant": "Freelancer"},
{"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": 598.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": 120.37, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Costa Coffee", "amount": 957.21, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-14", "description": "Stripe Payout", "amount": -165.97, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-16", "description": "TransferWise", "amount": -160.48, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-18", "description": "Amazon Web Services", "amount": 1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-18", "description": "Late Fee", "amount": 1495.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": -122.51, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": 1013.75, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-19", "description": "TFL Travel", "amount": 663.95, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-20", "description": "Costa Coffee", "amount": 1089.18, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 221.47, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 392.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-23", "description": "PayPal Fee", "amount": 370.99, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-24", "description": "Google Ads", "amount": 652.07, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "Google Ads", "amount": 133.65, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-25", "description": "PayPal Fee", "amount": 42.00, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": 616.07, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-29", "description": "Costa Coffee", "amount": 587.33, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-29", "description": "TransferWise", "amount": 1162.35, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-30", "description": "Google Ads", "amount": 130.42, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-30", "description": "HMRC Payment", "amount": 571.13, "currency": "GBP", "merchant": "HMRC"},
{"date": "2025-06-30", "description": "TFL Travel", "amount": -83.36, "currency": "GBP", "merchant": "TFL"}
]
2025-08-15 17:37:24,610 - app.services.bedrock_service - INFO - Extracted JSON array string: [
{"date": "2025-06-01", "description": "Adobe CC", "amount": 1253.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-01", "description": "Amazon Web Services", "amount": 494.93, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-02", "description": "PayPal Fee", "amount": 146.20, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-06", "description": "Adobe CC", "amount": 687.09, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-06", "description": "Zoom Subscription", "amount": 1380.44, "currency": "GBP", "merchant": "Zoom"},
{"date": "2025-06-07", "description": "Adobe CC", "amount": -214.51, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP", "merchant": "Client"},
{"date": "2025-06-07", "description": "Costa Coffee", "amount": 1156.58, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-07", "description": "TFL Travel", "amount": 1470.87, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-08", "description": "HMRC Payment", "amount": 386.26, "currency": "GBP", "merchant": "HMRC"},
{"date": "2025-06-09", "description": "Adobe CC", "amount": 123.63, "currency": "GBP", "merchant": "Adobe"},
{"date": "2025-06-09", "description": "Github", "amount": 888.70, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "Github", "amount": 1099.51, "currency": "GBP", "merchant": "Github"},
{"date": "2025-06-09", "description": "PayPal Fee", "amount": -140.94, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-10", "description": "Google Ads", "amount": 919.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP", "merchant": "Freelancer"},
{"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": 598.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": 120.37, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-14", "description": "Costa Coffee", "amount": 957.21, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-14", "description": "Stripe Payout", "amount": -165.97, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-16", "description": "TransferWise", "amount": -160.48, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-18", "description": "Amazon Web Services", "amount": 1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},
{"date": "2025-06-18", "description": "Late Fee", "amount": 1495.34, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": -122.51, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": 1013.75, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-19", "description": "TFL Travel", "amount": 663.95, "currency": "GBP", "merchant": "TFL"},
{"date": "2025-06-20", "description": "Costa Coffee", "amount": 1089.18, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 221.47, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-22", "description": "Google Ads", "amount": 392.83, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-23", "description": "PayPal Fee", "amount": 370.99, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-24", "description": "Google Ads", "amount": 652.07, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "Google Ads", "amount": 133.65, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-25", "description": "PayPal Fee", "amount": 42.00, "currency": "GBP", "merchant": "PayPal"},
{"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},
{"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": 616.07, "currency": "GBP", "merchant": "Bank"},
{"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork"},
{"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-29", "description": "Costa Coffee", "amount": 587.33, "currency": "GBP", "merchant": "Costa Coffee"},
{"date": "2025-06-29", "description": "TransferWise", "amount": 1162.35, "currency": "GBP", "merchant": "TransferWise"},
{"date": "2025-06-30", "description": "Google Ads", "amount": 130.42, "currency": "GBP", "merchant": "Google"},
{"date": "2025-06-30", "description": "HMRC Payment", "amount": 571.13, "currency": "GBP", "merchant": "HMRC"},
{"date": "2025-06-30", "description": "TFL Travel", "amount": -83.36, "currency": "GBP", "merchant": "TFL"}
]
2025-08-15 17:37:24,611 - app.services.bedrock_service - INFO - Successfully parsed JSON array: [{'date': '2025-06-01', 'description': 'Adobe CC', 'amount': 1253.63, 'currency': 'GBP', 'merchant': 'Adobe'}, {'date': '2025-06-01', 'description': 'Amazon Web Services', 'amount': 494.93, 'currency': 'GBP', 'merchant': 'Amazon Web Services'}, {'date': '2025-06-02', 'description': 'PayPal Fee', 'amount': 146.2, 'currency': 'GBP', 'merchant': 'PayPal'}, {'date': '2025-06-02', 'description': 'Stripe Payout', 'amount': 281.48, 'currency': 'GBP', 'merchant': 'Stripe'}, {'date': '2025-06-06', 'description': 'Adobe CC', 'amount': 687.09, 'currency': 'GBP', 'merchant': 'Adobe'}, {'date': '2025-06-06', 'description': 'Zoom Subscription', 'amount': 1380.44, 'currency': 'GBP', 'merchant': 'Zoom'}, {'date': '2025-06-07', 'description': 'Adobe CC', 'amount': -214.51, 'currency': 'GBP', 'merchant': 'Adobe'}, {'date': '2025-06-07', 'description': 'Client Refund', 'amount': 1003.31, 'currency': 'GBP', 'merchant': 'Client'}, {'date': '2025-06-07', 'description': 'Costa Coffee', 'amount': 1156.58, 'currency': 'GBP', 'merchant': 'Costa Coffee'}, {'date': '2025-06-07', 'description': 'TFL Travel', 'amount': 1470.87, 'currency': 'GBP', 'merchant': 'TFL'}, {'date': '2025-06-08', 'description': 'HMRC Payment', 'amount': 386.26, 'currency': 'GBP', 'merchant': 'HMRC'}, {'date': '2025-06-09', 'description': 'Adobe CC', 'amount': 123.63, 'currency': 'GBP', 'merchant': 'Adobe'}, {'date': '2025-06-09', 'description': 'Github', 'amount': 888.7, 'currency': 'GBP', 'merchant': 'Github'}, {'date': '2025-06-09', 'description': 'Github', 'amount': 1099.51, 'currency': 'GBP', 'merchant': 'Github'}, {'date': '2025-06-09', 'description': 'PayPal Fee', 'amount': -140.94, 'currency': 'GBP', 'merchant': 'PayPal'}, {'date': '2025-06-10', 'description': 'Google Ads', 'amount': 919.83, 'currency': 'GBP', 'merchant': 'Google'}, {'date': '2025-06-10', 'description': 'Stripe Payout', 'amount': 1377.52, 'currency': 'GBP', 'merchant': 'Stripe'}, {'date': '2025-06-12', 'description': 'Freelancer Income', 'amount': 937.34, 'currency': 'GBP', 'merchant': 'Freelancer'}, {'date': '2025-06-13', 'description': 'Account Maintenance Fee', 'amount': 598.34, 'currency': 'GBP', 'merchant': 'Bank'}, {'date': '2025-06-14', 'description': 'Account Maintenance Fee', 'amount': 120.37, 'currency': 'GBP', 'merchant': 'Bank'}, {'date': '2025-06-14', 'description': 'Costa Coffee', 'amount': 957.21, 'currency': 'GBP', 'merchant': 'Costa Coffee'}, {'date': '2025-06-14', 'description': 'Stripe Payout', 'amount': -165.97, 'currency': 'GBP', 'merchant': 'Stripe'}, {'date': '2025-06-16', 'description': 'TransferWise', 'amount': -160.48, 'currency': 'GBP', 'merchant': 'TransferWise'}, {'date': '2025-06-17', 'description': 'Stripe Payout', 'amount': 1325.16, 'currency': 'GBP', 'merchant': 'Stripe'}, {'date': '2025-06-18', 'description': 'Amazon Web Services', 'amount': 1155.33, 'currency': 'GBP', 'merchant': 'Amazon Web Services'}, {'date': '2025-06-18', 'description': 'Late Fee', 'amount': 1495.34, 'currency': 'GBP', 'merchant': 'Bank'}, {'date': '2025-06-18', 'description': 'Upwork Ltd Payment', 'amount': -122.51, 'currency': 'GBP', 'merchant': 'Upwork'}, {'date': '2025-06-18', 'description': 'Upwork Ltd Payment', 'amount': 1016.92, 'currency': 'GBP', 'merchant': 'Upwork'}, {'date': '2025-06-19', 'description': 'Account Maintenance Fee', 'amount': 1013.75, 'currency': 'GBP', 'merchant': 'Bank'}, {'date': '2025-06-19', 'description': 'TFL Travel', 'amount': 663.95, 'currency': 'GBP', 'merchant': 'TFL'}, {'date': '2025-06-20', 'description': 'Costa Coffee', 'amount': 1089.18, 'currency': 'GBP', 'merchant': 'Costa Coffee'}, {'date': '2025-06-22', 'description': 'Google Ads', 'amount': 221.47, 'currency': 'GBP', 'merchant': 'Google'}, {'date': '2025-06-22', 'description': 'Google Ads', 'amount': 392.83, 'currency': 'GBP', 'merchant': 'Google'}, {'date': '2025-06-23', 'description': 'PayPal Fee', 'amount': 370.99, 'currency': 'GBP', 'merchant': 'PayPal'}, {'date': '2025-06-24', 'description': 'Google Ads', 'amount': 652.07, 'currency': 'GBP', 'merchant': 'Google'}, {'date': '2025-06-24', 'description': 'Stripe Payout', 'amount': 401.21, 'currency': 'GBP', 'merchant': 'Stripe'}, {'date': '2025-06-24', 'description': 'Stripe Payout', 'amount': 471.83, 'currency': 'GBP', 'merchant': 'Stripe'}, {'date': '2025-06-25', 'description': 'Google Ads', 'amount': 133.65, 'currency': 'GBP', 'merchant': 'Google'}, {'date': '2025-06-25', 'description': 'PayPal Fee', 'amount': 42.0, 'currency': 'GBP', 'merchant': 'PayPal'}, {'date': '2025-06-25', 'description': 'Stripe Payout', 'amount': 619.82, 'currency': 'GBP', 'merchant': 'Stripe'}, {'date': '2025-06-25', 'description': 'TransferWise', 'amount': 1061.66, 'currency': 'GBP', 'merchant': 'TransferWise'}, {'date': '2025-06-26', 'description': 'Account Maintenance Fee', 'amount': 616.07, 'currency': 'GBP', 'merchant': 'Bank'}, {'date': '2025-06-26', 'description': 'TransferWise', 'amount': 257.68, 'currency': 'GBP', 'merchant': 'TransferWise'}, {'date': '2025-06-26', 'description': 'Upwork Ltd Payment', 'amount': 266.17, 'currency': 'GBP', 'merchant': 'Upwork'}, {'date': '2025-06-28', 'description': 'TransferWise', 'amount': 394.26, 'currency': 'GBP', 'merchant': 'TransferWise'}, {'date': '2025-06-29', 'description': 'Costa Coffee', 'amount': 587.33, 'currency': 'GBP', 'merchant': 'Costa Coffee'}, {'date': '2025-06-29', 'description': 'TransferWise', 'amount': 1162.35, 'currency': 'GBP', 'merchant': 'TransferWise'}, {'date': '2025-06-30', 'description': 'Google Ads', 'amount': 130.42, 'currency': 'GBP', 'merchant': 'Google'}, {'date': '2025-06-30', 'description': 'HMRC Payment', 'amount': 571.13, 'currency': 'GBP', 'merchant': 'HMRC'}, {'date': '2025-06-30', 'description': 'TFL Travel', 'amount': -83.36, 'currency': 'GBP', 'merchant': 'TFL'}]
2025-08-15 17:37:24,612 - app.services.bedrock_service - INFO - Final validated transactions: [
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": 1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": 494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": 146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": 687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": 1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": -214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP",
    "merchant": "Client"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": 1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": 1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": 386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": 123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": 888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": 1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": -140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": 919.83,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-12",
    "description": "Freelancer Income",
    "amount": 937.34,
    "currency": "GBP",
    "merchant": "Freelancer"
  },
  {
    "date": "2025-06-13",
    "description": "Account Maintenance Fee",
    "amount": 598.34,
    "currency": "GBP",
    "merchant": "Bank"
  },
  {
    "date": "2025-06-14",
    "description": "Account Maintenance Fee",
    "amount": 120.37,
    "currency": "GBP",
    "merchant": "Bank"
  },
  {
    "date": "2025-06-14",
    "description": "Costa Coffee",
    "amount": 957.21,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-14",
    "description": "Stripe Payout",
    "amount": -165.97,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-16",
    "description": "TransferWise",
    "amount": -160.48,
    "currency": "GBP",
    "merchant": "TransferWise"
  },
  {
    "date": "2025-06-17",
    "description": "Stripe Payout",
    "amount": 1325.16,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-18",
    "description": "Amazon Web Services",
    "amount": 1155.33,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-18",
    "description": "Late Fee",
    "amount": 1495.34,
    "currency": "GBP",
    "merchant": "Bank"
  },
  {
    "date": "2025-06-18",
    "description": "Upwork Ltd Payment",
    "amount": -122.51,
    "currency": "GBP",
    "merchant": "Upwork"
  },
  {
    "date": "2025-06-18",
    "description": "Upwork Ltd Payment",
    "amount": 1016.92,
    "currency": "GBP",
    "merchant": "Upwork"
  },
  {
    "date": "2025-06-19",
    "description": "Account Maintenance Fee",
    "amount": 1013.75,
    "currency": "GBP",
    "merchant": "Bank"
  },
  {
    "date": "2025-06-19",
    "description": "TFL Travel",
    "amount": 663.95,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-20",
    "description": "Costa Coffee",
    "amount": 1089.18,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-22",
    "description": "Google Ads",
    "amount": 221.47,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-22",
    "description": "Google Ads",
    "amount": 392.83,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-23",
    "description": "PayPal Fee",
    "amount": 370.99,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-24",
    "description": "Google Ads",
    "amount": 652.07,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-24",
    "description": "Stripe Payout",
    "amount": 401.21,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-24",
    "description": "Stripe Payout",
    "amount": 471.83,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-25",
    "description": "Google Ads",
    "amount": 133.65,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-25",
    "description": "PayPal Fee",
    "amount": 42.0,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-25",
    "description": "Stripe Payout",
    "amount": 619.82,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-25",
    "description": "TransferWise",
    "amount": 1061.66,
    "currency": "GBP",
    "merchant": "TransferWise"
  },
  {
    "date": "2025-06-26",
    "description": "Account Maintenance Fee",
    "amount": 616.07,
    "currency": "GBP",
    "merchant": "Bank"
  },
  {
    "date": "2025-06-26",
    "description": "TransferWise",
    "amount": 257.68,
    "currency": "GBP",
    "merchant": "TransferWise"
  },
  {
    "date": "2025-06-26",
    "description": "Upwork Ltd Payment",
    "amount": 266.17,
    "currency": "GBP",
    "merchant": "Upwork"
  },
  {
    "date": "2025-06-28",
    "description": "TransferWise",
    "amount": 394.26,
    "currency": "GBP",
    "merchant": "TransferWise"
  },
  {
    "date": "2025-06-29",
    "description": "Costa Coffee",
    "amount": 587.33,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-29",
    "description": "TransferWise",
    "amount": 1162.35,
    "currency": "GBP",
    "merchant": "TransferWise"
  },
  {
    "date": "2025-06-30",
    "description": "Google Ads",
    "amount": 130.42,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-30",
    "description": "HMRC Payment",
    "amount": 571.13,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-30",
    "description": "TFL Travel",
    "amount": -83.36,
    "currency": "GBP",
    "merchant": "TFL"
  }
]
2025-08-15 17:37:24,613 - app.services.bedrock_service - INFO - [extract_173640007] PDF extraction completed successfully - Transactions found: 50, Time: 44.605s
2025-08-15 17:37:24,613 - app.services.bedrock_service - INFO - [extract_173640007] Parsed transactions: [
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": 1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": 494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": 146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": 687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": 1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": -214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP",
    "merchant": "Client"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": 1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": 1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": 386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": 123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": 888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": 1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": -140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": 919.83,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-12",
    "description": "Freelancer Income",
    "amount": 937.34,
    "currency": "GBP",
    "merchant": "Freelancer"
  },
  {
    "date": "2025-06-13",
    "description": "Account Maintenance Fee",
    "amount": 598.34,
    "currency": "GBP",
    "merchant": "Bank"
  },
  {
    "date": "2025-06-14",
    "description": "Account Maintenance Fee",
    "amount": 120.37,
    "currency": "GBP",
    "merchant": "Bank"
  },
  {
    "date": "2025-06-14",
    "description": "Costa Coffee",
    "amount": 957.21,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-14",
    "description": "Stripe Payout",
    "amount": -165.97,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-16",
    "description": "TransferWise",
    "amount": -160.48,
    "currency": "GBP",
    "merchant": "TransferWise"
  },
  {
    "date": "2025-06-17",
    "description": "Stripe Payout",
    "amount": 1325.16,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-18",
    "description": "Amazon Web Services",
    "amount": 1155.33,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-18",
    "description": "Late Fee",
    "amount": 1495.34,
    "currency": "GBP",
    "merchant": "Bank"
  },
  {
    "date": "2025-06-18",
    "description": "Upwork Ltd Payment",
    "amount": -122.51,
    "currency": "GBP",
    "merchant": "Upwork"
  },
  {
    "date": "2025-06-18",
    "description": "Upwork Ltd Payment",
    "amount": 1016.92,
    "currency": "GBP",
    "merchant": "Upwork"
  },
  {
    "date": "2025-06-19",
    "description": "Account Maintenance Fee",
    "amount": 1013.75,
    "currency": "GBP",
    "merchant": "Bank"
  },
  {
    "date": "2025-06-19",
    "description": "TFL Travel",
    "amount": 663.95,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-20",
    "description": "Costa Coffee",
    "amount": 1089.18,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-22",
    "description": "Google Ads",
    "amount": 221.47,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-22",
    "description": "Google Ads",
    "amount": 392.83,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-23",
    "description": "PayPal Fee",
    "amount": 370.99,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-24",
    "description": "Google Ads",
    "amount": 652.07,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-24",
    "description": "Stripe Payout",
    "amount": 401.21,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-24",
    "description": "Stripe Payout",
    "amount": 471.83,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-25",
    "description": "Google Ads",
    "amount": 133.65,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-25",
    "description": "PayPal Fee",
    "amount": 42.0,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-25",
    "description": "Stripe Payout",
    "amount": 619.82,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-25",
    "description": "TransferWise",
    "amount": 1061.66,
    "currency": "GBP",
    "merchant": "TransferWise"
  },
  {
    "date": "2025-06-26",
    "description": "Account Maintenance Fee",
    "amount": 616.07,
    "currency": "GBP",
    "merchant": "Bank"
  },
  {
    "date": "2025-06-26",
    "description": "TransferWise",
    "amount": 257.68,
    "currency": "GBP",
    "merchant": "TransferWise"
  },
  {
    "date": "2025-06-26",
    "description": "Upwork Ltd Payment",
    "amount": 266.17,
    "currency": "GBP",
    "merchant": "Upwork"
  },
  {
    "date": "2025-06-28",
    "description": "TransferWise",
    "amount": 394.26,
    "currency": "GBP",
    "merchant": "TransferWise"
  },
  {
    "date": "2025-06-29",
    "description": "Costa Coffee",
    "amount": 587.33,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-29",
    "description": "TransferWise",
    "amount": 1162.35,
    "currency": "GBP",
    "merchant": "TransferWise"
  },
  {
    "date": "2025-06-30",
    "description": "Google Ads",
    "amount": 130.42,
    "currency": "GBP",
    "merchant": "Google"
  },
  {
    "date": "2025-06-30",
    "description": "HMRC Payment",
    "amount": 571.13,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-30",
    "description": "TFL Travel",
    "amount": -83.36,
    "currency": "GBP",
    "merchant": "TFL"
  }
]
2025-08-15 17:37:24,614 - app.services.transaction_service - INFO - Transactions extracted from PDF: 50 found
2025-08-15 17:37:24,614 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-15 17:37:27,069 - app.services.bedrock_service - INFO - [classify_173724614] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work", "category": "software_subscription"}
2025-08-15 17:37:27,072 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work",
  "category": "software_subscription"
}
2025-08-15 17:37:28,371 - app.services.bedrock_service - INFO - [classify_173727146] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Cloud computing services like AWS are commonly used for business purposes", "category": "cloud_services"}
2025-08-15 17:37:28,372 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Cloud computing services like AWS are commonly used for business purposes",
  "category": "cloud_services"
}
2025-08-15 17:37:29,681 - app.services.bedrock_service - INFO - [classify_173728382] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for business services", "category": "payment_processing_fees"}
2025-08-15 17:37:29,682 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for business services",
  "category": "payment_processing_fees"
}
2025-08-15 17:37:32,886 - app.services.bedrock_service - INFO - [classify_173729686] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are income received for freelance or business services", "category": "income"}
2025-08-15 17:37:32,887 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are income received for freelance or business services",
  "category": "income"
}
2025-08-15 17:37:34,392 - app.services.bedrock_service - INFO - [classify_173732890] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work", "category": "software_subscription"}
2025-08-15 17:37:34,393 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work",
  "category": "software_subscription"
}
2025-08-15 17:37:38,619 - app.services.bedrock_service - INFO - [classify_173734396] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Video conferencing tools like Zoom are essential for business communication and client meetings for freelancers", "category": "software_subscription"}
2025-08-15 17:37:38,620 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Video conferencing tools like Zoom are essential for business communication and client meetings for freelancers",
  "category": "software_subscription"
}
2025-08-15 17:37:50,986 - app.services.bedrock_service - INFO - [classify_173738624] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work", "category": "software_subscription"}
2025-08-15 17:37:50,989 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work",
  "category": "software_subscription"
}
2025-08-15 17:38:00,807 - app.services.bedrock_service - ERROR - [classify_173751015] Classification failed after 9.792s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 17:38:01,832 - app.services.bedrock_service - INFO - [classify_173800817] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.8, "reasoning": "Coffee shop purchases are typically personal expenses", "category": "food_dining"}
2025-08-15 17:38:01,832 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "Coffee shop purchases are typically personal expenses",
  "category": "food_dining"
}
2025-08-15 17:38:10,755 - app.services.bedrock_service - ERROR - [classify_173801836] Classification failed after 8.919s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 17:38:14,358 - app.services.bedrock_service - INFO - [classify_173810764] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "HMRC payments are tax obligations for freelance/business income", "category": "taxes"}
2025-08-15 17:38:14,360 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "HMRC payments are tax obligations for freelance/business income",
  "category": "taxes"
}
2025-08-15 17:38:23,924 - app.services.bedrock_service - ERROR - [classify_173814366] Classification failed after 9.557s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 17:38:27,258 - app.services.bedrock_service - INFO - [classify_173823954] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "GitHub is a software development platform used for business purposes", "category": "software_subscription"}
2025-08-15 17:38:27,258 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "GitHub is a software development platform used for business purposes",
  "category": "software_subscription"
}
2025-08-15 17:38:33,371 - app.services.bedrock_service - ERROR - [classify_173827262] Classification failed after 6.110s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 17:38:42,623 - app.services.bedrock_service - INFO - [classify_173833376] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for business services", "category": "business_fees"}
2025-08-15 17:38:42,625 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for business services",
  "category": "business_fees"
}
2025-08-15 17:38:57,885 - app.services.bedrock_service - INFO - [classify_173842635] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is an online advertising platform for businesses", "category": "marketing_advertising"}
2025-08-15 17:38:57,887 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is an online advertising platform for businesses",
  "category": "marketing_advertising"
}
2025-08-15 17:39:05,049 - app.services.bedrock_service - INFO - [classify_173857896] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are income received for freelance or business services", "category": "income"}
2025-08-15 17:39:05,050 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are income received for freelance or business services",
  "category": "income"
}
2025-08-15 17:39:09,352 - app.services.bedrock_service - ERROR - [classify_173905055] Classification failed after 4.297s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 17:39:14,202 - app.services.bedrock_service - INFO - [classify_173909361] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "Bank fees for business accounts are typically business expenses", "category": "banking_fees"}
2025-08-15 17:39:14,203 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "Bank fees for business accounts are typically business expenses",
  "category": "banking_fees"
}
2025-08-15 17:39:24,351 - app.services.bedrock_service - ERROR - [classify_173914215] Classification failed after 10.136s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 17:39:26,110 - app.services.bedrock_service - INFO - [classify_173924361] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.8, "reasoning": "Coffee shop purchases are typically personal expenses", "category": "food_dining"}
2025-08-15 17:39:26,111 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "Coffee shop purchases are typically personal expenses",
  "category": "food_dining"
}
2025-08-15 17:39:39,215 - app.services.bedrock_service - INFO - [classify_173926116] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are income received for freelance/business services", "category": "income"}
2025-08-15 17:39:39,216 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are income received for freelance/business services",
  "category": "income"
}
2025-08-15 17:39:45,812 - app.services.bedrock_service - ERROR - [classify_173939222] Classification failed after 6.590s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 17:39:53,279 - app.services.bedrock_service - INFO - [classify_173945841] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are income received for freelance or business services", "category": "income"}
2025-08-15 17:39:53,281 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are income received for freelance or business services",
  "category": "income"
}
2025-08-15 17:40:02,954 - app.services.bedrock_service - INFO - [classify_173953293] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Cloud computing services like AWS are essential for running business applications", "category": "cloud_services"}
2025-08-15 17:40:02,958 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Cloud computing services like AWS are essential for running business applications",
  "category": "cloud_services"
}
2025-08-15 17:40:09,763 - app.services.bedrock_service - ERROR - [classify_174002970] Classification failed after 6.793s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 17:40:16,014 - app.services.bedrock_service - INFO - [classify_174009770] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payment from Upwork indicates income from freelance work", "category": "freelance_income"}
2025-08-15 17:40:16,016 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment from Upwork indicates income from freelance work",
  "category": "freelance_income"
}
2025-08-15 17:40:24,367 - app.services.bedrock_service - ERROR - [classify_174016033] Classification failed after 8.334s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 17:40:27,063 - app.services.bedrock_service - INFO - [classify_174024373] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "Bank fees for business accounts are tax-deductible expenses", "category": "banking_fees"}
2025-08-15 17:40:27,065 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "Bank fees for business accounts are tax-deductible expenses",
  "category": "banking_fees"
}
2025-08-15 17:40:35,702 - app.services.bedrock_service - ERROR - [classify_174027075] Classification failed after 8.628s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 17:40:38,100 - app.services.bedrock_service - INFO - [classify_174035714] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.8, "reasoning": "Coffee shop purchases are typically personal expenses", "category": "food_dining"}
2025-08-15 17:40:38,101 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "Coffee shop purchases are typically personal expenses",
  "category": "food_dining"
}
2025-08-15 17:40:44,442 - app.services.bedrock_service - ERROR - [classify_174038109] Classification failed after 6.333s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 17:40:51,469 - app.services.bedrock_service - INFO - [classify_174044459] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is an online advertising platform for businesses", "category": "advertising"}
2025-08-15 17:40:51,470 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is an online advertising platform for businesses",
  "category": "advertising"
}
2025-08-15 17:41:03,525 - app.services.bedrock_service - INFO - [classify_174051476] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for business services", "category": "payment_processing_fees"}
2025-08-15 17:41:03,526 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for business services",
  "category": "payment_processing_fees"
}
2025-08-15 17:41:08,828 - app.services.bedrock_service - ERROR - [classify_174103532] Classification failed after 5.296s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 17:41:15,397 - app.services.bedrock_service - INFO - [classify_174108837] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are income received for freelance or business services", "category": "income"}
2025-08-15 17:41:15,398 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are income received for freelance or business services",
  "category": "income"
}
2025-08-15 17:41:22,583 - app.services.bedrock_service - ERROR - [classify_174115401] Classification failed after 7.181s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 17:41:25,848 - app.services.bedrock_service - INFO - [classify_174122593] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is an online advertising platform for businesses", "category": "advertising"}
2025-08-15 17:41:25,848 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is an online advertising platform for businesses",
  "category": "advertising"
}
2025-08-15 17:41:32,471 - app.services.bedrock_service - ERROR - [classify_174125852] Classification failed after 6.619s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 17:41:44,896 - app.services.bedrock_service - INFO - [classify_174132477] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are income received for freelance or business services", "category": "income"}
2025-08-15 17:41:44,897 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are income received for freelance or business services",
  "category": "income"
}
2025-08-15 17:41:50,929 - app.services.bedrock_service - INFO - [classify_174144901] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "TransferWise is a money transfer service commonly used by freelancers for international payments", "category": "financial_services"}
2025-08-15 17:41:50,930 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service commonly used by freelancers for international payments",
  "category": "financial_services"
}
2025-08-15 17:41:55,930 - app.services.bedrock_service - ERROR - [classify_174150933] Classification failed after 4.997s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 17:42:08,252 - app.services.bedrock_service - INFO - [classify_174155933] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "TransferWise is a money transfer service often used by freelancers for international payments", "category": "financial_services"}
2025-08-15 17:42:08,255 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service often used by freelancers for international payments",
  "category": "financial_services"
}
2025-08-15 17:44:37,670 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 17:44:37,710 - app.main - INFO - Database tables created/verified
2025-08-15 17:44:37,710 - app.main - INFO - CORS middleware configured
2025-08-15 17:44:37,715 - app.main - INFO - API routers included
2025-08-15 17:44:37,716 - app.main - INFO - 🚀 Application starting up...
2025-08-15 17:44:37,716 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 17:44:37,716 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 17:44:37,716 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 17:44:37,716 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 17:44:37,716 - app.main - INFO - ✅ Application startup complete
2025-08-15 17:48:21,362 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 17:48:22,340 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 17:48:22,354 - app.main - INFO - Database tables created/verified
2025-08-15 17:48:22,354 - app.main - INFO - CORS middleware configured
2025-08-15 17:48:22,358 - app.main - INFO - API routers included
2025-08-15 17:48:22,358 - app.main - INFO - 🚀 Application starting up...
2025-08-15 17:48:22,359 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 17:48:22,359 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 17:48:22,359 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 17:48:22,359 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 17:48:22,359 - app.main - INFO - ✅ Application startup complete
2025-08-15 17:48:45,732 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 17:48:46,729 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 17:48:46,741 - app.main - INFO - Database tables created/verified
2025-08-15 17:48:46,741 - app.main - INFO - CORS middleware configured
2025-08-15 17:48:46,744 - app.main - INFO - API routers included
2025-08-15 17:48:46,745 - app.main - INFO - 🚀 Application starting up...
2025-08-15 17:48:46,745 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 17:48:46,745 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 17:48:46,745 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 17:48:46,745 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 17:48:46,745 - app.main - INFO - ✅ Application startup complete
2025-08-15 17:49:37,515 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 17:49:38,525 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 17:49:38,539 - app.main - INFO - Database tables created/verified
2025-08-15 17:49:38,540 - app.main - INFO - CORS middleware configured
2025-08-15 17:49:38,543 - app.main - INFO - API routers included
2025-08-15 17:49:38,544 - app.main - INFO - 🚀 Application starting up...
2025-08-15 17:49:38,544 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 17:49:38,544 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 17:49:38,544 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 17:49:38,544 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 17:49:38,544 - app.main - INFO - ✅ Application startup complete
2025-08-15 17:49:54,226 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 17:49:55,190 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 17:49:55,202 - app.main - INFO - Database tables created/verified
2025-08-15 17:49:55,202 - app.main - INFO - CORS middleware configured
2025-08-15 17:49:55,206 - app.main - INFO - API routers included
2025-08-15 17:49:55,207 - app.main - INFO - 🚀 Application starting up...
2025-08-15 17:49:55,207 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 17:49:55,207 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 17:49:55,207 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 17:49:55,207 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 17:49:55,207 - app.main - INFO - ✅ Application startup complete
2025-08-15 18:11:11,543 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 18:11:12,588 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 18:11:12,602 - app.main - INFO - Database tables created/verified
2025-08-15 18:11:12,602 - app.main - INFO - CORS middleware configured
2025-08-15 18:11:12,606 - app.main - INFO - API routers included
2025-08-15 18:11:12,606 - app.main - INFO - 🚀 Application starting up...
2025-08-15 18:11:12,607 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 18:11:12,607 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 18:11:12,607 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 18:11:12,607 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 18:11:12,607 - app.main - INFO - ✅ Application startup complete
2025-08-15 18:11:14,976 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 18:11:15,597 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 18:11:15,604 - app.main - INFO - Database tables created/verified
2025-08-15 18:11:15,605 - app.main - INFO - CORS middleware configured
2025-08-15 18:11:15,608 - app.main - INFO - API routers included
2025-08-15 18:11:15,609 - app.main - INFO - 🚀 Application starting up...
2025-08-15 18:11:15,609 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 18:11:15,609 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 18:11:15,609 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 18:11:15,609 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 18:11:15,609 - app.main - INFO - ✅ Application startup complete
2025-08-15 18:11:18,817 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 18:11:19,550 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 18:11:19,558 - app.main - INFO - Database tables created/verified
2025-08-15 18:11:19,559 - app.main - INFO - CORS middleware configured
2025-08-15 18:11:19,562 - app.main - INFO - API routers included
2025-08-15 18:11:19,562 - app.main - INFO - 🚀 Application starting up...
2025-08-15 18:11:19,563 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 18:11:19,563 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 18:11:19,563 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 18:11:19,563 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 18:11:19,563 - app.main - INFO - ✅ Application startup complete
2025-08-15 18:13:57,837 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:13:58,058 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:13:59,717 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:13:59,719 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:14:03,864 - app.api.transactions - INFO - [upload_20250815_181403_7538310d] Starting file upload - User: 7538310d-4272-47bb-9f43-37c43168ffbf, File: Freelancer_Bank_Statement_June_2025_shortened.pdf, Size: 1938 bytes
2025-08-15 18:14:03,864 - app.api.transactions - INFO - [upload_20250815_181403_7538310d] Validating file type: Freelancer_Bank_Statement_June_2025_shortened.pdf
2025-08-15 18:14:03,864 - app.api.transactions - INFO - [upload_20250815_181403_7538310d] File type validation passed
2025-08-15 18:14:03,865 - app.api.transactions - INFO - [upload_20250815_181403_7538310d] Reading file content for size validation
2025-08-15 18:14:03,865 - app.api.transactions - INFO - [upload_20250815_181403_7538310d] File content read - Size: 1938 bytes
2025-08-15 18:14:03,866 - app.api.transactions - INFO - [upload_20250815_181403_7538310d] File size validation passed
2025-08-15 18:14:03,867 - app.api.transactions - INFO - [upload_20250815_181403_7538310d] Initializing services
2025-08-15 18:14:03,867 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:14:03,870 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:14:03,870 - app.api.transactions - INFO - [upload_20250815_181403_7538310d] Services initialized successfully
2025-08-15 18:14:03,871 - app.api.transactions - INFO - [upload_20250815_181403_7538310d] Processing file with extension: pdf
2025-08-15 18:14:03,871 - app.api.transactions - INFO - [upload_20250815_181403_7538310d] Processing PDF file
2025-08-15 18:14:03,871 - app.services.transaction_service - INFO - Starting PDF processing for user 7538310d-4272-47bb-9f43-37c43168ffbf
2025-08-15 18:14:03,871 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-15 18:14:03,871 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-15 18:14:03,872 - app.services.transaction_service - INFO - PDF has 1 pages
2025-08-15 18:14:03,875 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 575 characters
2025-08-15 18:14:03,876 - app.services.transaction_service - INFO - PDF text extracted - Length: 575 characters
2025-08-15 18:14:03,876 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-15 18:14:03,876 - app.services.bedrock_service - INFO - [extract_181403876] Starting PDF transaction extraction - Text length: 575 characters
2025-08-15 18:14:13,362 - app.services.bedrock_service - INFO - [extract_181403876] Raw Bedrock text response:
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": 1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": 494.93,
    "currency": "GBP", 
    "merchant": "Amazon"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": 146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": 687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": 1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": -214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP",
    "merchant": "Client"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": 1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": 1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  }
]
2025-08-15 18:14:13,363 - app.services.bedrock_service - INFO - Parsing transaction extraction response: [
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": 1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": 494.93,
    "currency": "GBP", 
    "merchant": "Amazon"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": 146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": 687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": 1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": -214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP",
    "merchant": "Client"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": 1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": 1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  }
]
2025-08-15 18:14:13,363 - app.services.bedrock_service - INFO - Extracted JSON array string: [
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": 1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": 494.93,
    "currency": "GBP", 
    "merchant": "Amazon"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": 146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": 687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": 1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": -214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP",
    "merchant": "Client"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": 1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": 1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  }
]
2025-08-15 18:14:13,363 - app.services.bedrock_service - INFO - Successfully parsed JSON array: [{'date': '2025-06-01', 'description': 'Adobe CC', 'amount': 1253.63, 'currency': 'GBP', 'merchant': 'Adobe'}, {'date': '2025-06-01', 'description': 'Amazon Web Services', 'amount': 494.93, 'currency': 'GBP', 'merchant': 'Amazon'}, {'date': '2025-06-02', 'description': 'PayPal Fee', 'amount': 146.2, 'currency': 'GBP', 'merchant': 'PayPal'}, {'date': '2025-06-02', 'description': 'Stripe Payout', 'amount': 281.48, 'currency': 'GBP', 'merchant': 'Stripe'}, {'date': '2025-06-06', 'description': 'Adobe CC', 'amount': 687.09, 'currency': 'GBP', 'merchant': 'Adobe'}, {'date': '2025-06-06', 'description': 'Zoom Subscription', 'amount': 1380.44, 'currency': 'GBP', 'merchant': 'Zoom'}, {'date': '2025-06-07', 'description': 'Adobe CC', 'amount': -214.51, 'currency': 'GBP', 'merchant': 'Adobe'}, {'date': '2025-06-07', 'description': 'Client Refund', 'amount': 1003.31, 'currency': 'GBP', 'merchant': 'Client'}, {'date': '2025-06-07', 'description': 'Costa Coffee', 'amount': 1156.58, 'currency': 'GBP', 'merchant': 'Costa Coffee'}, {'date': '2025-06-07', 'description': 'TFL Travel', 'amount': 1470.87, 'currency': 'GBP', 'merchant': 'TFL'}]
2025-08-15 18:14:13,364 - app.services.bedrock_service - INFO - Final validated transactions: [
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": 1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": 494.93,
    "currency": "GBP",
    "merchant": "Amazon"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": 146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": 687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": 1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": -214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP",
    "merchant": "Client"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": 1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": 1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  }
]
2025-08-15 18:14:13,364 - app.services.bedrock_service - INFO - [extract_181403876] PDF extraction completed successfully - Transactions found: 10, Time: 9.488s
2025-08-15 18:14:13,364 - app.services.bedrock_service - INFO - [extract_181403876] Parsed transactions: [
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": 1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": 494.93,
    "currency": "GBP",
    "merchant": "Amazon"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": 146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": 687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": 1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": -214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP",
    "merchant": "Client"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": 1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": 1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  }
]
2025-08-15 18:14:13,364 - app.services.transaction_service - INFO - Transactions extracted from PDF: 10 found
2025-08-15 18:14:13,364 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-15 18:14:14,928 - app.services.bedrock_service - INFO - [classify_181413365] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work", "category": "software_subscription"}
2025-08-15 18:14:14,929 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work",
  "category": "software_subscription"
}
2025-08-15 18:14:16,165 - app.services.bedrock_service - INFO - [classify_181414945] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Cloud computing services like AWS are commonly used for business purposes", "category": "cloud_services"}
2025-08-15 18:14:16,166 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Cloud computing services like AWS are commonly used for business purposes",
  "category": "cloud_services"
}
2025-08-15 18:14:18,467 - app.services.bedrock_service - INFO - [classify_181416181] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for business services", "category": "payment_processing_fees"}
2025-08-15 18:14:18,468 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for business services",
  "category": "payment_processing_fees"
}
2025-08-15 18:14:19,826 - app.services.bedrock_service - INFO - [classify_181418473] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are income received for freelance/business services", "category": "income"}
2025-08-15 18:14:19,826 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are income received for freelance/business services",
  "category": "income"
}
2025-08-15 18:14:21,174 - app.services.bedrock_service - INFO - [classify_181419831] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work", "category": "software_subscription"}
2025-08-15 18:14:21,175 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work",
  "category": "software_subscription"
}
2025-08-15 18:14:26,761 - app.services.bedrock_service - ERROR - [classify_181421184] Classification failed after 5.578s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 18:14:33,058 - app.services.bedrock_service - INFO - [classify_181426766] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work", "category": "software_subscription"}
2025-08-15 18:14:33,060 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work",
  "category": "software_subscription"
}
2025-08-15 18:14:46,983 - app.services.bedrock_service - INFO - [classify_181433067] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "A client refund is directly related to freelance business income", "category": "income_adjustment"}
2025-08-15 18:14:46,986 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "A client refund is directly related to freelance business income",
  "category": "income_adjustment"
}
2025-08-15 18:14:59,269 - app.services.bedrock_service - INFO - [classify_181447005] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.8, "reasoning": "Coffee shop purchases are typically personal expenses", "category": "food_dining"}
2025-08-15 18:14:59,270 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "Coffee shop purchases are typically personal expenses",
  "category": "food_dining"
}
2025-08-15 18:15:07,111 - app.services.bedrock_service - INFO - [classify_181459283] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "Travel expenses are typically business-related for freelancers and consultants", "category": "transportation"}
2025-08-15 18:15:07,113 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "Travel expenses are typically business-related for freelancers and consultants",
  "category": "transportation"
}
2025-08-15 18:15:07,123 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 10, Errors: 0, Time: 63.25s
2025-08-15 18:15:07,124 - app.api.transactions - INFO - [upload_20250815_181403_7538310d] PDF processing completed - Result: {'processed_count': 10, 'transactions': [{'id': '08c362b9-78b5-4a75-b164-8923dd5244f6', 'date': '2025-06-01', 'description': 'Adobe CC', 'amount': 1253.63, 'classification': 'business', 'confidence': 0.95, 'category': 'software_subscription'}, {'id': '77b0cd77-4eda-4b69-9de5-d213812096cb', 'date': '2025-06-01', 'description': 'Amazon Web Services', 'amount': 494.93, 'classification': 'business', 'confidence': 0.95, 'category': 'cloud_services'}, {'id': 'f30104b7-8a73-4130-9986-e080f98daf56', 'date': '2025-06-02', 'description': 'PayPal Fee', 'amount': 146.2, 'classification': 'business', 'confidence': 0.9, 'category': 'payment_processing_fees'}, {'id': 'e42f5d13-77bc-4282-94cf-7d25a2ed5d8a', 'date': '2025-06-02', 'description': 'Stripe Payout', 'amount': 281.48, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': 'b52a64b9-f4cf-4715-bdff-090ba2f73b4f', 'date': '2025-06-06', 'description': 'Adobe CC', 'amount': 687.09, 'classification': 'business', 'confidence': 0.95, 'category': 'software_subscription'}, {'id': '2ce5f59b-3ad1-4672-90fd-b2323ad4b0b2', 'date': '2025-06-06', 'description': 'Zoom Subscription', 'amount': 1380.44, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'c4c5ff68-befe-4b62-a1d2-44474ebfa7b3', 'date': '2025-06-07', 'description': 'Adobe CC', 'amount': -214.51, 'classification': 'business', 'confidence': 0.95, 'category': 'software_subscription'}, {'id': 'f3f42584-7ee9-4e6b-948f-47f9adba9bd6', 'date': '2025-06-07', 'description': 'Client Refund', 'amount': 1003.31, 'classification': 'business', 'confidence': 0.95, 'category': 'income_adjustment'}, {'id': 'b05c1aaf-4048-466b-9721-c2ecbf340861', 'date': '2025-06-07', 'description': 'Costa Coffee', 'amount': 1156.58, 'classification': 'personal', 'confidence': 0.8, 'category': 'food_dining'}, {'id': '3fce9275-15d6-422f-9ca0-69037a0ebfbc', 'date': '2025-06-07', 'description': 'TFL Travel', 'amount': 1470.87, 'classification': 'business', 'confidence': 0.8, 'category': 'transportation'}], 'errors': [], 'processing_time': 63.251755}
2025-08-15 18:15:07,124 - app.api.transactions - INFO - [upload_20250815_181403_7538310d] File processing completed successfully - Processing time: 63.25s, Transactions processed: 10
2025-08-15 18:15:07,153 - app.api.transactions - INFO - Processing cancellation requested for user 7538310d-4272-47bb-9f43-37c43168ffbf
2025-08-15 18:16:13,569 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 18:16:14,579 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 18:16:14,595 - app.main - INFO - Database tables created/verified
2025-08-15 18:16:14,596 - app.main - INFO - CORS middleware configured
2025-08-15 18:16:14,600 - app.main - INFO - API routers included
2025-08-15 18:16:14,601 - app.main - INFO - 🚀 Application starting up...
2025-08-15 18:16:14,601 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 18:16:14,602 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 18:16:14,602 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 18:16:14,602 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 18:16:14,602 - app.main - INFO - ✅ Application startup complete
2025-08-15 18:17:01,327 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 18:17:02,184 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 18:17:02,197 - app.main - INFO - Database tables created/verified
2025-08-15 18:17:02,198 - app.main - INFO - CORS middleware configured
2025-08-15 18:17:02,202 - app.main - INFO - API routers included
2025-08-15 18:17:02,203 - app.main - INFO - 🚀 Application starting up...
2025-08-15 18:17:02,203 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 18:17:02,203 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 18:17:02,204 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 18:17:02,204 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 18:17:02,204 - app.main - INFO - ✅ Application startup complete
2025-08-15 18:17:10,701 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 18:17:11,321 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 18:17:11,328 - app.main - INFO - Database tables created/verified
2025-08-15 18:17:11,328 - app.main - INFO - CORS middleware configured
2025-08-15 18:17:11,331 - app.main - INFO - API routers included
2025-08-15 18:17:11,332 - app.main - INFO - 🚀 Application starting up...
2025-08-15 18:17:11,332 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 18:17:11,332 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 18:17:11,332 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 18:17:11,332 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 18:17:11,332 - app.main - INFO - ✅ Application startup complete
2025-08-15 18:17:38,441 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 18:17:39,430 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 18:17:39,446 - app.main - INFO - Database tables created/verified
2025-08-15 18:17:39,447 - app.main - INFO - CORS middleware configured
2025-08-15 18:17:39,450 - app.main - INFO - API routers included
2025-08-15 18:17:39,451 - app.main - INFO - 🚀 Application starting up...
2025-08-15 18:17:39,451 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 18:17:39,452 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 18:17:39,452 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 18:17:39,452 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 18:17:39,452 - app.main - INFO - ✅ Application startup complete
2025-08-15 18:17:45,445 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 18:17:46,082 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 18:17:46,094 - app.main - INFO - Database tables created/verified
2025-08-15 18:17:46,094 - app.main - INFO - CORS middleware configured
2025-08-15 18:17:46,098 - app.main - INFO - API routers included
2025-08-15 18:17:46,099 - app.main - INFO - 🚀 Application starting up...
2025-08-15 18:17:46,099 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 18:17:46,099 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 18:17:46,099 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 18:17:46,100 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 18:17:46,100 - app.main - INFO - ✅ Application startup complete
2025-08-15 18:17:51,488 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 18:17:52,351 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 18:17:52,362 - app.main - INFO - Database tables created/verified
2025-08-15 18:17:52,362 - app.main - INFO - CORS middleware configured
2025-08-15 18:17:52,366 - app.main - INFO - API routers included
2025-08-15 18:17:52,366 - app.main - INFO - 🚀 Application starting up...
2025-08-15 18:17:52,367 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 18:17:52,367 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 18:17:52,367 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 18:17:52,367 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 18:17:52,367 - app.main - INFO - ✅ Application startup complete
2025-08-15 18:18:36,486 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 18:18:37,419 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 18:18:37,432 - app.main - INFO - Database tables created/verified
2025-08-15 18:18:37,433 - app.main - INFO - CORS middleware configured
2025-08-15 18:18:37,439 - app.main - INFO - API routers included
2025-08-15 18:18:37,440 - app.main - INFO - 🚀 Application starting up...
2025-08-15 18:18:37,440 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 18:18:37,441 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 18:18:37,441 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 18:18:37,441 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 18:18:37,441 - app.main - INFO - ✅ Application startup complete
2025-08-15 18:18:39,087 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 18:18:39,856 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 18:18:39,864 - app.main - INFO - Database tables created/verified
2025-08-15 18:18:39,865 - app.main - INFO - CORS middleware configured
2025-08-15 18:18:39,868 - app.main - INFO - API routers included
2025-08-15 18:18:39,869 - app.main - INFO - 🚀 Application starting up...
2025-08-15 18:18:39,869 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 18:18:39,869 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 18:18:39,869 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 18:18:39,869 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 18:18:39,870 - app.main - INFO - ✅ Application startup complete
2025-08-15 18:18:41,117 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 18:18:41,697 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 18:18:41,705 - app.main - INFO - Database tables created/verified
2025-08-15 18:18:41,705 - app.main - INFO - CORS middleware configured
2025-08-15 18:18:41,708 - app.main - INFO - API routers included
2025-08-15 18:18:41,709 - app.main - INFO - 🚀 Application starting up...
2025-08-15 18:18:41,709 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 18:18:41,709 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 18:18:41,709 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 18:18:41,709 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 18:18:41,709 - app.main - INFO - ✅ Application startup complete
2025-08-15 18:18:46,673 - app.api.transactions - INFO - [upload_20250815_181846_7538310d] Starting file upload - User: 7538310d-4272-47bb-9f43-37c43168ffbf, File: Freelancer_Bank_Statement_June_2025_shortened.pdf, Size: 1938 bytes
2025-08-15 18:18:46,674 - app.api.transactions - INFO - [upload_20250815_181846_7538310d] Validating file type: Freelancer_Bank_Statement_June_2025_shortened.pdf
2025-08-15 18:18:46,674 - app.api.transactions - INFO - [upload_20250815_181846_7538310d] File type validation passed
2025-08-15 18:18:46,675 - app.api.transactions - INFO - [upload_20250815_181846_7538310d] Reading file content for size validation
2025-08-15 18:18:46,675 - app.api.transactions - INFO - [upload_20250815_181846_7538310d] File content read - Size: 1938 bytes
2025-08-15 18:18:46,675 - app.api.transactions - INFO - [upload_20250815_181846_7538310d] File size validation passed
2025-08-15 18:18:46,675 - app.api.transactions - INFO - [upload_20250815_181846_7538310d] Processing cancelled by user request
2025-08-15 18:18:56,911 - app.api.transactions - INFO - [upload_20250815_181856_7538310d] Starting file upload - User: 7538310d-4272-47bb-9f43-37c43168ffbf, File: Freelancer_Bank_Statement_June_2025_shortened.pdf, Size: 1938 bytes
2025-08-15 18:18:56,912 - app.api.transactions - INFO - [upload_20250815_181856_7538310d] Validating file type: Freelancer_Bank_Statement_June_2025_shortened.pdf
2025-08-15 18:18:56,912 - app.api.transactions - INFO - [upload_20250815_181856_7538310d] File type validation passed
2025-08-15 18:18:56,912 - app.api.transactions - INFO - [upload_20250815_181856_7538310d] Reading file content for size validation
2025-08-15 18:18:56,912 - app.api.transactions - INFO - [upload_20250815_181856_7538310d] File content read - Size: 1938 bytes
2025-08-15 18:18:56,913 - app.api.transactions - INFO - [upload_20250815_181856_7538310d] File size validation passed
2025-08-15 18:18:56,913 - app.api.transactions - INFO - [upload_20250815_181856_7538310d] Initializing services
2025-08-15 18:18:56,914 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:18:57,029 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:18:57,029 - app.api.transactions - INFO - [upload_20250815_181856_7538310d] Services initialized successfully
2025-08-15 18:18:57,029 - app.api.transactions - INFO - [upload_20250815_181856_7538310d] Processing file with extension: pdf
2025-08-15 18:18:57,029 - app.api.transactions - INFO - [upload_20250815_181856_7538310d] Processing PDF file
2025-08-15 18:18:57,030 - app.services.transaction_service - INFO - Starting PDF processing for user 7538310d-4272-47bb-9f43-37c43168ffbf
2025-08-15 18:18:57,030 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-15 18:18:57,030 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-15 18:18:57,031 - app.services.transaction_service - INFO - PDF has 1 pages
2025-08-15 18:18:57,123 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 575 characters
2025-08-15 18:18:57,124 - app.services.transaction_service - INFO - PDF text extracted - Length: 575 characters
2025-08-15 18:18:57,124 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-15 18:18:57,124 - app.services.bedrock_service - INFO - [extract_181857124] Starting PDF transaction extraction - Text length: 575 characters
2025-08-15 18:19:06,772 - app.services.bedrock_service - INFO - [extract_181857124] Raw Bedrock text response:
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": 1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": 494.93,
    "currency": "GBP", 
    "merchant": "Amazon"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": 146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": 687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": 1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": -214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP",
    "merchant": "Client"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": 1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": 1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  }
]
2025-08-15 18:19:06,772 - app.services.bedrock_service - INFO - Parsing transaction extraction response: [
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": 1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": 494.93,
    "currency": "GBP", 
    "merchant": "Amazon"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": 146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": 687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": 1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": -214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP",
    "merchant": "Client"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": 1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": 1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  }
]
2025-08-15 18:19:06,772 - app.services.bedrock_service - INFO - Extracted JSON array string: [
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": 1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": 494.93,
    "currency": "GBP", 
    "merchant": "Amazon"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": 146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": 687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": 1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": -214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP",
    "merchant": "Client"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": 1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": 1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  }
]
2025-08-15 18:19:06,772 - app.services.bedrock_service - INFO - Successfully parsed JSON array: [{'date': '2025-06-01', 'description': 'Adobe CC', 'amount': 1253.63, 'currency': 'GBP', 'merchant': 'Adobe'}, {'date': '2025-06-01', 'description': 'Amazon Web Services', 'amount': 494.93, 'currency': 'GBP', 'merchant': 'Amazon'}, {'date': '2025-06-02', 'description': 'PayPal Fee', 'amount': 146.2, 'currency': 'GBP', 'merchant': 'PayPal'}, {'date': '2025-06-02', 'description': 'Stripe Payout', 'amount': 281.48, 'currency': 'GBP', 'merchant': 'Stripe'}, {'date': '2025-06-06', 'description': 'Adobe CC', 'amount': 687.09, 'currency': 'GBP', 'merchant': 'Adobe'}, {'date': '2025-06-06', 'description': 'Zoom Subscription', 'amount': 1380.44, 'currency': 'GBP', 'merchant': 'Zoom'}, {'date': '2025-06-07', 'description': 'Adobe CC', 'amount': -214.51, 'currency': 'GBP', 'merchant': 'Adobe'}, {'date': '2025-06-07', 'description': 'Client Refund', 'amount': 1003.31, 'currency': 'GBP', 'merchant': 'Client'}, {'date': '2025-06-07', 'description': 'Costa Coffee', 'amount': 1156.58, 'currency': 'GBP', 'merchant': 'Costa Coffee'}, {'date': '2025-06-07', 'description': 'TFL Travel', 'amount': 1470.87, 'currency': 'GBP', 'merchant': 'TFL'}]
2025-08-15 18:19:06,773 - app.services.bedrock_service - INFO - Final validated transactions: [
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": 1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": 494.93,
    "currency": "GBP",
    "merchant": "Amazon"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": 146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": 687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": 1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": -214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP",
    "merchant": "Client"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": 1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": 1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  }
]
2025-08-15 18:19:06,773 - app.services.bedrock_service - INFO - [extract_181857124] PDF extraction completed successfully - Transactions found: 10, Time: 9.648s
2025-08-15 18:19:06,773 - app.services.bedrock_service - INFO - [extract_181857124] Parsed transactions: [
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": 1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": 494.93,
    "currency": "GBP",
    "merchant": "Amazon"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": 146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": 687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": 1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": -214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP",
    "merchant": "Client"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": 1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": 1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  }
]
2025-08-15 18:19:06,773 - app.services.transaction_service - INFO - Transactions extracted from PDF: 10 found
2025-08-15 18:19:06,773 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-15 18:19:08,313 - app.services.bedrock_service - INFO - [classify_181906773] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work", "category": "software_subscription"}
2025-08-15 18:19:08,315 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work",
  "category": "software_subscription"
}
2025-08-15 18:19:09,507 - app.services.bedrock_service - INFO - [classify_181908343] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Cloud computing services like AWS are commonly used for business purposes", "category": "cloud_services"}
2025-08-15 18:19:09,507 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Cloud computing services like AWS are commonly used for business purposes",
  "category": "cloud_services"
}
2025-08-15 18:19:11,660 - app.services.bedrock_service - INFO - [classify_181909513] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for business services", "category": "payment_processing_fees"}
2025-08-15 18:19:11,661 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for business services",
  "category": "payment_processing_fees"
}
2025-08-15 18:19:14,453 - app.services.bedrock_service - INFO - [classify_181911664] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are income received for freelance or business services", "category": "income"}
2025-08-15 18:19:14,454 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are income received for freelance or business services",
  "category": "income"
}
2025-08-15 18:19:15,991 - app.services.bedrock_service - INFO - [classify_181914457] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work", "category": "software_subscription"}
2025-08-15 18:19:15,992 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work",
  "category": "software_subscription"
}
2025-08-15 18:19:24,899 - app.services.bedrock_service - INFO - [classify_181915999] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Zoom is a video conferencing tool commonly used for business meetings and client communication by freelancers", "category": "software_subscription"}
2025-08-15 18:19:24,900 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Zoom is a video conferencing tool commonly used for business meetings and client communication by freelancers",
  "category": "software_subscription"
}
2025-08-15 18:19:37,920 - app.services.bedrock_service - INFO - [classify_181924904] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work", "category": "software_subscription"}
2025-08-15 18:19:37,921 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Adobe Creative Cloud is a software suite commonly used by freelancers for design and creative work",
  "category": "software_subscription"
}
2025-08-15 18:19:42,817 - app.services.bedrock_service - ERROR - [classify_181937929] Classification failed after 4.888s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 68, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-15 18:19:47,384 - app.services.bedrock_service - INFO - [classify_181942822] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.8, "reasoning": "Coffee shop purchases are typically personal expenses", "category": "food_dining"}
2025-08-15 18:19:47,385 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "Coffee shop purchases are typically personal expenses",
  "category": "food_dining"
}
2025-08-15 18:20:00,227 - app.services.bedrock_service - INFO - [classify_181947391] Raw Bedrock text response:
{"classification": "business", "confidence": 0.8, "reasoning": "Travel expenses are typically business-related for freelancers and consultants", "category": "transportation"}
2025-08-15 18:20:00,230 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.8,
  "reasoning": "Travel expenses are typically business-related for freelancers and consultants",
  "category": "transportation"
}
2025-08-15 18:20:00,241 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 10, Errors: 0, Time: 63.21s
2025-08-15 18:20:00,241 - app.api.transactions - INFO - [upload_20250815_181856_7538310d] PDF processing completed - Result: {'processed_count': 10, 'transactions': [{'id': '2f28e94d-d60d-4953-be5a-356ddc874830', 'date': '2025-06-01', 'description': 'Adobe CC', 'amount': 1253.63, 'classification': 'business', 'confidence': 0.95, 'category': 'software_subscription'}, {'id': 'f8fff6e0-b293-4252-8cd5-c1ad87ce453c', 'date': '2025-06-01', 'description': 'Amazon Web Services', 'amount': 494.93, 'classification': 'business', 'confidence': 0.95, 'category': 'cloud_services'}, {'id': '08762ac3-b67f-41cf-9b93-815aafb1db06', 'date': '2025-06-02', 'description': 'PayPal Fee', 'amount': 146.2, 'classification': 'business', 'confidence': 0.9, 'category': 'payment_processing_fees'}, {'id': '7a47bc23-33fa-4d5c-91ad-ac46772a3b2d', 'date': '2025-06-02', 'description': 'Stripe Payout', 'amount': 281.48, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '6928714e-9954-4808-bd1a-4c609c10af61', 'date': '2025-06-06', 'description': 'Adobe CC', 'amount': 687.09, 'classification': 'business', 'confidence': 0.95, 'category': 'software_subscription'}, {'id': 'e11aa311-4745-4839-b391-87d92e5c3d50', 'date': '2025-06-06', 'description': 'Zoom Subscription', 'amount': 1380.44, 'classification': 'business', 'confidence': 0.95, 'category': 'software_subscription'}, {'id': 'dfc4938b-968a-4a58-807e-e616dc7169b0', 'date': '2025-06-07', 'description': 'Adobe CC', 'amount': -214.51, 'classification': 'business', 'confidence': 0.95, 'category': 'software_subscription'}, {'id': '4b72501f-e81f-4870-92ec-a34fc115186d', 'date': '2025-06-07', 'description': 'Client Refund', 'amount': 1003.31, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '3f1647fe-4d8c-40a2-88e1-71db73c47204', 'date': '2025-06-07', 'description': 'Costa Coffee', 'amount': 1156.58, 'classification': 'personal', 'confidence': 0.8, 'category': 'food_dining'}, {'id': 'dbf6c1be-c817-4d02-992d-5cb87b0109f2', 'date': '2025-06-07', 'description': 'TFL Travel', 'amount': 1470.87, 'classification': 'business', 'confidence': 0.8, 'category': 'transportation'}], 'errors': [], 'processing_time': 63.211111}
2025-08-15 18:20:00,242 - app.api.transactions - INFO - [upload_20250815_181856_7538310d] File processing completed successfully - Processing time: 63.21s, Transactions processed: 10
2025-08-15 18:20:00,256 - app.api.transactions - INFO - Processing cancellation requested for user 7538310d-4272-47bb-9f43-37c43168ffbf
2025-08-15 18:20:12,491 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:20:12,503 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:22:12,825 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:22:12,837 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:22:32,123 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 18:22:33,017 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 18:22:33,035 - app.main - INFO - Database tables created/verified
2025-08-15 18:22:33,036 - app.main - INFO - CORS middleware configured
2025-08-15 18:22:33,039 - app.main - INFO - API routers included
2025-08-15 18:22:33,040 - app.main - INFO - 🚀 Application starting up...
2025-08-15 18:22:33,040 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 18:22:33,041 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 18:22:33,041 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 18:22:33,041 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 18:22:33,041 - app.main - INFO - ✅ Application startup complete
2025-08-15 18:22:40,132 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 18:22:40,743 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 18:22:40,751 - app.main - INFO - Database tables created/verified
2025-08-15 18:22:40,752 - app.main - INFO - CORS middleware configured
2025-08-15 18:22:40,755 - app.main - INFO - API routers included
2025-08-15 18:22:40,756 - app.main - INFO - 🚀 Application starting up...
2025-08-15 18:22:40,756 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 18:22:40,756 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 18:22:40,756 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 18:22:40,756 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 18:22:40,756 - app.main - INFO - ✅ Application startup complete
2025-08-15 18:22:50,591 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:22:50,655 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:22:56,678 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:22:56,680 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:34:25,383 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 18:34:26,295 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 18:34:26,306 - app.main - INFO - Database tables created/verified
2025-08-15 18:34:26,307 - app.main - INFO - CORS middleware configured
2025-08-15 18:34:26,310 - app.main - INFO - API routers included
2025-08-15 18:34:26,311 - app.main - INFO - 🚀 Application starting up...
2025-08-15 18:34:26,311 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 18:34:26,311 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 18:34:26,311 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 18:34:26,311 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 18:34:26,311 - app.main - INFO - ✅ Application startup complete
2025-08-15 18:35:16,939 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:35:16,999 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:35:32,270 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:35:32,299 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:35:33,643 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:35:33,647 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:35:57,489 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:35:57,497 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:35:59,194 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:35:59,198 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:36:07,549 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:36:07,554 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:39:00,254 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:39:00,268 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:39:25,555 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:39:25,584 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:39:27,397 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:39:27,399 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:39:30,671 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:39:30,672 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:42:01,688 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:42:01,703 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:45:16,156 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:45:16,185 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:45:34,956 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:45:35,001 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:45:54,529 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:45:54,543 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:48:16,974 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:48:16,983 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:48:45,025 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:48:45,045 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:49:03,495 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:49:03,506 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:51:25,960 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:51:25,975 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:53:58,801 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:53:58,809 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:54:01,302 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:54:01,304 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:54:17,205 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:54:17,213 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:54:25,759 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:54:25,761 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:54:26,755 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:54:26,761 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:56:32,704 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:56:32,721 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:56:35,044 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:56:35,046 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:56:36,711 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:56:36,716 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:56:44,301 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:56:44,310 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:58:39,666 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:58:39,682 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:58:44,236 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:58:44,240 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 18:58:49,025 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 18:58:49,039 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 19:09:44,734 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 19:09:44,742 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 19:09:52,824 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 19:09:52,827 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 19:11:16,859 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 19:11:16,881 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 19:12:28,740 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 19:12:28,749 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 19:46:32,358 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 19:46:32,370 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 20:08:20,493 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 20:08:20,512 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
