2025-08-13 16:31:20,829 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 16:31:20,842 - app.main - INFO - Database tables created/verified
2025-08-13 16:31:20,842 - app.main - INFO - CORS middleware configured
2025-08-13 16:31:20,846 - app.main - INFO - API routers included
2025-08-13 16:31:20,846 - app.main - INFO - 🚀 Application starting up...
2025-08-13 16:31:20,847 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 16:31:20,847 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 16:31:20,847 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 16:31:20,847 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 16:31:20,847 - app.main - INFO - ✅ Application startup complete
2025-08-13 16:31:31,712 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 16:31:32,368 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 16:31:32,378 - app.main - INFO - Database tables created/verified
2025-08-13 16:31:32,378 - app.main - INFO - CORS middleware configured
2025-08-13 16:31:32,382 - app.main - INFO - API routers included
2025-08-13 16:31:32,383 - app.main - INFO - 🚀 Application starting up...
2025-08-13 16:31:32,383 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 16:31:32,383 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 16:31:32,383 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 16:31:32,383 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 16:31:32,383 - app.main - INFO - ✅ Application startup complete
2025-08-13 16:44:18,136 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 16:44:19,048 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 16:44:19,059 - app.main - INFO - Database tables created/verified
2025-08-13 16:44:19,059 - app.main - INFO - CORS middleware configured
2025-08-13 16:44:19,063 - app.main - INFO - API routers included
2025-08-13 16:44:19,064 - app.main - INFO - 🚀 Application starting up...
2025-08-13 16:44:19,064 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 16:44:19,064 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 16:44:19,065 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 16:44:19,065 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 16:44:19,066 - app.main - INFO - ✅ Application startup complete
2025-08-13 16:44:22,868 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 16:44:23,514 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 16:44:23,524 - app.main - INFO - Database tables created/verified
2025-08-13 16:44:23,524 - app.main - INFO - CORS middleware configured
2025-08-13 16:44:23,528 - app.main - INFO - API routers included
2025-08-13 16:44:23,529 - app.main - INFO - 🚀 Application starting up...
2025-08-13 16:44:23,529 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 16:44:23,529 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 16:44:23,530 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 16:44:23,530 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 16:44:23,530 - app.main - INFO - ✅ Application startup complete
2025-08-13 16:44:33,250 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 16:44:33,916 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 16:44:33,927 - app.main - INFO - Database tables created/verified
2025-08-13 16:44:33,927 - app.main - INFO - CORS middleware configured
2025-08-13 16:44:33,930 - app.main - INFO - API routers included
2025-08-13 16:44:33,931 - app.main - INFO - 🚀 Application starting up...
2025-08-13 16:44:33,931 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 16:44:33,932 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 16:44:33,932 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 16:44:33,932 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 16:44:33,932 - app.main - INFO - ✅ Application startup complete
2025-08-13 16:44:43,252 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 16:44:43,906 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 16:44:43,914 - app.main - INFO - Database tables created/verified
2025-08-13 16:44:43,914 - app.main - INFO - CORS middleware configured
2025-08-13 16:44:43,918 - app.main - INFO - API routers included
2025-08-13 16:44:43,919 - app.main - INFO - 🚀 Application starting up...
2025-08-13 16:44:43,919 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 16:44:43,919 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 16:44:43,919 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 16:44:43,919 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 16:44:43,920 - app.main - INFO - ✅ Application startup complete
2025-08-13 16:45:23,270 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-13 16:45:23,471 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-13 16:45:34,205 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] Starting file upload - User: 0fa11732-3f80-4bd2-9bcf-522de389a41d, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-13 16:45:34,206 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-13 16:45:34,206 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] File type validation passed
2025-08-13 16:45:34,206 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] Reading file content for size validation
2025-08-13 16:45:34,206 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] File content read - Size: 4422 bytes
2025-08-13 16:45:34,207 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] File size validation passed
2025-08-13 16:45:34,207 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] Initializing services
2025-08-13 16:45:34,207 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-13 16:45:34,219 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-13 16:45:34,219 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] Services initialized successfully
2025-08-13 16:45:34,219 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] Processing file with extension: pdf
2025-08-13 16:45:34,220 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] Processing PDF file
2025-08-13 16:45:34,220 - app.services.transaction_service - INFO - Starting PDF processing for user 0fa11732-3f80-4bd2-9bcf-522de389a41d
2025-08-13 16:45:34,220 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-13 16:45:34,220 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-13 16:45:34,222 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-13 16:45:34,228 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-13 16:45:34,228 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-13 16:45:34,228 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-13 16:45:34,229 - app.services.bedrock_service - INFO - [extract_164534228] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-13 16:45:51,337 - app.services.bedrock_service - INFO - [extract_164534228] PDF extraction completed successfully - Transactions found: 0, Time: 17.108s
2025-08-13 16:45:51,339 - app.services.transaction_service - INFO - Transactions extracted from PDF: 0 found
2025-08-13 16:45:51,339 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-13 16:45:51,351 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 0, Errors: 0, Time: 17.13s
2025-08-13 16:45:51,351 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] PDF processing completed - Result: {'processed_count': 0, 'transactions': [], 'errors': [], 'processing_time': 17.130671}
2025-08-13 16:45:51,351 - app.api.transactions - INFO - [upload_20250813_164534_0fa11732] File processing completed successfully - Processing time: 17.13s, Transactions processed: 0
2025-08-13 16:47:28,353 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 16:47:29,264 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 16:47:29,280 - app.main - INFO - Database tables created/verified
2025-08-13 16:47:29,281 - app.main - INFO - CORS middleware configured
2025-08-13 16:47:29,285 - app.main - INFO - API routers included
2025-08-13 16:47:29,286 - app.main - INFO - 🚀 Application starting up...
2025-08-13 16:47:29,286 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 16:47:29,286 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 16:47:29,286 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 16:47:29,287 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 16:47:29,287 - app.main - INFO - ✅ Application startup complete
2025-08-13 16:47:46,189 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 16:47:46,944 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 16:47:46,953 - app.main - INFO - Database tables created/verified
2025-08-13 16:47:46,954 - app.main - INFO - CORS middleware configured
2025-08-13 16:47:46,958 - app.main - INFO - API routers included
2025-08-13 16:47:46,959 - app.main - INFO - 🚀 Application starting up...
2025-08-13 16:47:46,959 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 16:47:46,959 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 16:47:46,959 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 16:47:46,959 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 16:47:46,959 - app.main - INFO - ✅ Application startup complete
2025-08-13 16:47:59,047 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 16:47:59,828 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 16:47:59,841 - app.main - INFO - Database tables created/verified
2025-08-13 16:47:59,841 - app.main - INFO - CORS middleware configured
2025-08-13 16:47:59,845 - app.main - INFO - API routers included
2025-08-13 16:47:59,846 - app.main - INFO - 🚀 Application starting up...
2025-08-13 16:47:59,846 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 16:47:59,847 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 16:47:59,847 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 16:47:59,847 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 16:47:59,847 - app.main - INFO - ✅ Application startup complete
2025-08-13 16:48:20,342 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 16:48:21,038 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 16:48:21,047 - app.main - INFO - Database tables created/verified
2025-08-13 16:48:21,047 - app.main - INFO - CORS middleware configured
2025-08-13 16:48:21,051 - app.main - INFO - API routers included
2025-08-13 16:48:21,052 - app.main - INFO - 🚀 Application starting up...
2025-08-13 16:48:21,052 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 16:48:21,053 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 16:48:21,053 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 16:48:21,053 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 16:48:21,054 - app.main - INFO - ✅ Application startup complete
2025-08-13 16:49:58,155 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] Starting file upload - User: 0fa11732-3f80-4bd2-9bcf-522de389a41d, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-13 16:49:58,156 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-13 16:49:58,156 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] File type validation passed
2025-08-13 16:49:58,156 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] Reading file content for size validation
2025-08-13 16:49:58,156 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] File content read - Size: 4422 bytes
2025-08-13 16:49:58,157 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] File size validation passed
2025-08-13 16:49:58,157 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] Initializing services
2025-08-13 16:49:58,157 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-13 16:49:58,218 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-13 16:49:58,218 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] Services initialized successfully
2025-08-13 16:49:58,219 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] Processing file with extension: pdf
2025-08-13 16:49:58,219 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] Processing PDF file
2025-08-13 16:49:58,219 - app.services.transaction_service - INFO - Starting PDF processing for user 0fa11732-3f80-4bd2-9bcf-522de389a41d
2025-08-13 16:49:58,219 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-13 16:49:58,220 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-13 16:49:58,222 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-13 16:49:58,331 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-13 16:49:58,331 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-13 16:49:58,331 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-13 16:49:58,331 - app.services.bedrock_service - INFO - [extract_164958331] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-13 16:50:16,274 - app.services.bedrock_service - INFO - [extract_164958331] Raw Bedrock text response:
```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 16:50:16,275 - app.services.bedrock_service - WARNING - No JSON array found in response
2025-08-13 16:50:16,276 - app.services.bedrock_service - ERROR - Error parsing transaction extraction response: No JSON array found in response
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 253, in _parse_transaction_extraction_response
    raise ValueError("No JSON array found in response")
ValueError: No JSON array found in response
2025-08-13 16:50:16,279 - app.services.bedrock_service - ERROR - Raw response that failed to parse: ```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 16:50:16,279 - app.services.bedrock_service - INFO - [extract_164958331] PDF extraction completed successfully - Transactions found: 0, Time: 17.948s
2025-08-13 16:50:16,280 - app.services.bedrock_service - INFO - [extract_164958331] Parsed transactions: []
2025-08-13 16:50:16,281 - app.services.transaction_service - INFO - Transactions extracted from PDF: 0 found
2025-08-13 16:50:16,282 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-13 16:50:16,284 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 0, Errors: 0, Time: 18.06s
2025-08-13 16:50:16,285 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] PDF processing completed - Result: {'processed_count': 0, 'transactions': [], 'errors': [], 'processing_time': 18.064953}
2025-08-13 16:50:16,285 - app.api.transactions - INFO - [upload_20250813_164958_0fa11732] File processing completed successfully - Processing time: 18.07s, Transactions processed: 0
2025-08-13 16:50:56,688 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 16:50:57,558 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 16:50:57,567 - app.main - INFO - Database tables created/verified
2025-08-13 16:50:57,568 - app.main - INFO - CORS middleware configured
2025-08-13 16:50:57,571 - app.main - INFO - API routers included
2025-08-13 16:50:57,572 - app.main - INFO - 🚀 Application starting up...
2025-08-13 16:50:57,572 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 16:50:57,572 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 16:50:57,572 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 16:50:57,572 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 16:50:57,573 - app.main - INFO - ✅ Application startup complete
2025-08-13 16:51:07,338 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] Starting file upload - User: 0fa11732-3f80-4bd2-9bcf-522de389a41d, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-13 16:51:07,338 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-13 16:51:07,339 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] File type validation passed
2025-08-13 16:51:07,339 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] Reading file content for size validation
2025-08-13 16:51:07,339 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] File content read - Size: 4422 bytes
2025-08-13 16:51:07,339 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] File size validation passed
2025-08-13 16:51:07,339 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] Initializing services
2025-08-13 16:51:07,340 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-13 16:51:07,377 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-13 16:51:07,377 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] Services initialized successfully
2025-08-13 16:51:07,378 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] Processing file with extension: pdf
2025-08-13 16:51:07,378 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] Processing PDF file
2025-08-13 16:51:07,378 - app.services.transaction_service - INFO - Starting PDF processing for user 0fa11732-3f80-4bd2-9bcf-522de389a41d
2025-08-13 16:51:07,378 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-13 16:51:07,378 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-13 16:51:07,380 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-13 16:51:07,416 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-13 16:51:07,416 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-13 16:51:07,416 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-13 16:51:07,416 - app.services.bedrock_service - INFO - [extract_165107416] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-13 16:51:31,162 - app.services.bedrock_service - INFO - [extract_165107416] Raw Bedrock text response:
```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 16:51:31,164 - app.services.bedrock_service - WARNING - No JSON array found in response
2025-08-13 16:51:31,166 - app.services.bedrock_service - ERROR - Error parsing transaction extraction response: No JSON array found in response
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 253, in _parse_transaction_extraction_response
    raise ValueError("No JSON array found in response")
ValueError: No JSON array found in response
2025-08-13 16:51:31,169 - app.services.bedrock_service - ERROR - Raw response that failed to parse: ```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 16:51:31,170 - app.services.bedrock_service - INFO - [extract_165107416] PDF extraction completed successfully - Transactions found: 0, Time: 23.753s
2025-08-13 16:51:31,172 - app.services.bedrock_service - INFO - [extract_165107416] Parsed transactions: []
2025-08-13 16:51:31,174 - app.services.transaction_service - INFO - Transactions extracted from PDF: 0 found
2025-08-13 16:51:31,174 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-13 16:51:31,176 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 0, Errors: 0, Time: 23.80s
2025-08-13 16:51:31,176 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] PDF processing completed - Result: {'processed_count': 0, 'transactions': [], 'errors': [], 'processing_time': 23.797432}
2025-08-13 16:51:31,176 - app.api.transactions - INFO - [upload_20250813_165107_0fa11732] File processing completed successfully - Processing time: 23.80s, Transactions processed: 0
2025-08-13 17:06:33,878 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 17:06:34,830 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 17:06:34,839 - app.main - INFO - Database tables created/verified
2025-08-13 17:06:34,840 - app.main - INFO - CORS middleware configured
2025-08-13 17:06:34,843 - app.main - INFO - API routers included
2025-08-13 17:06:34,844 - app.main - INFO - 🚀 Application starting up...
2025-08-13 17:06:34,844 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 17:06:34,844 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 17:06:34,844 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 17:06:34,845 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 17:06:34,845 - app.main - INFO - ✅ Application startup complete
2025-08-13 17:06:39,979 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] Starting file upload - User: 0fa11732-3f80-4bd2-9bcf-522de389a41d, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-13 17:06:39,979 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-13 17:06:39,980 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] File type validation passed
2025-08-13 17:06:39,980 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] Reading file content for size validation
2025-08-13 17:06:39,981 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] File content read - Size: 4422 bytes
2025-08-13 17:06:39,981 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] File size validation passed
2025-08-13 17:06:39,981 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] Initializing services
2025-08-13 17:06:39,981 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-13 17:06:40,048 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-13 17:06:40,048 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] Services initialized successfully
2025-08-13 17:06:40,048 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] Processing file with extension: pdf
2025-08-13 17:06:40,048 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] Processing PDF file
2025-08-13 17:06:40,048 - app.services.transaction_service - INFO - Starting PDF processing for user 0fa11732-3f80-4bd2-9bcf-522de389a41d
2025-08-13 17:06:40,049 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-13 17:06:40,049 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-13 17:06:40,050 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-13 17:06:40,086 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-13 17:06:40,086 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-13 17:06:40,086 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-13 17:06:40,086 - app.services.bedrock_service - INFO - [extract_170640086] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-13 17:06:58,907 - app.services.bedrock_service - INFO - [extract_170640086] Raw Bedrock text response:
```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 17:06:58,908 - app.services.bedrock_service - INFO - JSON array extraction - Start: 8, End: 0
2025-08-13 17:06:58,909 - app.services.bedrock_service - WARNING - No JSON array found in response
2025-08-13 17:06:58,910 - app.services.bedrock_service - ERROR - Error parsing transaction extraction response: No JSON array found in response
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 253, in _parse_transaction_extraction_response
    raise ValueError("No JSON array found in response")
ValueError: No JSON array found in response
2025-08-13 17:06:58,913 - app.services.bedrock_service - ERROR - Raw response that failed to parse: ```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 17:06:58,913 - app.services.bedrock_service - INFO - [extract_170640086] PDF extraction completed successfully - Transactions found: 0, Time: 18.826s
2025-08-13 17:06:58,914 - app.services.bedrock_service - INFO - [extract_170640086] Parsed transactions: []
2025-08-13 17:06:58,915 - app.services.transaction_service - INFO - Transactions extracted from PDF: 0 found
2025-08-13 17:06:58,916 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-13 17:06:58,918 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 0, Errors: 0, Time: 18.87s
2025-08-13 17:06:58,918 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] PDF processing completed - Result: {'processed_count': 0, 'transactions': [], 'errors': [], 'processing_time': 18.869353}
2025-08-13 17:06:58,919 - app.api.transactions - INFO - [upload_20250813_170639_0fa11732] File processing completed successfully - Processing time: 18.87s, Transactions processed: 0
2025-08-13 17:07:41,021 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 17:07:41,992 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 17:07:42,003 - app.main - INFO - Database tables created/verified
2025-08-13 17:07:42,003 - app.main - INFO - CORS middleware configured
2025-08-13 17:07:42,006 - app.main - INFO - API routers included
2025-08-13 17:07:42,007 - app.main - INFO - 🚀 Application starting up...
2025-08-13 17:07:42,008 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 17:07:42,008 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 17:07:42,008 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 17:07:42,008 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 17:07:42,009 - app.main - INFO - ✅ Application startup complete
2025-08-13 17:07:44,575 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] Starting file upload - User: 0fa11732-3f80-4bd2-9bcf-522de389a41d, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-13 17:07:44,576 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-13 17:07:44,576 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] File type validation passed
2025-08-13 17:07:44,577 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] Reading file content for size validation
2025-08-13 17:07:44,577 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] File content read - Size: 4422 bytes
2025-08-13 17:07:44,577 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] File size validation passed
2025-08-13 17:07:44,578 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] Initializing services
2025-08-13 17:07:44,578 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-13 17:07:44,629 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-13 17:07:44,630 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] Services initialized successfully
2025-08-13 17:07:44,630 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] Processing file with extension: pdf
2025-08-13 17:07:44,630 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] Processing PDF file
2025-08-13 17:07:44,631 - app.services.transaction_service - INFO - Starting PDF processing for user 0fa11732-3f80-4bd2-9bcf-522de389a41d
2025-08-13 17:07:44,631 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-13 17:07:44,631 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-13 17:07:44,633 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-13 17:07:44,672 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-13 17:07:44,672 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-13 17:07:44,672 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-13 17:07:44,673 - app.services.bedrock_service - INFO - [extract_170744673] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-13 17:08:08,229 - app.services.bedrock_service - INFO - [extract_170744673] Raw Bedrock text response:
```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 17:08:08,230 - app.services.bedrock_service - INFO - Parsing transaction extraction response: ```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 17:08:08,231 - app.services.bedrock_service - INFO - JSON array extraction - Start: 8, End: 0
2025-08-13 17:08:08,231 - app.services.bedrock_service - WARNING - No JSON array found in response
2025-08-13 17:08:08,232 - app.services.bedrock_service - ERROR - Error parsing transaction extraction response: No JSON array found in response
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 253, in _parse_transaction_extraction_response
    raise ValueError("No JSON array found in response")
ValueError: No JSON array found in response
2025-08-13 17:08:08,237 - app.services.bedrock_service - ERROR - Raw response that failed to parse: ```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 17:08:08,238 - app.services.bedrock_service - INFO - [extract_170744673] PDF extraction completed successfully - Transactions found: 0, Time: 23.565s
2025-08-13 17:08:08,239 - app.services.bedrock_service - INFO - [extract_170744673] Parsed transactions: []
2025-08-13 17:08:08,242 - app.services.transaction_service - INFO - Transactions extracted from PDF: 0 found
2025-08-13 17:08:08,243 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-13 17:08:08,244 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 0, Errors: 0, Time: 23.61s
2025-08-13 17:08:08,245 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] PDF processing completed - Result: {'processed_count': 0, 'transactions': [], 'errors': [], 'processing_time': 23.613362}
2025-08-13 17:08:08,245 - app.api.transactions - INFO - [upload_20250813_170744_0fa11732] File processing completed successfully - Processing time: 23.61s, Transactions processed: 0
2025-08-13 17:14:19,315 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 17:14:20,450 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 17:14:20,468 - app.main - INFO - Database tables created/verified
2025-08-13 17:14:20,468 - app.main - INFO - CORS middleware configured
2025-08-13 17:14:20,472 - app.main - INFO - API routers included
2025-08-13 17:14:20,473 - app.main - INFO - 🚀 Application starting up...
2025-08-13 17:14:20,473 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 17:14:20,474 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 17:14:20,474 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 17:14:20,474 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 17:14:20,475 - app.main - INFO - ✅ Application startup complete
2025-08-13 17:14:24,486 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] Starting file upload - User: 0fa11732-3f80-4bd2-9bcf-522de389a41d, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-13 17:14:24,486 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-13 17:14:24,486 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] File type validation passed
2025-08-13 17:14:24,486 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] Reading file content for size validation
2025-08-13 17:14:24,487 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] File content read - Size: 4422 bytes
2025-08-13 17:14:24,487 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] File size validation passed
2025-08-13 17:14:24,487 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] Initializing services
2025-08-13 17:14:24,487 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-13 17:14:24,546 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-13 17:14:24,547 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] Services initialized successfully
2025-08-13 17:14:24,547 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] Processing file with extension: pdf
2025-08-13 17:14:24,547 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] Processing PDF file
2025-08-13 17:14:24,547 - app.services.transaction_service - INFO - Starting PDF processing for user 0fa11732-3f80-4bd2-9bcf-522de389a41d
2025-08-13 17:14:24,547 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-13 17:14:24,547 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-13 17:14:24,550 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-13 17:14:24,663 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-13 17:14:24,663 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-13 17:14:24,663 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-13 17:14:24,664 - app.services.bedrock_service - INFO - [extract_171424664] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-13 17:14:52,112 - app.services.bedrock_service - INFO - [extract_171424664] Raw Bedrock text response:
```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 17:14:52,113 - app.services.bedrock_service - INFO - Parsing transaction extraction response: ```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 17:14:52,113 - app.services.bedrock_service - INFO - JSON array extraction - Start: 8, End: 0
2025-08-13 17:14:52,113 - app.services.bedrock_service - WARNING - No JSON array found in response
2025-08-13 17:14:52,113 - app.services.bedrock_service - ERROR - Error parsing transaction extraction response: No JSON array found in response
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 253, in _parse_transaction_extraction_response
    raise ValueError("No JSON array found in response")
ValueError: No JSON array found in response
2025-08-13 17:14:52,115 - app.services.bedrock_service - ERROR - Raw response that failed to parse: ```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 17:14:52,116 - app.services.bedrock_service - INFO - [extract_171424664] PDF extraction completed successfully - Transactions found: 0, Time: 27.452s
2025-08-13 17:14:52,116 - app.services.bedrock_service - INFO - [extract_171424664] Parsed transactions: []
2025-08-13 17:14:52,116 - app.services.transaction_service - INFO - Transactions extracted from PDF: 0 found
2025-08-13 17:14:52,116 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-13 17:14:52,118 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 0, Errors: 0, Time: 27.57s
2025-08-13 17:14:52,118 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] PDF processing completed - Result: {'processed_count': 0, 'transactions': [], 'errors': [], 'processing_time': 27.570507}
2025-08-13 17:14:52,118 - app.api.transactions - INFO - [upload_20250813_171424_0fa11732] File processing completed successfully - Processing time: 27.57s, Transactions processed: 0
2025-08-13 17:15:13,268 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 17:15:14,154 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 17:15:14,165 - app.main - INFO - Database tables created/verified
2025-08-13 17:15:14,166 - app.main - INFO - CORS middleware configured
2025-08-13 17:15:14,169 - app.main - INFO - API routers included
2025-08-13 17:15:14,170 - app.main - INFO - 🚀 Application starting up...
2025-08-13 17:15:14,170 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 17:15:14,170 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 17:15:14,171 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 17:15:14,171 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 17:15:14,171 - app.main - INFO - ✅ Application startup complete
2025-08-13 17:15:16,146 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 17:15:16,816 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 17:15:16,824 - app.main - INFO - Database tables created/verified
2025-08-13 17:15:16,824 - app.main - INFO - CORS middleware configured
2025-08-13 17:15:16,827 - app.main - INFO - API routers included
2025-08-13 17:15:16,828 - app.main - INFO - 🚀 Application starting up...
2025-08-13 17:15:16,828 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 17:15:16,828 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 17:15:16,828 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 17:15:16,829 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 17:15:16,829 - app.main - INFO - ✅ Application startup complete
2025-08-13 17:15:20,574 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] Starting file upload - User: 0fa11732-3f80-4bd2-9bcf-522de389a41d, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-13 17:15:20,574 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-13 17:15:20,574 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] File type validation passed
2025-08-13 17:15:20,574 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] Reading file content for size validation
2025-08-13 17:15:20,575 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] File content read - Size: 4422 bytes
2025-08-13 17:15:20,575 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] File size validation passed
2025-08-13 17:15:20,575 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] Initializing services
2025-08-13 17:15:20,576 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-13 17:15:20,632 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-13 17:15:20,632 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] Services initialized successfully
2025-08-13 17:15:20,633 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] Processing file with extension: pdf
2025-08-13 17:15:20,633 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] Processing PDF file
2025-08-13 17:15:20,633 - app.services.transaction_service - INFO - Starting PDF processing for user 0fa11732-3f80-4bd2-9bcf-522de389a41d
2025-08-13 17:15:20,633 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-13 17:15:20,633 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-13 17:15:20,635 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-13 17:15:20,672 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-13 17:15:20,672 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-13 17:15:20,672 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-13 17:15:20,672 - app.services.bedrock_service - INFO - [extract_171520672] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-13 17:15:39,644 - app.services.bedrock_service - INFO - [extract_171520672] Raw Bedrock text response:
```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 17:15:39,648 - app.services.bedrock_service - INFO - Parsing transaction extraction response: ```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 17:15:39,649 - app.services.bedrock_service - INFO - JSON array extraction - Start: 8, End: 0
2025-08-13 17:15:39,650 - app.services.bedrock_service - WARNING - No JSON array found in response
2025-08-13 17:15:39,652 - app.services.bedrock_service - ERROR - Error parsing transaction extraction response: No JSON array found in response
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 253, in _parse_transaction_extraction_response
    raise ValueError("No JSON array found in response")
ValueError: No JSON array found in response
2025-08-13 17:15:39,655 - app.services.bedrock_service - ERROR - Raw response that failed to parse: ```json
[
  {
    "date": "2025-06-01",
    "description": "Adobe CC",
    "amount": -1253.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-01",
    "description": "Amazon Web Services",
    "amount": -494.93,
    "currency": "GBP",
    "merchant": "Amazon Web Services"
  },
  {
    "date": "2025-06-02",
    "description": "PayPal Fee",
    "amount": -146.2,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-02",
    "description": "Stripe Payout",
    "amount": 281.48,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06-06",
    "description": "Adobe CC",
    "amount": -687.09,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-06",
    "description": "Zoom Subscription",
    "amount": -1380.44,
    "currency": "GBP",
    "merchant": "Zoom"
  },
  {
    "date": "2025-06-07",
    "description": "Adobe CC",
    "amount": 214.51,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-07",
    "description": "Client Refund",
    "amount": 1003.31,
    "currency": "GBP"
  },
  {
    "date": "2025-06-07",
    "description": "Costa Coffee",
    "amount": -1156.58,
    "currency": "GBP",
    "merchant": "Costa Coffee"
  },
  {
    "date": "2025-06-07",
    "description": "TFL Travel",
    "amount": -1470.87,
    "currency": "GBP",
    "merchant": "TFL"
  },
  {
    "date": "2025-06-08",
    "description": "HMRC Payment",
    "amount": -386.26,
    "currency": "GBP",
    "merchant": "HMRC"
  },
  {
    "date": "2025-06-09",
    "description": "Adobe CC",
    "amount": -123.63,
    "currency": "GBP",
    "merchant": "Adobe"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -888.7,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "Github",
    "amount": -1099.51,
    "currency": "GBP",
    "merchant": "Github"
  },
  {
    "date": "2025-06-09",
    "description": "PayPal Fee",
    "amount": 140.94,
    "currency": "GBP",
    "merchant": "PayPal"
  },
  {
    "date": "2025-06-10",
    "description": "Google Ads",
    "amount": -919.83,
    "currency": "GBP",
    "merchant": "Google Ads"
  },
  {
    "date": "2025-06-10",
    "description": "Stripe Payout",
    "amount": 1377.52,
    "currency": "GBP",
    "merchant": "Stripe"
  },
  {
    "date": "2025-06
2025-08-13 17:15:39,656 - app.services.bedrock_service - INFO - [extract_171520672] PDF extraction completed successfully - Transactions found: 0, Time: 18.984s
2025-08-13 17:15:39,656 - app.services.bedrock_service - INFO - [extract_171520672] Parsed transactions: []
2025-08-13 17:15:39,657 - app.services.transaction_service - INFO - Transactions extracted from PDF: 0 found
2025-08-13 17:15:39,657 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-13 17:15:39,658 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 0, Errors: 0, Time: 19.03s
2025-08-13 17:15:39,659 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] PDF processing completed - Result: {'processed_count': 0, 'transactions': [], 'errors': [], 'processing_time': 19.025243}
2025-08-13 17:15:39,659 - app.api.transactions - INFO - [upload_20250813_171520_0fa11732] File processing completed successfully - Processing time: 19.03s, Transactions processed: 0
2025-08-13 17:17:23,290 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 17:17:24,181 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 17:17:24,194 - app.main - INFO - Database tables created/verified
2025-08-13 17:17:24,194 - app.main - INFO - CORS middleware configured
2025-08-13 17:17:24,197 - app.main - INFO - API routers included
2025-08-13 17:17:24,198 - app.main - INFO - 🚀 Application starting up...
2025-08-13 17:17:24,199 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 17:17:24,199 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 17:17:24,199 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 17:17:24,199 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 17:17:24,200 - app.main - INFO - ✅ Application startup complete
2025-08-13 17:17:58,312 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 17:17:59,238 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 17:17:59,251 - app.main - INFO - Database tables created/verified
2025-08-13 17:17:59,252 - app.main - INFO - CORS middleware configured
2025-08-13 17:17:59,256 - app.main - INFO - API routers included
2025-08-13 17:17:59,257 - app.main - INFO - 🚀 Application starting up...
2025-08-13 17:17:59,257 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 17:17:59,257 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 17:17:59,258 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 17:17:59,258 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 17:17:59,258 - app.main - INFO - ✅ Application startup complete
2025-08-13 17:18:16,334 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 17:18:17,028 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 17:18:17,036 - app.main - INFO - Database tables created/verified
2025-08-13 17:18:17,037 - app.main - INFO - CORS middleware configured
2025-08-13 17:18:17,040 - app.main - INFO - API routers included
2025-08-13 17:18:17,041 - app.main - INFO - 🚀 Application starting up...
2025-08-13 17:18:17,041 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 17:18:17,041 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 17:18:17,041 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 17:18:17,041 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 17:18:17,041 - app.main - INFO - ✅ Application startup complete
2025-08-13 17:31:12,333 - app.main - INFO - 🛑 Application shutting down...
2025-08-13 17:31:13,325 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-13 17:31:13,337 - app.main - INFO - Database tables created/verified
2025-08-13 17:31:13,338 - app.main - INFO - CORS middleware configured
2025-08-13 17:31:13,341 - app.main - INFO - API routers included
2025-08-13 17:31:13,342 - app.main - INFO - 🚀 Application starting up...
2025-08-13 17:31:13,342 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-13 17:31:13,343 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-13 17:31:13,343 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-13 17:31:13,343 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-13 17:31:13,343 - app.main - INFO - ✅ Application startup complete
2025-08-13 17:31:43,082 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-13 17:31:43,307 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-13 17:31:50,304 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] Starting file upload - User: 0fa11732-3f80-4bd2-9bcf-522de389a41d, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-13 17:31:50,305 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-13 17:31:50,305 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] File type validation passed
2025-08-13 17:31:50,306 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] Reading file content for size validation
2025-08-13 17:31:50,306 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] File content read - Size: 4422 bytes
2025-08-13 17:31:50,306 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] File size validation passed
2025-08-13 17:31:50,306 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] Initializing services
2025-08-13 17:31:50,306 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-13 17:31:50,315 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-13 17:31:50,315 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] Services initialized successfully
2025-08-13 17:31:50,316 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] Processing file with extension: pdf
2025-08-13 17:31:50,317 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] Processing PDF file
2025-08-13 17:31:50,318 - app.services.transaction_service - INFO - Starting PDF processing for user 0fa11732-3f80-4bd2-9bcf-522de389a41d
2025-08-13 17:31:50,319 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-13 17:31:50,320 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-13 17:31:50,322 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-13 17:31:50,333 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-13 17:31:50,333 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-13 17:31:50,333 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-13 17:31:50,334 - app.services.bedrock_service - INFO - [extract_173150334] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-13 17:32:28,017 - app.services.bedrock_service - INFO - [extract_173150334] Raw Bedrock text response:
[
  {"date": "2025-06-01", "description": "Adobe CC", "amount": -1253.63, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-01", "description": "Amazon Web Services", "amount": -494.93, "currency": "GBP", "merchant": "Amazon Web Services"},
  {"date": "2025-06-02", "description": "PayPal Fee", "amount": -146.20, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-06", "description": "Adobe CC", "amount": -687.09, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-06", "description": "Zoom Subscription", "amount": -1380.44, "currency": "GBP", "merchant": "Zoom"},
  {"date": "2025-06-07", "description": "Adobe CC", "amount": 214.51, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP"},
  {"date": "2025-06-07", "description": "Costa Coffee", "amount": -1156.58, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-07", "description": "TFL Travel", "amount": -1470.87, "currency": "GBP", "merchant": "TFL"},
  {"date": "2025-06-08", "description": "HMRC Payment", "amount": -386.26, "currency": "GBP", "merchant": "HMRC"},
  {"date": "2025-06-09", "description": "Adobe CC", "amount": -123.63, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-09", "description": "Github", "amount": -888.70, "currency": "GBP", "merchant": "Github"},
  {"date": "2025-06-09", "description": "Github", "amount": -1099.51, "currency": "GBP", "merchant": "Github"},
  {"date": "2025-06-09", "description": "PayPal Fee", "amount": 140.94, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-10", "description": "Google Ads", "amount": -919.83, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP"},
  {"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": -598.34, "currency": "GBP"},
  {"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": -120.37, "currency": "GBP"},
  {"date": "2025-06-14", "description": "Costa Coffee", "amount": -957.21, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-14", "description": "Stripe Payout", "amount": 165.97, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-16", "description": "TransferWise", "amount": 160.48, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-18", "description": "Amazon Web Services", "amount": -1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},
  {"date": "2025-06-18", "description": "Late Fee", "amount": -1495.34, "currency": "GBP"},
  {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 122.51, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": -1013.75, "currency": "GBP"},
  {"date": "2025-06-19", "description": "TFL Travel", "amount": -663.95, "currency": "GBP", "merchant": "TFL"},
  {"date": "2025-06-20", "description": "Costa Coffee", "amount": -1089.18, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-22", "description": "Google Ads", "amount": -221.47, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-22", "description": "Google Ads", "amount": -392.83, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-23", "description": "PayPal Fee", "amount": -370.99, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-24", "description": "Google Ads", "amount": -652.07, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-25", "description": "Google Ads", "amount": -133.65, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-25", "description": "PayPal Fee", "amount": -42.00, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": -616.07, "currency": "GBP"},
  {"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "
2025-08-13 17:32:28,019 - app.services.bedrock_service - INFO - Parsing transaction extraction response: [
  {"date": "2025-06-01", "description": "Adobe CC", "amount": -1253.63, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-01", "description": "Amazon Web Services", "amount": -494.93, "currency": "GBP", "merchant": "Amazon Web Services"},
  {"date": "2025-06-02", "description": "PayPal Fee", "amount": -146.20, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-06", "description": "Adobe CC", "amount": -687.09, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-06", "description": "Zoom Subscription", "amount": -1380.44, "currency": "GBP", "merchant": "Zoom"},
  {"date": "2025-06-07", "description": "Adobe CC", "amount": 214.51, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP"},
  {"date": "2025-06-07", "description": "Costa Coffee", "amount": -1156.58, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-07", "description": "TFL Travel", "amount": -1470.87, "currency": "GBP", "merchant": "TFL"},
  {"date": "2025-06-08", "description": "HMRC Payment", "amount": -386.26, "currency": "GBP", "merchant": "HMRC"},
  {"date": "2025-06-09", "description": "Adobe CC", "amount": -123.63, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-09", "description": "Github", "amount": -888.70, "currency": "GBP", "merchant": "Github"},
  {"date": "2025-06-09", "description": "Github", "amount": -1099.51, "currency": "GBP", "merchant": "Github"},
  {"date": "2025-06-09", "description": "PayPal Fee", "amount": 140.94, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-10", "description": "Google Ads", "amount": -919.83, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP"},
  {"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": -598.34, "currency": "GBP"},
  {"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": -120.37, "currency": "GBP"},
  {"date": "2025-06-14", "description": "Costa Coffee", "amount": -957.21, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-14", "description": "Stripe Payout", "amount": 165.97, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-16", "description": "TransferWise", "amount": 160.48, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-18", "description": "Amazon Web Services", "amount": -1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},
  {"date": "2025-06-18", "description": "Late Fee", "amount": -1495.34, "currency": "GBP"},
  {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 122.51, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": -1013.75, "currency": "GBP"},
  {"date": "2025-06-19", "description": "TFL Travel", "amount": -663.95, "currency": "GBP", "merchant": "TFL"},
  {"date": "2025-06-20", "description": "Costa Coffee", "amount": -1089.18, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-22", "description": "Google Ads", "amount": -221.47, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-22", "description": "Google Ads", "amount": -392.83, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-23", "description": "PayPal Fee", "amount": -370.99, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-24", "description": "Google Ads", "amount": -652.07, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-25", "description": "Google Ads", "amount": -133.65, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-25", "description": "PayPal Fee", "amount": -42.00, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": -616.07, "currency": "GBP"},
  {"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "
2025-08-13 17:32:28,020 - app.services.bedrock_service - WARNING - Strategy 2 failed - JSON decode error: Extra data: line 1 column 113 (char 112)
2025-08-13 17:32:28,021 - app.services.bedrock_service - INFO - Strategy 3 successful - Manually extracted 45 transactions
2025-08-13 17:32:28,021 - app.services.bedrock_service - INFO - Final validated transactions: [
  {
    "date": "2025-06-01",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -1253.63, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-01",
    "description": "{\"date\": \"\", \"description\": \"Amazon Web Services\", \"amount\": -494.93, \"currency\": \"GBP\", \"merchant\": \"Amazon Web Services\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -146.20, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 281.48, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -687.09, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{\"date\": \"\", \"description\": \"Zoom Subscription\", \"amount\": -1380.44, \"currency\": \"GBP\", \"merchant\": \"Zoom\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": 214.51, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Client Refund\", \"amount\": 1003.31, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -1156.58, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"TFL Travel\", \"amount\": -1470.87, \"currency\": \"GBP\", \"merchant\": \"TFL\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-08",
    "description": "{\"date\": \"\", \"description\": \"HMRC Payment\", \"amount\": -386.26, \"currency\": \"GBP\", \"merchant\": \"HMRC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -123.63, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Github\", \"amount\": -888.70, \"currency\": \"GBP\", \"merchant\": \"Github\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Github\", \"amount\": -1099.51, \"currency\": \"GBP\", \"merchant\": \"Github\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": 140.94, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -919.83, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 1377.52, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-12",
    "description": "{\"date\": \"\", \"description\": \"Freelancer Income\", \"amount\": 937.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-13",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -598.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -120.37, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -957.21, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 165.97, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-16",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 160.48, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-17",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 1325.16, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Amazon Web Services\", \"amount\": -1155.33, \"currency\": \"GBP\", \"merchant\": \"Amazon Web Services\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Late Fee\", \"amount\": -1495.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 122.51, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 1016.92, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -1013.75, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{\"date\": \"\", \"description\": \"TFL Travel\", \"amount\": -663.95, \"currency\": \"GBP\", \"merchant\": \"TFL\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-20",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -1089.18, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -221.47, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -392.83, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-23",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -370.99, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -652.07, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 401.21, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 471.83, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -133.65, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -42.00, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 619.82, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 1061.66, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -616.07, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 257.68, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 266.17, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-28",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 394.26, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  }
]
2025-08-13 17:32:28,023 - app.services.bedrock_service - INFO - [extract_173150334] PDF extraction completed successfully - Transactions found: 45, Time: 37.689s
2025-08-13 17:32:28,024 - app.services.bedrock_service - INFO - [extract_173150334] Parsed transactions: [
  {
    "date": "2025-06-01",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -1253.63, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-01",
    "description": "{\"date\": \"\", \"description\": \"Amazon Web Services\", \"amount\": -494.93, \"currency\": \"GBP\", \"merchant\": \"Amazon Web Services\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -146.20, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 281.48, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -687.09, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{\"date\": \"\", \"description\": \"Zoom Subscription\", \"amount\": -1380.44, \"currency\": \"GBP\", \"merchant\": \"Zoom\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": 214.51, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Client Refund\", \"amount\": 1003.31, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -1156.58, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"TFL Travel\", \"amount\": -1470.87, \"currency\": \"GBP\", \"merchant\": \"TFL\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-08",
    "description": "{\"date\": \"\", \"description\": \"HMRC Payment\", \"amount\": -386.26, \"currency\": \"GBP\", \"merchant\": \"HMRC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -123.63, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Github\", \"amount\": -888.70, \"currency\": \"GBP\", \"merchant\": \"Github\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Github\", \"amount\": -1099.51, \"currency\": \"GBP\", \"merchant\": \"Github\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": 140.94, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -919.83, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 1377.52, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-12",
    "description": "{\"date\": \"\", \"description\": \"Freelancer Income\", \"amount\": 937.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-13",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -598.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -120.37, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -957.21, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 165.97, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-16",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 160.48, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-17",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 1325.16, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Amazon Web Services\", \"amount\": -1155.33, \"currency\": \"GBP\", \"merchant\": \"Amazon Web Services\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Late Fee\", \"amount\": -1495.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 122.51, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 1016.92, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -1013.75, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{\"date\": \"\", \"description\": \"TFL Travel\", \"amount\": -663.95, \"currency\": \"GBP\", \"merchant\": \"TFL\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-20",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -1089.18, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -221.47, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -392.83, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-23",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -370.99, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -652.07, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 401.21, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 471.83, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -133.65, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -42.00, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 619.82, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 1061.66, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -616.07, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 257.68, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 266.17, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-28",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 394.26, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  }
]
2025-08-13 17:32:28,028 - app.services.transaction_service - INFO - Transactions extracted from PDF: 45 found
2025-08-13 17:32:28,029 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-13 17:32:28,029 - app.services.bedrock_service - INFO - [classify_173228029] Starting transaction classification - Data: {'date': '2025-06-01', 'description': '{"date": "", "description": "Adobe CC", "amount": -1253.63, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:32:29,415 - app.services.bedrock_service - INFO - [classify_173228029] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work", "category": "software"}
2025-08-13 17:32:29,415 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}
2025-08-13 17:32:29,416 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-13 17:32:29,416 - app.services.bedrock_service - INFO - [classify_173228029] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}, Time: 1.387s
2025-08-13 17:32:29,417 - app.services.bedrock_service - INFO - [classify_173228029] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-13 17:32:29,457 - app.services.bedrock_service - INFO - [classify_173229457] Starting transaction classification - Data: {'date': '2025-06-01', 'description': '{"date": "", "description": "Amazon Web Services", "amount": -494.93, "currency": "GBP", "merchant": "Amazon Web Services"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:32:30,867 - app.services.bedrock_service - INFO - [classify_173229457] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Cloud computing services are a common business expense for freelancers and consultants", "category": "software"}
2025-08-13 17:32:30,868 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Cloud computing services are a common business expense for freelancers and consultants', 'category': 'software'}
2025-08-13 17:32:30,869 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Cloud computing services are a common business expense for freelancers and consultants",
  "category": "software"
}
2025-08-13 17:32:30,870 - app.services.bedrock_service - INFO - [classify_173229457] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Cloud computing services are a common business expense for freelancers and consultants', 'category': 'software'}, Time: 1.412s
2025-08-13 17:32:30,870 - app.services.bedrock_service - INFO - [classify_173229457] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Cloud computing services are a common business expense for freelancers and consultants",
  "category": "software"
}
2025-08-13 17:32:30,885 - app.services.bedrock_service - INFO - [classify_173230885] Starting transaction classification - Data: {'date': '2025-06-02', 'description': '{"date": "", "description": "PayPal Fee", "amount": -146.20, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:32:32,577 - app.services.bedrock_service - INFO - [classify_173230885] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.", "category": "business_fees"}
2025-08-13 17:32:32,578 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}
2025-08-13 17:32:32,579 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-13 17:32:32,579 - app.services.bedrock_service - INFO - [classify_173230885] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}, Time: 1.694s
2025-08-13 17:32:32,581 - app.services.bedrock_service - INFO - [classify_173230885] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-13 17:32:32,588 - app.services.bedrock_service - INFO - [classify_173232588] Starting transaction classification - Data: {'date': '2025-06-02', 'description': '{"date": "", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:32:34,429 - app.services.bedrock_service - INFO - [classify_173232588] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payout from Stripe likely related to freelance work", "category": "income"}
2025-08-13 17:32:34,429 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payout from Stripe likely related to freelance work', 'category': 'income'}
2025-08-13 17:32:34,430 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payout from Stripe likely related to freelance work",
  "category": "income"
}
2025-08-13 17:32:34,430 - app.services.bedrock_service - INFO - [classify_173232588] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payout from Stripe likely related to freelance work', 'category': 'income'}, Time: 1.841s
2025-08-13 17:32:34,430 - app.services.bedrock_service - INFO - [classify_173232588] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payout from Stripe likely related to freelance work",
  "category": "income"
}
2025-08-13 17:32:34,434 - app.services.bedrock_service - INFO - [classify_173234434] Starting transaction classification - Data: {'date': '2025-06-06', 'description': '{"date": "", "description": "Adobe CC", "amount": -687.09, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:32:35,751 - app.services.bedrock_service - INFO - [classify_173234434] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work", "category": "software"}
2025-08-13 17:32:35,752 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}
2025-08-13 17:32:35,752 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-13 17:32:35,753 - app.services.bedrock_service - INFO - [classify_173234434] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}, Time: 1.318s
2025-08-13 17:32:35,754 - app.services.bedrock_service - INFO - [classify_173234434] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-13 17:32:35,759 - app.services.bedrock_service - INFO - [classify_173235759] Starting transaction classification - Data: {'date': '2025-06-06', 'description': '{"date": "", "description": "Zoom Subscription", "amount": -1380.44, "currency": "GBP", "merchant": "Zoom"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:32:39,906 - app.services.bedrock_service - ERROR - [classify_173235759] Classification failed after 4.147s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:32:39,921 - app.services.bedrock_service - INFO - [classify_173239921] Starting transaction classification - Data: {'date': '2025-06-07', 'description': '{"date": "", "description": "Adobe CC", "amount": 214.51, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:32:46,911 - app.services.bedrock_service - INFO - [classify_173239921] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work", "category": "software"}
2025-08-13 17:32:46,911 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}
2025-08-13 17:32:46,911 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-13 17:32:46,911 - app.services.bedrock_service - INFO - [classify_173239921] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}, Time: 6.990s
2025-08-13 17:32:46,911 - app.services.bedrock_service - INFO - [classify_173239921] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-13 17:32:46,913 - app.services.bedrock_service - INFO - [classify_173246913] Starting transaction classification - Data: {'date': '2025-06-07', 'description': '{"date": "", "description": "Client Refund", "amount": 1003.31, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:32:55,555 - app.services.bedrock_service - INFO - [classify_173246913] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "A client refund is likely related to freelancing or consulting work", "category": "income"}
2025-08-13 17:32:55,555 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'A client refund is likely related to freelancing or consulting work', 'category': 'income'}
2025-08-13 17:32:55,555 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "A client refund is likely related to freelancing or consulting work",
  "category": "income"
}
2025-08-13 17:32:55,556 - app.services.bedrock_service - INFO - [classify_173246913] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'A client refund is likely related to freelancing or consulting work', 'category': 'income'}, Time: 8.642s
2025-08-13 17:32:55,556 - app.services.bedrock_service - INFO - [classify_173246913] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "A client refund is likely related to freelancing or consulting work",
  "category": "income"
}
2025-08-13 17:32:55,558 - app.services.bedrock_service - INFO - [classify_173255558] Starting transaction classification - Data: {'date': '2025-06-07', 'description': '{"date": "", "description": "Costa Coffee", "amount": -1156.58, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:33:00,477 - app.services.bedrock_service - ERROR - [classify_173255558] Classification failed after 4.919s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:33:00,485 - app.services.bedrock_service - INFO - [classify_173300485] Starting transaction classification - Data: {'date': '2025-06-07', 'description': '{"date": "", "description": "TFL Travel", "amount": -1470.87, "currency": "GBP", "merchant": "TFL"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:33:08,551 - app.services.bedrock_service - INFO - [classify_173300485] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Travel expense for business-related transportation", "category": "travel"}
2025-08-13 17:33:08,552 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Travel expense for business-related transportation', 'category': 'travel'}
2025-08-13 17:33:08,552 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Travel expense for business-related transportation",
  "category": "travel"
}
2025-08-13 17:33:08,553 - app.services.bedrock_service - INFO - [classify_173300485] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Travel expense for business-related transportation', 'category': 'travel'}, Time: 8.067s
2025-08-13 17:33:08,554 - app.services.bedrock_service - INFO - [classify_173300485] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Travel expense for business-related transportation",
  "category": "travel"
}
2025-08-13 17:33:08,561 - app.services.bedrock_service - INFO - [classify_173308561] Starting transaction classification - Data: {'date': '2025-06-08', 'description': '{"date": "", "description": "HMRC Payment", "amount": -386.26, "currency": "GBP", "merchant": "HMRC"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:33:19,477 - app.services.bedrock_service - INFO - [classify_173308561] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payment to HMRC (UK tax authority) is likely a business expense for self-employment taxes or VAT", "category": "taxes"}
2025-08-13 17:33:19,478 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payment to HMRC (UK tax authority) is likely a business expense for self-employment taxes or VAT', 'category': 'taxes'}
2025-08-13 17:33:19,479 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment to HMRC (UK tax authority) is likely a business expense for self-employment taxes or VAT",
  "category": "taxes"
}
2025-08-13 17:33:19,480 - app.services.bedrock_service - INFO - [classify_173308561] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payment to HMRC (UK tax authority) is likely a business expense for self-employment taxes or VAT', 'category': 'taxes'}, Time: 10.918s
2025-08-13 17:33:19,481 - app.services.bedrock_service - INFO - [classify_173308561] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment to HMRC (UK tax authority) is likely a business expense for self-employment taxes or VAT",
  "category": "taxes"
}
2025-08-13 17:33:19,489 - app.services.bedrock_service - INFO - [classify_173319489] Starting transaction classification - Data: {'date': '2025-06-09', 'description': '{"date": "", "description": "Adobe CC", "amount": -123.63, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:33:27,486 - app.services.bedrock_service - ERROR - [classify_173319489] Classification failed after 7.996s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:33:27,489 - app.services.bedrock_service - INFO - [classify_173327489] Starting transaction classification - Data: {'date': '2025-06-09', 'description': '{"date": "", "description": "Github", "amount": -888.70, "currency": "GBP", "merchant": "Github"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:33:31,041 - app.services.bedrock_service - INFO - [classify_173327489] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "GitHub is a platform for hosting and managing code repositories, which is essential for software development work.", "category": "software"}
2025-08-13 17:33:31,042 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'GitHub is a platform for hosting and managing code repositories, which is essential for software development work.', 'category': 'software'}
2025-08-13 17:33:31,044 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "GitHub is a platform for hosting and managing code repositories, which is essential for software development work.",
  "category": "software"
}
2025-08-13 17:33:31,045 - app.services.bedrock_service - INFO - [classify_173327489] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'GitHub is a platform for hosting and managing code repositories, which is essential for software development work.', 'category': 'software'}, Time: 3.555s
2025-08-13 17:33:31,046 - app.services.bedrock_service - INFO - [classify_173327489] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "GitHub is a platform for hosting and managing code repositories, which is essential for software development work.",
  "category": "software"
}
2025-08-13 17:33:31,054 - app.services.bedrock_service - INFO - [classify_173331054] Starting transaction classification - Data: {'date': '2025-06-09', 'description': '{"date": "", "description": "Github", "amount": -1099.51, "currency": "GBP", "merchant": "Github"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:33:37,539 - app.services.bedrock_service - ERROR - [classify_173331054] Classification failed after 6.485s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:33:37,547 - app.services.bedrock_service - INFO - [classify_173337547] Starting transaction classification - Data: {'date': '2025-06-09', 'description': '{"date": "", "description": "PayPal Fee", "amount": 140.94, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:33:43,161 - app.services.bedrock_service - INFO - [classify_173337547] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.", "category": "business_fees"}
2025-08-13 17:33:43,161 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}
2025-08-13 17:33:43,161 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-13 17:33:43,162 - app.services.bedrock_service - INFO - [classify_173337547] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}, Time: 5.613s
2025-08-13 17:33:43,162 - app.services.bedrock_service - INFO - [classify_173337547] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-13 17:33:43,164 - app.services.bedrock_service - INFO - [classify_173343164] Starting transaction classification - Data: {'date': '2025-06-10', 'description': '{"date": "", "description": "Google Ads", "amount": -919.83, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:33:53,885 - app.services.bedrock_service - INFO - [classify_173343164] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.", "category": "advertising"}
2025-08-13 17:33:53,885 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by businesses for marketing and promotion.', 'category': 'advertising'}
2025-08-13 17:33:53,887 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.",
  "category": "advertising"
}
2025-08-13 17:33:53,888 - app.services.bedrock_service - INFO - [classify_173343164] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by businesses for marketing and promotion.', 'category': 'advertising'}, Time: 10.724s
2025-08-13 17:33:53,888 - app.services.bedrock_service - INFO - [classify_173343164] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.",
  "category": "advertising"
}
2025-08-13 17:33:53,893 - app.services.bedrock_service - INFO - [classify_173353893] Starting transaction classification - Data: {'date': '2025-06-10', 'description': '{"date": "", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:34:05,864 - app.services.bedrock_service - INFO - [classify_173353893] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work", "category": "income"}
2025-08-13 17:34:05,865 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}
2025-08-13 17:34:05,866 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-13 17:34:05,866 - app.services.bedrock_service - INFO - [classify_173353893] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}, Time: 11.973s
2025-08-13 17:34:05,867 - app.services.bedrock_service - INFO - [classify_173353893] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-13 17:34:05,875 - app.services.bedrock_service - INFO - [classify_173405875] Starting transaction classification - Data: {'date': '2025-06-12', 'description': '{"date": "", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:34:14,490 - app.services.bedrock_service - ERROR - [classify_173405875] Classification failed after 8.614s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:34:14,497 - app.services.bedrock_service - INFO - [classify_173414497] Starting transaction classification - Data: {'date': '2025-06-13', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -598.34, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:34:19,278 - app.services.bedrock_service - INFO - [classify_173414497] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Account maintenance fees are typically business expenses for freelancers and consultants.", "category": "banking_fees"}
2025-08-13 17:34:19,279 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Account maintenance fees are typically business expenses for freelancers and consultants.', 'category': 'banking_fees'}
2025-08-13 17:34:19,280 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Account maintenance fees are typically business expenses for freelancers and consultants.",
  "category": "banking_fees"
}
2025-08-13 17:34:19,280 - app.services.bedrock_service - INFO - [classify_173414497] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Account maintenance fees are typically business expenses for freelancers and consultants.', 'category': 'banking_fees'}, Time: 4.782s
2025-08-13 17:34:19,282 - app.services.bedrock_service - INFO - [classify_173414497] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Account maintenance fees are typically business expenses for freelancers and consultants.",
  "category": "banking_fees"
}
2025-08-13 17:34:19,286 - app.services.bedrock_service - INFO - [classify_173419286] Starting transaction classification - Data: {'date': '2025-06-14', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -120.37, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:34:27,596 - app.services.bedrock_service - ERROR - [classify_173419286] Classification failed after 8.310s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:34:27,604 - app.services.bedrock_service - INFO - [classify_173427603] Starting transaction classification - Data: {'date': '2025-06-14', 'description': '{"date": "", "description": "Costa Coffee", "amount": -957.21, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:34:30,452 - app.services.bedrock_service - INFO - [classify_173427603] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.9, "reasoning": "Coffee purchase from a cafe is typically a personal expense", "category": "meals"}
2025-08-13 17:34:30,454 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Coffee purchase from a cafe is typically a personal expense', 'category': 'meals'}
2025-08-13 17:34:30,455 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Coffee purchase from a cafe is typically a personal expense",
  "category": "meals"
}
2025-08-13 17:34:30,455 - app.services.bedrock_service - INFO - [classify_173427603] Classification completed successfully - Result: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Coffee purchase from a cafe is typically a personal expense', 'category': 'meals'}, Time: 2.851s
2025-08-13 17:34:30,457 - app.services.bedrock_service - INFO - [classify_173427603] Parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Coffee purchase from a cafe is typically a personal expense",
  "category": "meals"
}
2025-08-13 17:34:30,465 - app.services.bedrock_service - INFO - [classify_173430465] Starting transaction classification - Data: {'date': '2025-06-14', 'description': '{"date": "", "description": "Stripe Payout", "amount": 165.97, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:34:39,335 - app.services.bedrock_service - ERROR - [classify_173430465] Classification failed after 8.870s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:34:39,337 - app.services.bedrock_service - INFO - [classify_173439337] Starting transaction classification - Data: {'date': '2025-06-16', 'description': '{"date": "", "description": "TransferWise", "amount": 160.48, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:34:41,397 - app.services.bedrock_service - INFO - [classify_173439337] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "TransferWise is a money transfer service commonly used by freelancers and businesses for international payments", "category": "financial_services"}
2025-08-13 17:34:41,399 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'TransferWise is a money transfer service commonly used by freelancers and businesses for international payments', 'category': 'financial_services'}
2025-08-13 17:34:41,400 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "TransferWise is a money transfer service commonly used by freelancers and businesses for international payments",
  "category": "financial_services"
}
2025-08-13 17:34:41,401 - app.services.bedrock_service - INFO - [classify_173439337] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'TransferWise is a money transfer service commonly used by freelancers and businesses for international payments', 'category': 'financial_services'}, Time: 2.063s
2025-08-13 17:34:41,401 - app.services.bedrock_service - INFO - [classify_173439337] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "TransferWise is a money transfer service commonly used by freelancers and businesses for international payments",
  "category": "financial_services"
}
2025-08-13 17:34:41,409 - app.services.bedrock_service - INFO - [classify_173441409] Starting transaction classification - Data: {'date': '2025-06-17', 'description': '{"date": "", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:34:47,856 - app.services.bedrock_service - ERROR - [classify_173441409] Classification failed after 6.446s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:34:47,864 - app.services.bedrock_service - INFO - [classify_173447864] Starting transaction classification - Data: {'date': '2025-06-18', 'description': '{"date": "", "description": "Amazon Web Services", "amount": -1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:00,127 - app.services.bedrock_service - INFO - [classify_173447864] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Cloud computing services are a common business expense for freelancers and consultants", "category": "software"}
2025-08-13 17:35:00,128 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Cloud computing services are a common business expense for freelancers and consultants', 'category': 'software'}
2025-08-13 17:35:00,129 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Cloud computing services are a common business expense for freelancers and consultants",
  "category": "software"
}
2025-08-13 17:35:00,130 - app.services.bedrock_service - INFO - [classify_173447864] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Cloud computing services are a common business expense for freelancers and consultants', 'category': 'software'}, Time: 12.266s
2025-08-13 17:35:00,130 - app.services.bedrock_service - INFO - [classify_173447864] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Cloud computing services are a common business expense for freelancers and consultants",
  "category": "software"
}
2025-08-13 17:35:00,140 - app.services.bedrock_service - INFO - [classify_173500140] Starting transaction classification - Data: {'date': '2025-06-18', 'description': '{"date": "", "description": "Late Fee", "amount": -1495.34, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:10,154 - app.services.bedrock_service - INFO - [classify_173500140] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.9, "reasoning": "Late fees are typically personal expenses related to missed payments or penalties.", "category": "fees"}
2025-08-13 17:35:10,156 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Late fees are typically personal expenses related to missed payments or penalties.', 'category': 'fees'}
2025-08-13 17:35:10,156 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Late fees are typically personal expenses related to missed payments or penalties.",
  "category": "fees"
}
2025-08-13 17:35:10,156 - app.services.bedrock_service - INFO - [classify_173500140] Classification completed successfully - Result: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Late fees are typically personal expenses related to missed payments or penalties.', 'category': 'fees'}, Time: 10.016s
2025-08-13 17:35:10,156 - app.services.bedrock_service - INFO - [classify_173500140] Parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Late fees are typically personal expenses related to missed payments or penalties.",
  "category": "fees"
}
2025-08-13 17:35:10,159 - app.services.bedrock_service - INFO - [classify_173510159] Starting transaction classification - Data: {'date': '2025-06-18', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 122.51, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:15,287 - app.services.bedrock_service - ERROR - [classify_173510159] Classification failed after 5.128s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:35:15,292 - app.services.bedrock_service - INFO - [classify_173515292] Starting transaction classification - Data: {'date': '2025-06-18', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:18,810 - app.services.bedrock_service - INFO - [classify_173515292] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payment received from Upwork for freelance work", "category": "income"}
2025-08-13 17:35:18,811 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payment received from Upwork for freelance work', 'category': 'income'}
2025-08-13 17:35:18,812 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment received from Upwork for freelance work",
  "category": "income"
}
2025-08-13 17:35:18,813 - app.services.bedrock_service - INFO - [classify_173515292] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payment received from Upwork for freelance work', 'category': 'income'}, Time: 3.520s
2025-08-13 17:35:18,813 - app.services.bedrock_service - INFO - [classify_173515292] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment received from Upwork for freelance work",
  "category": "income"
}
2025-08-13 17:35:18,823 - app.services.bedrock_service - INFO - [classify_173518823] Starting transaction classification - Data: {'date': '2025-06-19', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -1013.75, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:27,528 - app.services.bedrock_service - ERROR - [classify_173518823] Classification failed after 8.705s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:35:27,538 - app.services.bedrock_service - INFO - [classify_173527538] Starting transaction classification - Data: {'date': '2025-06-19', 'description': '{"date": "", "description": "TFL Travel", "amount": -663.95, "currency": "GBP", "merchant": "TFL"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:31,281 - app.services.bedrock_service - INFO - [classify_173527538] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Travel expenses are common for freelancers and consultants", "category": "travel"}
2025-08-13 17:35:31,282 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Travel expenses are common for freelancers and consultants', 'category': 'travel'}
2025-08-13 17:35:31,283 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Travel expenses are common for freelancers and consultants",
  "category": "travel"
}
2025-08-13 17:35:31,284 - app.services.bedrock_service - INFO - [classify_173527538] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Travel expenses are common for freelancers and consultants', 'category': 'travel'}, Time: 3.745s
2025-08-13 17:35:31,285 - app.services.bedrock_service - INFO - [classify_173527538] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Travel expenses are common for freelancers and consultants",
  "category": "travel"
}
2025-08-13 17:35:31,297 - app.services.bedrock_service - INFO - [classify_173531297] Starting transaction classification - Data: {'date': '2025-06-20', 'description': '{"date": "", "description": "Costa Coffee", "amount": -1089.18, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:37,574 - app.services.bedrock_service - ERROR - [classify_173531297] Classification failed after 6.277s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:35:37,582 - app.services.bedrock_service - INFO - [classify_173537582] Starting transaction classification - Data: {'date': '2025-06-22', 'description': '{"date": "", "description": "Google Ads", "amount": -221.47, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:44,247 - app.services.bedrock_service - INFO - [classify_173537582] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising platform used by freelancers and businesses for marketing and client acquisition.", "category": "advertising"}
2025-08-13 17:35:44,247 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by freelancers and businesses for marketing and client acquisition.', 'category': 'advertising'}
2025-08-13 17:35:44,247 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by freelancers and businesses for marketing and client acquisition.",
  "category": "advertising"
}
2025-08-13 17:35:44,248 - app.services.bedrock_service - INFO - [classify_173537582] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by freelancers and businesses for marketing and client acquisition.', 'category': 'advertising'}, Time: 6.665s
2025-08-13 17:35:44,248 - app.services.bedrock_service - INFO - [classify_173537582] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by freelancers and businesses for marketing and client acquisition.",
  "category": "advertising"
}
2025-08-13 17:35:44,249 - app.services.bedrock_service - INFO - [classify_173544249] Starting transaction classification - Data: {'date': '2025-06-22', 'description': '{"date": "", "description": "Google Ads", "amount": -392.83, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:48,224 - app.services.bedrock_service - ERROR - [classify_173544249] Classification failed after 3.974s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:35:48,237 - app.services.bedrock_service - INFO - [classify_173548237] Starting transaction classification - Data: {'date': '2025-06-23', 'description': '{"date": "", "description": "PayPal Fee", "amount": -370.99, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:52,059 - app.services.bedrock_service - ERROR - [classify_173548237] Classification failed after 3.821s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:35:52,066 - app.services.bedrock_service - INFO - [classify_173552066] Starting transaction classification - Data: {'date': '2025-06-24', 'description': '{"date": "", "description": "Google Ads", "amount": -652.07, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:53,367 - app.services.bedrock_service - INFO - [classify_173552066] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.", "category": "advertising"}
2025-08-13 17:35:53,368 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by businesses for marketing and promotion.', 'category': 'advertising'}
2025-08-13 17:35:53,368 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.",
  "category": "advertising"
}
2025-08-13 17:35:53,369 - app.services.bedrock_service - INFO - [classify_173552066] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by businesses for marketing and promotion.', 'category': 'advertising'}, Time: 1.302s
2025-08-13 17:35:53,370 - app.services.bedrock_service - INFO - [classify_173552066] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.",
  "category": "advertising"
}
2025-08-13 17:35:53,375 - app.services.bedrock_service - INFO - [classify_173553375] Starting transaction classification - Data: {'date': '2025-06-24', 'description': '{"date": "", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:35:58,135 - app.services.bedrock_service - ERROR - [classify_173553375] Classification failed after 4.760s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:35:58,143 - app.services.bedrock_service - INFO - [classify_173558143] Starting transaction classification - Data: {'date': '2025-06-24', 'description': '{"date": "", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:36:09,539 - app.services.bedrock_service - INFO - [classify_173558143] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work", "category": "income"}
2025-08-13 17:36:09,540 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}
2025-08-13 17:36:09,541 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-13 17:36:09,541 - app.services.bedrock_service - INFO - [classify_173558143] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}, Time: 11.398s
2025-08-13 17:36:09,541 - app.services.bedrock_service - INFO - [classify_173558143] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-13 17:36:09,543 - app.services.bedrock_service - INFO - [classify_173609543] Starting transaction classification - Data: {'date': '2025-06-25', 'description': '{"date": "", "description": "Google Ads", "amount": -133.65, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:36:13,961 - app.services.bedrock_service - ERROR - [classify_173609543] Classification failed after 4.417s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:36:13,969 - app.services.bedrock_service - INFO - [classify_173613968] Starting transaction classification - Data: {'date': '2025-06-25', 'description': '{"date": "", "description": "PayPal Fee", "amount": -42.00, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:36:19,556 - app.services.bedrock_service - INFO - [classify_173613968] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.", "category": "business_fees"}
2025-08-13 17:36:19,558 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}
2025-08-13 17:36:19,558 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-13 17:36:19,559 - app.services.bedrock_service - INFO - [classify_173613968] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}, Time: 5.590s
2025-08-13 17:36:19,560 - app.services.bedrock_service - INFO - [classify_173613968] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-13 17:36:19,570 - app.services.bedrock_service - INFO - [classify_173619570] Starting transaction classification - Data: {'date': '2025-06-25', 'description': '{"date": "", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:36:30,495 - app.services.bedrock_service - INFO - [classify_173619570] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payout from Stripe likely related to freelance work", "category": "income"}
2025-08-13 17:36:30,496 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payout from Stripe likely related to freelance work', 'category': 'income'}
2025-08-13 17:36:30,497 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payout from Stripe likely related to freelance work",
  "category": "income"
}
2025-08-13 17:36:30,498 - app.services.bedrock_service - INFO - [classify_173619570] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payout from Stripe likely related to freelance work', 'category': 'income'}, Time: 10.928s
2025-08-13 17:36:30,499 - app.services.bedrock_service - INFO - [classify_173619570] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payout from Stripe likely related to freelance work",
  "category": "income"
}
2025-08-13 17:36:30,505 - app.services.bedrock_service - INFO - [classify_173630505] Starting transaction classification - Data: {'date': '2025-06-25', 'description': '{"date": "", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:36:42,845 - app.services.bedrock_service - INFO - [classify_173630505] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.8, "reasoning": "TransferWise is a money transfer service, likely for personal use", "category": "money_transfer"}
2025-08-13 17:36:42,847 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.8, 'reasoning': 'TransferWise is a money transfer service, likely for personal use', 'category': 'money_transfer'}
2025-08-13 17:36:42,847 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service, likely for personal use",
  "category": "money_transfer"
}
2025-08-13 17:36:42,848 - app.services.bedrock_service - INFO - [classify_173630505] Classification completed successfully - Result: {'classification': 'personal', 'confidence': 0.8, 'reasoning': 'TransferWise is a money transfer service, likely for personal use', 'category': 'money_transfer'}, Time: 12.342s
2025-08-13 17:36:42,848 - app.services.bedrock_service - INFO - [classify_173630505] Parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service, likely for personal use",
  "category": "money_transfer"
}
2025-08-13 17:36:42,850 - app.services.bedrock_service - INFO - [classify_173642850] Starting transaction classification - Data: {'date': '2025-06-26', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -616.07, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:36:48,746 - app.services.bedrock_service - ERROR - [classify_173642850] Classification failed after 5.896s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:36:48,754 - app.services.bedrock_service - INFO - [classify_173648754] Starting transaction classification - Data: {'date': '2025-06-26', 'description': '{"date": "", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:36:55,035 - app.services.bedrock_service - INFO - [classify_173648754] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.8, "reasoning": "TransferWise is a money transfer service, likely for personal use", "category": "money_transfer"}
2025-08-13 17:36:55,037 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.8, 'reasoning': 'TransferWise is a money transfer service, likely for personal use', 'category': 'money_transfer'}
2025-08-13 17:36:55,038 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service, likely for personal use",
  "category": "money_transfer"
}
2025-08-13 17:36:55,039 - app.services.bedrock_service - INFO - [classify_173648754] Classification completed successfully - Result: {'classification': 'personal', 'confidence': 0.8, 'reasoning': 'TransferWise is a money transfer service, likely for personal use', 'category': 'money_transfer'}, Time: 6.285s
2025-08-13 17:36:55,039 - app.services.bedrock_service - INFO - [classify_173648754] Parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service, likely for personal use",
  "category": "money_transfer"
}
2025-08-13 17:36:55,048 - app.services.bedrock_service - INFO - [classify_173655048] Starting transaction classification - Data: {'date': '2025-06-26', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:36:59,381 - app.services.bedrock_service - ERROR - [classify_173655048] Classification failed after 4.332s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-13 17:36:59,386 - app.services.bedrock_service - INFO - [classify_173659386] Starting transaction classification - Data: {'date': '2025-06-28', 'description': '{"date": "", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-13 17:37:09,776 - app.services.bedrock_service - INFO - [classify_173659386] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.8, "reasoning": "TransferWise is a money transfer service, likely for personal use", "category": "money_transfer"}
2025-08-13 17:37:09,776 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.8, 'reasoning': 'TransferWise is a money transfer service, likely for personal use', 'category': 'money_transfer'}
2025-08-13 17:37:09,777 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service, likely for personal use",
  "category": "money_transfer"
}
2025-08-13 17:37:09,778 - app.services.bedrock_service - INFO - [classify_173659386] Classification completed successfully - Result: {'classification': 'personal', 'confidence': 0.8, 'reasoning': 'TransferWise is a money transfer service, likely for personal use', 'category': 'money_transfer'}, Time: 10.392s
2025-08-13 17:37:09,779 - app.services.bedrock_service - INFO - [classify_173659386] Parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service, likely for personal use",
  "category": "money_transfer"
}
2025-08-13 17:37:09,793 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 45, Errors: 0, Time: 319.47s
2025-08-13 17:37:09,794 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] PDF processing completed - Result: {'processed_count': 45, 'transactions': [{'id': '51ade348-d62b-48f4-9ec8-96e3f6ce717e', 'date': '2025-06-01', 'description': '{"date": "", "description": "Adobe CC", "amount": -1253.63, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software'}, {'id': '203b8973-990e-4c5e-b918-3d6c27de5544', 'date': '2025-06-01', 'description': '{"date": "", "description": "Amazon Web Services", "amount": -494.93, "currency": "GBP", "merchant": "Amazon Web Services"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'software'}, {'id': 'bbec8d01-3247-4a44-a13d-94b70c3df35c', 'date': '2025-06-02', 'description': '{"date": "", "description": "PayPal Fee", "amount": -146.20, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'business_fees'}, {'id': 'f43022e1-708f-410a-8ed9-2006bf338475', 'date': '2025-06-02', 'description': '{"date": "", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '9c60777c-2ec5-4158-bd91-f337d28fef3d', 'date': '2025-06-06', 'description': '{"date": "", "description": "Adobe CC", "amount": -687.09, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software'}, {'id': '8bbc76a4-865f-4af4-a890-d486c4b219da', 'date': '2025-06-06', 'description': '{"date": "", "description": "Zoom Subscription", "amount": -1380.44, "currency": "GBP", "merchant": "Zoom"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'f08b46a0-67ce-4652-8ca4-009bf6b35f8c', 'date': '2025-06-07', 'description': '{"date": "", "description": "Adobe CC", "amount": 214.51, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software'}, {'id': 'd5a8f7ab-2774-4329-83a3-c8c3fd7a8671', 'date': '2025-06-07', 'description': '{"date": "", "description": "Client Refund", "amount": 1003.31, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'income'}, {'id': '856db4ac-6d97-4a28-976f-70d45e01849e', 'date': '2025-06-07', 'description': '{"date": "", "description": "Costa Coffee", "amount": -1156.58, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '2d60f88d-c3a5-4c45-b9bd-73f683a3e468', 'date': '2025-06-07', 'description': '{"date": "", "description": "TFL Travel", "amount": -1470.87, "currency": "GBP", "merchant": "TFL"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'travel'}, {'id': '51c9d737-da4b-4a10-ad20-05a505b8a729', 'date': '2025-06-08', 'description': '{"date": "", "description": "HMRC Payment", "amount": -386.26, "currency": "GBP", "merchant": "HMRC"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'taxes'}, {'id': '6c92ceef-ed2d-4429-94a1-2af2769a2eed', 'date': '2025-06-09', 'description': '{"date": "", "description": "Adobe CC", "amount": -123.63, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'bc4fd064-8198-4b34-b728-d6ec53841c4a', 'date': '2025-06-09', 'description': '{"date": "", "description": "Github", "amount": -888.70, "currency": "GBP", "merchant": "Github"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software'}, {'id': '28687dae-93a1-4374-ac76-7d49b6c1aeff', 'date': '2025-06-09', 'description': '{"date": "", "description": "Github", "amount": -1099.51, "currency": "GBP", "merchant": "Github"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '2621c85d-e483-474f-bff7-8fc99fceea2e', 'date': '2025-06-09', 'description': '{"date": "", "description": "PayPal Fee", "amount": 140.94, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'business_fees'}, {'id': 'bfa7d6ba-bbe7-43b8-97aa-cf2c2d618877', 'date': '2025-06-10', 'description': '{"date": "", "description": "Google Ads", "amount": -919.83, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'advertising'}, {'id': '77039af8-6ea8-4fc9-83df-1ac372c97e38', 'date': '2025-06-10', 'description': '{"date": "", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': 'f3c019cd-7b3e-486a-88bd-4540729ffddb', 'date': '2025-06-12', 'description': '{"date": "", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '5ffc4c50-4fb8-4993-babe-08ca142477ae', 'date': '2025-06-13', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -598.34, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'banking_fees'}, {'id': 'd82c383d-8a6e-4892-9677-be438d18de3a', 'date': '2025-06-14', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -120.37, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'b6c6df6b-b913-40d0-ad67-fa4bde183a3a', 'date': '2025-06-14', 'description': '{"date": "", "description": "Costa Coffee", "amount": -957.21, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.9, 'category': 'meals'}, {'id': '69f205f2-7e5f-4118-834d-adc01153f239', 'date': '2025-06-14', 'description': '{"date": "", "description": "Stripe Payout", "amount": 165.97, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '5e55f4d6-2ed9-46bc-b45f-4eafc78fa27b', 'date': '2025-06-16', 'description': '{"date": "", "description": "TransferWise", "amount": 160.48, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'financial_services'}, {'id': '27d8d8aa-0361-459f-85b3-28e21d3dc353', 'date': '2025-06-17', 'description': '{"date": "", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '0a3f09be-2c11-4166-b4cf-1a18bdef275b', 'date': '2025-06-18', 'description': '{"date": "", "description": "Amazon Web Services", "amount": -1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software'}, {'id': '78a251a9-00c2-4ec5-ae6d-c3304336e77c', 'date': '2025-06-18', 'description': '{"date": "", "description": "Late Fee", "amount": -1495.34, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.9, 'category': 'fees'}, {'id': '28d4df33-7dcd-4a90-81d8-4cc9ae73ff73', 'date': '2025-06-18', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 122.51, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '7f753fbb-d48f-48e9-b7b4-c9d23780e275', 'date': '2025-06-18', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': 'a4d6371c-be1a-4a02-8684-a7941dae5bc7', 'date': '2025-06-19', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -1013.75, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '31422da6-c379-4cbd-a133-e73764318b4f', 'date': '2025-06-19', 'description': '{"date": "", "description": "TFL Travel", "amount": -663.95, "currency": "GBP", "merchant": "TFL"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'travel'}, {'id': '77329799-652b-4946-ad2a-52953ffd4060', 'date': '2025-06-20', 'description': '{"date": "", "description": "Costa Coffee", "amount": -1089.18, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '07f96420-44a2-4919-b3f4-64694b7f555a', 'date': '2025-06-22', 'description': '{"date": "", "description": "Google Ads", "amount": -221.47, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'advertising'}, {'id': 'b10bcfc1-0d72-4363-9be3-f330b88009f7', 'date': '2025-06-22', 'description': '{"date": "", "description": "Google Ads", "amount": -392.83, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '29500ee5-e4aa-4f77-bd7b-e62291a8b20f', 'date': '2025-06-23', 'description': '{"date": "", "description": "PayPal Fee", "amount": -370.99, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '27f4838b-62e4-45cf-abd9-f9121fdbaffc', 'date': '2025-06-24', 'description': '{"date": "", "description": "Google Ads", "amount": -652.07, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'advertising'}, {'id': '6c16b361-9046-42c7-b0bc-3c975e4bc317', 'date': '2025-06-24', 'description': '{"date": "", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '614a79ed-fd58-441e-9720-754a90d30f05', 'date': '2025-06-24', 'description': '{"date": "", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': 'd20df506-425d-4347-9372-a4c974ed4c4c', 'date': '2025-06-25', 'description': '{"date": "", "description": "Google Ads", "amount": -133.65, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'b45db656-ef4c-4cb9-989a-cd7e9e16e599', 'date': '2025-06-25', 'description': '{"date": "", "description": "PayPal Fee", "amount": -42.00, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'business_fees'}, {'id': '4ad1a83b-ed2c-4523-a93d-1d248317ac69', 'date': '2025-06-25', 'description': '{"date": "", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': 'de7035f2-322d-4a7a-b11b-2cd652afe539', 'date': '2025-06-25', 'description': '{"date": "", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.8, 'category': 'money_transfer'}, {'id': 'eba2779d-765e-41be-ad86-03445fe2e3d1', 'date': '2025-06-26', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -616.07, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'ff13db81-cdb4-46e1-a91b-234f004e94e3', 'date': '2025-06-26', 'description': '{"date": "", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.8, 'category': 'money_transfer'}, {'id': '34a12a3f-5fdd-4ad9-9866-be13f5c7091f', 'date': '2025-06-26', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '935e635c-79b8-4c79-b938-9b08ccac15be', 'date': '2025-06-28', 'description': '{"date": "", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.8, 'category': 'money_transfer'}], 'errors': [], 'processing_time': 319.47365}
2025-08-13 17:37:09,794 - app.api.transactions - INFO - [upload_20250813_173150_0fa11732] File processing completed successfully - Processing time: 319.48s, Transactions processed: 45
2025-08-14 16:39:17,882 - app.main - INFO - 🛑 Application shutting down...
2025-08-14 16:41:22,385 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-14 16:41:22,427 - app.main - INFO - Database tables created/verified
2025-08-14 16:41:22,428 - app.main - INFO - CORS middleware configured
2025-08-14 16:41:22,433 - app.main - INFO - API routers included
2025-08-14 16:41:22,434 - app.main - INFO - 🚀 Application starting up...
2025-08-14 16:41:22,434 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-14 16:41:22,434 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-14 16:41:22,434 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-14 16:41:22,434 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-14 16:41:22,434 - app.main - INFO - ✅ Application startup complete
2025-08-14 16:42:35,116 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-14 16:42:35,501 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-14 16:42:48,130 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] Starting file upload - User: 8b43cd5c-1bfc-4483-ab59-423b6ad0abf2, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-14 16:42:48,130 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-14 16:42:48,131 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] File type validation passed
2025-08-14 16:42:48,131 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] Reading file content for size validation
2025-08-14 16:42:48,131 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] File content read - Size: 4422 bytes
2025-08-14 16:42:48,131 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] File size validation passed
2025-08-14 16:42:48,131 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] Initializing services
2025-08-14 16:42:48,131 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-14 16:42:48,140 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-14 16:42:48,140 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] Services initialized successfully
2025-08-14 16:42:48,141 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] Processing file with extension: pdf
2025-08-14 16:42:48,141 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] Processing PDF file
2025-08-14 16:42:48,141 - app.services.transaction_service - INFO - Starting PDF processing for user 8b43cd5c-1bfc-4483-ab59-423b6ad0abf2
2025-08-14 16:42:48,141 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-14 16:42:48,141 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-14 16:42:48,143 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-14 16:42:48,153 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-14 16:42:48,153 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-14 16:42:48,154 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-14 16:42:48,154 - app.services.bedrock_service - INFO - [extract_164248154] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-14 16:43:25,661 - app.services.bedrock_service - INFO - [extract_164248154] Raw Bedrock text response:
[
  {"date": "2025-06-01", "description": "Adobe CC", "amount": -1253.63, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-01", "description": "Amazon Web Services", "amount": -494.93, "currency": "GBP", "merchant": "Amazon Web Services"},
  {"date": "2025-06-02", "description": "PayPal Fee", "amount": -146.2, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-06", "description": "Adobe CC", "amount": -687.09, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-06", "description": "Zoom Subscription", "amount": -1380.44, "currency": "GBP", "merchant": "Zoom"},
  {"date": "2025-06-07", "description": "Adobe CC", "amount": 214.51, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP"},
  {"date": "2025-06-07", "description": "Costa Coffee", "amount": -1156.58, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-07", "description": "TFL Travel", "amount": -1470.87, "currency": "GBP", "merchant": "TFL"},
  {"date": "2025-06-08", "description": "HMRC Payment", "amount": -386.26, "currency": "GBP", "merchant": "HMRC"},
  {"date": "2025-06-09", "description": "Adobe CC", "amount": -123.63, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-09", "description": "Github", "amount": -888.7, "currency": "GBP", "merchant": "Github"},
  {"date": "2025-06-09", "description": "Github", "amount": -1099.51, "currency": "GBP", "merchant": "Github"},
  {"date": "2025-06-09", "description": "PayPal Fee", "amount": 140.94, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-10", "description": "Google Ads", "amount": -919.83, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP"},
  {"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": -598.34, "currency": "GBP"},
  {"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": -120.37, "currency": "GBP"},
  {"date": "2025-06-14", "description": "Costa Coffee", "amount": -957.21, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-14", "description": "Stripe Payout", "amount": 165.97, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-16", "description": "TransferWise", "amount": 160.48, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-18", "description": "Amazon Web Services", "amount": -1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},
  {"date": "2025-06-18", "description": "Late Fee", "amount": -1495.34, "currency": "GBP"},
  {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 122.51, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": -1013.75, "currency": "GBP"},
  {"date": "2025-06-19", "description": "TFL Travel", "amount": -663.95, "currency": "GBP", "merchant": "TFL"},
  {"date": "2025-06-20", "description": "Costa Coffee", "amount": -1089.18, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-22", "description": "Google Ads", "amount": -221.47, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-22", "description": "Google Ads", "amount": -392.83, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-23", "description": "PayPal Fee", "amount": -370.99, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-24", "description": "Google Ads", "amount": -652.07, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-25", "description": "Google Ads", "amount": -133.65, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-25", "description": "PayPal Fee", "amount": -42.0, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": -616.07, "currency": "GBP"},
  {"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "
2025-08-14 16:43:25,662 - app.services.bedrock_service - INFO - Parsing transaction extraction response: [
  {"date": "2025-06-01", "description": "Adobe CC", "amount": -1253.63, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-01", "description": "Amazon Web Services", "amount": -494.93, "currency": "GBP", "merchant": "Amazon Web Services"},
  {"date": "2025-06-02", "description": "PayPal Fee", "amount": -146.2, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-06", "description": "Adobe CC", "amount": -687.09, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-06", "description": "Zoom Subscription", "amount": -1380.44, "currency": "GBP", "merchant": "Zoom"},
  {"date": "2025-06-07", "description": "Adobe CC", "amount": 214.51, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP"},
  {"date": "2025-06-07", "description": "Costa Coffee", "amount": -1156.58, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-07", "description": "TFL Travel", "amount": -1470.87, "currency": "GBP", "merchant": "TFL"},
  {"date": "2025-06-08", "description": "HMRC Payment", "amount": -386.26, "currency": "GBP", "merchant": "HMRC"},
  {"date": "2025-06-09", "description": "Adobe CC", "amount": -123.63, "currency": "GBP", "merchant": "Adobe CC"},
  {"date": "2025-06-09", "description": "Github", "amount": -888.7, "currency": "GBP", "merchant": "Github"},
  {"date": "2025-06-09", "description": "Github", "amount": -1099.51, "currency": "GBP", "merchant": "Github"},
  {"date": "2025-06-09", "description": "PayPal Fee", "amount": 140.94, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-10", "description": "Google Ads", "amount": -919.83, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP"},
  {"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": -598.34, "currency": "GBP"},
  {"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": -120.37, "currency": "GBP"},
  {"date": "2025-06-14", "description": "Costa Coffee", "amount": -957.21, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-14", "description": "Stripe Payout", "amount": 165.97, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-16", "description": "TransferWise", "amount": 160.48, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-18", "description": "Amazon Web Services", "amount": -1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},
  {"date": "2025-06-18", "description": "Late Fee", "amount": -1495.34, "currency": "GBP"},
  {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 122.51, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": -1013.75, "currency": "GBP"},
  {"date": "2025-06-19", "description": "TFL Travel", "amount": -663.95, "currency": "GBP", "merchant": "TFL"},
  {"date": "2025-06-20", "description": "Costa Coffee", "amount": -1089.18, "currency": "GBP", "merchant": "Costa Coffee"},
  {"date": "2025-06-22", "description": "Google Ads", "amount": -221.47, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-22", "description": "Google Ads", "amount": -392.83, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-23", "description": "PayPal Fee", "amount": -370.99, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-24", "description": "Google Ads", "amount": -652.07, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-25", "description": "Google Ads", "amount": -133.65, "currency": "GBP", "merchant": "Google Ads"},
  {"date": "2025-06-25", "description": "PayPal Fee", "amount": -42.0, "currency": "GBP", "merchant": "PayPal"},
  {"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},
  {"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": -616.07, "currency": "GBP"},
  {"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork Ltd"},
  {"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},
  {"date": "
2025-08-14 16:43:25,665 - app.services.bedrock_service - WARNING - Strategy 2 failed - JSON decode error: Extra data: line 1 column 113 (char 112)
2025-08-14 16:43:25,666 - app.services.bedrock_service - INFO - Strategy 3 successful - Manually extracted 45 transactions
2025-08-14 16:43:25,666 - app.services.bedrock_service - INFO - Final validated transactions: [
  {
    "date": "2025-06-01",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -1253.63, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-01",
    "description": "{\"date\": \"\", \"description\": \"Amazon Web Services\", \"amount\": -494.93, \"currency\": \"GBP\", \"merchant\": \"Amazon Web Services\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -146.2, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 281.48, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -687.09, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{\"date\": \"\", \"description\": \"Zoom Subscription\", \"amount\": -1380.44, \"currency\": \"GBP\", \"merchant\": \"Zoom\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": 214.51, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Client Refund\", \"amount\": 1003.31, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -1156.58, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"TFL Travel\", \"amount\": -1470.87, \"currency\": \"GBP\", \"merchant\": \"TFL\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-08",
    "description": "{\"date\": \"\", \"description\": \"HMRC Payment\", \"amount\": -386.26, \"currency\": \"GBP\", \"merchant\": \"HMRC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -123.63, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Github\", \"amount\": -888.7, \"currency\": \"GBP\", \"merchant\": \"Github\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Github\", \"amount\": -1099.51, \"currency\": \"GBP\", \"merchant\": \"Github\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": 140.94, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -919.83, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 1377.52, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-12",
    "description": "{\"date\": \"\", \"description\": \"Freelancer Income\", \"amount\": 937.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-13",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -598.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -120.37, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -957.21, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 165.97, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-16",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 160.48, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-17",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 1325.16, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Amazon Web Services\", \"amount\": -1155.33, \"currency\": \"GBP\", \"merchant\": \"Amazon Web Services\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Late Fee\", \"amount\": -1495.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 122.51, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 1016.92, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -1013.75, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{\"date\": \"\", \"description\": \"TFL Travel\", \"amount\": -663.95, \"currency\": \"GBP\", \"merchant\": \"TFL\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-20",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -1089.18, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -221.47, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -392.83, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-23",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -370.99, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -652.07, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 401.21, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 471.83, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -133.65, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -42.0, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 619.82, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 1061.66, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -616.07, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 257.68, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 266.17, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-28",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 394.26, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  }
]
2025-08-14 16:43:25,666 - app.services.bedrock_service - INFO - [extract_164248154] PDF extraction completed successfully - Transactions found: 45, Time: 37.512s
2025-08-14 16:43:25,667 - app.services.bedrock_service - INFO - [extract_164248154] Parsed transactions: [
  {
    "date": "2025-06-01",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -1253.63, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-01",
    "description": "{\"date\": \"\", \"description\": \"Amazon Web Services\", \"amount\": -494.93, \"currency\": \"GBP\", \"merchant\": \"Amazon Web Services\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -146.2, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-02",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 281.48, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -687.09, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-06",
    "description": "{\"date\": \"\", \"description\": \"Zoom Subscription\", \"amount\": -1380.44, \"currency\": \"GBP\", \"merchant\": \"Zoom\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": 214.51, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Client Refund\", \"amount\": 1003.31, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -1156.58, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-07",
    "description": "{\"date\": \"\", \"description\": \"TFL Travel\", \"amount\": -1470.87, \"currency\": \"GBP\", \"merchant\": \"TFL\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-08",
    "description": "{\"date\": \"\", \"description\": \"HMRC Payment\", \"amount\": -386.26, \"currency\": \"GBP\", \"merchant\": \"HMRC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Adobe CC\", \"amount\": -123.63, \"currency\": \"GBP\", \"merchant\": \"Adobe CC\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Github\", \"amount\": -888.7, \"currency\": \"GBP\", \"merchant\": \"Github\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"Github\", \"amount\": -1099.51, \"currency\": \"GBP\", \"merchant\": \"Github\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-09",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": 140.94, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -919.83, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-10",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 1377.52, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-12",
    "description": "{\"date\": \"\", \"description\": \"Freelancer Income\", \"amount\": 937.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-13",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -598.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -120.37, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -957.21, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-14",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 165.97, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-16",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 160.48, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-17",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 1325.16, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Amazon Web Services\", \"amount\": -1155.33, \"currency\": \"GBP\", \"merchant\": \"Amazon Web Services\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Late Fee\", \"amount\": -1495.34, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 122.51, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-18",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 1016.92, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -1013.75, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-19",
    "description": "{\"date\": \"\", \"description\": \"TFL Travel\", \"amount\": -663.95, \"currency\": \"GBP\", \"merchant\": \"TFL\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-20",
    "description": "{\"date\": \"\", \"description\": \"Costa Coffee\", \"amount\": -1089.18, \"currency\": \"GBP\", \"merchant\": \"Costa Coffee\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -221.47, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-22",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -392.83, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-23",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -370.99, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -652.07, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 401.21, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-24",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 471.83, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"Google Ads\", \"amount\": -133.65, \"currency\": \"GBP\", \"merchant\": \"Google Ads\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"PayPal Fee\", \"amount\": -42.0, \"currency\": \"GBP\", \"merchant\": \"PayPal\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"Stripe Payout\", \"amount\": 619.82, \"currency\": \"GBP\", \"merchant\": \"Stripe\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-25",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 1061.66, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"Account Maintenance Fee\", \"amount\": -616.07, \"currency\": \"GBP\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 257.68, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-26",
    "description": "{\"date\": \"\", \"description\": \"Upwork Ltd Payment\", \"amount\": 266.17, \"currency\": \"GBP\", \"merchant\": \"Upwork Ltd\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  },
  {
    "date": "2025-06-28",
    "description": "{\"date\": \"\", \"description\": \"TransferWise\", \"amount\": 394.26, \"currency\": \"GBP\", \"merchant\": \"TransferWise\"},",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  }
]
2025-08-14 16:43:25,667 - app.services.transaction_service - INFO - Transactions extracted from PDF: 45 found
2025-08-14 16:43:25,667 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-14 16:43:25,667 - app.services.bedrock_service - INFO - [classify_164325667] Starting transaction classification - Data: {'date': '2025-06-01', 'description': '{"date": "", "description": "Adobe CC", "amount": -1253.63, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:43:26,910 - app.services.bedrock_service - INFO - [classify_164325667] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work", "category": "software"}
2025-08-14 16:43:26,911 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}
2025-08-14 16:43:26,911 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-14 16:43:26,912 - app.services.bedrock_service - INFO - [classify_164325667] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}, Time: 1.244s
2025-08-14 16:43:26,912 - app.services.bedrock_service - INFO - [classify_164325667] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-14 16:43:26,939 - app.services.bedrock_service - INFO - [classify_164326939] Starting transaction classification - Data: {'date': '2025-06-01', 'description': '{"date": "", "description": "Amazon Web Services", "amount": -494.93, "currency": "GBP", "merchant": "Amazon Web Services"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:43:27,972 - app.services.bedrock_service - INFO - [classify_164326939] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Cloud computing services are a common business expense for freelancers and consultants", "category": "software"}
2025-08-14 16:43:27,973 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Cloud computing services are a common business expense for freelancers and consultants', 'category': 'software'}
2025-08-14 16:43:27,973 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Cloud computing services are a common business expense for freelancers and consultants",
  "category": "software"
}
2025-08-14 16:43:27,973 - app.services.bedrock_service - INFO - [classify_164326939] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Cloud computing services are a common business expense for freelancers and consultants', 'category': 'software'}, Time: 1.034s
2025-08-14 16:43:27,974 - app.services.bedrock_service - INFO - [classify_164326939] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Cloud computing services are a common business expense for freelancers and consultants",
  "category": "software"
}
2025-08-14 16:43:27,984 - app.services.bedrock_service - INFO - [classify_164327984] Starting transaction classification - Data: {'date': '2025-06-02', 'description': '{"date": "", "description": "PayPal Fee", "amount": -146.2, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:43:29,648 - app.services.bedrock_service - INFO - [classify_164327984] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.", "category": "business_fees"}
2025-08-14 16:43:29,648 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}
2025-08-14 16:43:29,648 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-14 16:43:29,648 - app.services.bedrock_service - INFO - [classify_164327984] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}, Time: 1.664s
2025-08-14 16:43:29,649 - app.services.bedrock_service - INFO - [classify_164327984] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-14 16:43:29,650 - app.services.bedrock_service - INFO - [classify_164329650] Starting transaction classification - Data: {'date': '2025-06-02', 'description': '{"date": "", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:43:30,905 - app.services.bedrock_service - INFO - [classify_164329650] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work", "category": "income"}
2025-08-14 16:43:30,906 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}
2025-08-14 16:43:30,906 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:43:30,907 - app.services.bedrock_service - INFO - [classify_164329650] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}, Time: 1.256s
2025-08-14 16:43:30,907 - app.services.bedrock_service - INFO - [classify_164329650] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:43:30,912 - app.services.bedrock_service - INFO - [classify_164330912] Starting transaction classification - Data: {'date': '2025-06-06', 'description': '{"date": "", "description": "Adobe CC", "amount": -687.09, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:43:32,211 - app.services.bedrock_service - INFO - [classify_164330912] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work", "category": "software"}
2025-08-14 16:43:32,211 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}
2025-08-14 16:43:32,211 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-14 16:43:32,211 - app.services.bedrock_service - INFO - [classify_164330912] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}, Time: 1.299s
2025-08-14 16:43:32,211 - app.services.bedrock_service - INFO - [classify_164330912] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-14 16:43:32,214 - app.services.bedrock_service - INFO - [classify_164332214] Starting transaction classification - Data: {'date': '2025-06-06', 'description': '{"date": "", "description": "Zoom Subscription", "amount": -1380.44, "currency": "GBP", "merchant": "Zoom"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:43:45,109 - app.services.bedrock_service - INFO - [classify_164332214] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Zoom subscription is a common business expense for freelancers and consultants for video conferencing and online meetings.", "category": "software"}
2025-08-14 16:43:45,109 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Zoom subscription is a common business expense for freelancers and consultants for video conferencing and online meetings.', 'category': 'software'}
2025-08-14 16:43:45,110 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Zoom subscription is a common business expense for freelancers and consultants for video conferencing and online meetings.",
  "category": "software"
}
2025-08-14 16:43:45,110 - app.services.bedrock_service - INFO - [classify_164332214] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Zoom subscription is a common business expense for freelancers and consultants for video conferencing and online meetings.', 'category': 'software'}, Time: 12.896s
2025-08-14 16:43:45,110 - app.services.bedrock_service - INFO - [classify_164332214] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Zoom subscription is a common business expense for freelancers and consultants for video conferencing and online meetings.",
  "category": "software"
}
2025-08-14 16:43:45,118 - app.services.bedrock_service - INFO - [classify_164345118] Starting transaction classification - Data: {'date': '2025-06-07', 'description': '{"date": "", "description": "Adobe CC", "amount": 214.51, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:43:51,572 - app.services.bedrock_service - INFO - [classify_164345118] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work", "category": "software"}
2025-08-14 16:43:51,573 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}
2025-08-14 16:43:51,573 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-14 16:43:51,573 - app.services.bedrock_service - INFO - [classify_164345118] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Adobe Creative Cloud subscription is commonly used by freelancers for work', 'category': 'software'}, Time: 6.455s
2025-08-14 16:43:51,573 - app.services.bedrock_service - INFO - [classify_164345118] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Adobe Creative Cloud subscription is commonly used by freelancers for work",
  "category": "software"
}
2025-08-14 16:43:51,575 - app.services.bedrock_service - INFO - [classify_164351575] Starting transaction classification - Data: {'date': '2025-06-07', 'description': '{"date": "", "description": "Client Refund", "amount": 1003.31, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:43:59,976 - app.services.bedrock_service - ERROR - [classify_164351575] Classification failed after 8.400s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:44:00,011 - app.services.bedrock_service - INFO - [classify_164400011] Starting transaction classification - Data: {'date': '2025-06-07', 'description': '{"date": "", "description": "Costa Coffee", "amount": -1156.58, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:44:03,134 - app.services.bedrock_service - INFO - [classify_164400011] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.9, "reasoning": "Coffee purchase from a cafe is typically a personal expense", "category": "meals"}
2025-08-14 16:44:03,135 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Coffee purchase from a cafe is typically a personal expense', 'category': 'meals'}
2025-08-14 16:44:03,136 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Coffee purchase from a cafe is typically a personal expense",
  "category": "meals"
}
2025-08-14 16:44:03,136 - app.services.bedrock_service - INFO - [classify_164400011] Classification completed successfully - Result: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Coffee purchase from a cafe is typically a personal expense', 'category': 'meals'}, Time: 3.125s
2025-08-14 16:44:03,137 - app.services.bedrock_service - INFO - [classify_164400011] Parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Coffee purchase from a cafe is typically a personal expense",
  "category": "meals"
}
2025-08-14 16:44:03,145 - app.services.bedrock_service - INFO - [classify_164403145] Starting transaction classification - Data: {'date': '2025-06-07', 'description': '{"date": "", "description": "TFL Travel", "amount": -1470.87, "currency": "GBP", "merchant": "TFL"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:44:11,124 - app.services.bedrock_service - ERROR - [classify_164403145] Classification failed after 7.979s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:44:11,131 - app.services.bedrock_service - INFO - [classify_164411131] Starting transaction classification - Data: {'date': '2025-06-08', 'description': '{"date": "", "description": "HMRC Payment", "amount": -386.26, "currency": "GBP", "merchant": "HMRC"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:44:17,929 - app.services.bedrock_service - INFO - [classify_164411131] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payment to HMRC (UK tax authority) is likely a business expense for self-employment taxes or VAT", "category": "taxes"}
2025-08-14 16:44:17,930 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payment to HMRC (UK tax authority) is likely a business expense for self-employment taxes or VAT', 'category': 'taxes'}
2025-08-14 16:44:17,931 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment to HMRC (UK tax authority) is likely a business expense for self-employment taxes or VAT",
  "category": "taxes"
}
2025-08-14 16:44:17,931 - app.services.bedrock_service - INFO - [classify_164411131] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payment to HMRC (UK tax authority) is likely a business expense for self-employment taxes or VAT', 'category': 'taxes'}, Time: 6.800s
2025-08-14 16:44:17,931 - app.services.bedrock_service - INFO - [classify_164411131] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment to HMRC (UK tax authority) is likely a business expense for self-employment taxes or VAT",
  "category": "taxes"
}
2025-08-14 16:44:17,957 - app.services.bedrock_service - INFO - [classify_164417957] Starting transaction classification - Data: {'date': '2025-06-09', 'description': '{"date": "", "description": "Adobe CC", "amount": -123.63, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:44:24,604 - app.services.bedrock_service - ERROR - [classify_164417957] Classification failed after 6.646s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:44:24,615 - app.services.bedrock_service - INFO - [classify_164424615] Starting transaction classification - Data: {'date': '2025-06-09', 'description': '{"date": "", "description": "Github", "amount": -888.7, "currency": "GBP", "merchant": "Github"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:44:27,832 - app.services.bedrock_service - INFO - [classify_164424615] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "GitHub is a platform for hosting and collaborating on code repositories, which is essential for software development work.", "category": "software"}
2025-08-14 16:44:27,833 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'GitHub is a platform for hosting and collaborating on code repositories, which is essential for software development work.', 'category': 'software'}
2025-08-14 16:44:27,833 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "GitHub is a platform for hosting and collaborating on code repositories, which is essential for software development work.",
  "category": "software"
}
2025-08-14 16:44:27,833 - app.services.bedrock_service - INFO - [classify_164424615] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'GitHub is a platform for hosting and collaborating on code repositories, which is essential for software development work.', 'category': 'software'}, Time: 3.218s
2025-08-14 16:44:27,833 - app.services.bedrock_service - INFO - [classify_164424615] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "GitHub is a platform for hosting and collaborating on code repositories, which is essential for software development work.",
  "category": "software"
}
2025-08-14 16:44:27,837 - app.services.bedrock_service - INFO - [classify_164427837] Starting transaction classification - Data: {'date': '2025-06-09', 'description': '{"date": "", "description": "Github", "amount": -1099.51, "currency": "GBP", "merchant": "Github"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:44:35,176 - app.services.bedrock_service - ERROR - [classify_164427837] Classification failed after 7.339s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:44:35,192 - app.services.bedrock_service - INFO - [classify_164435192] Starting transaction classification - Data: {'date': '2025-06-09', 'description': '{"date": "", "description": "PayPal Fee", "amount": 140.94, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:44:42,731 - app.services.bedrock_service - INFO - [classify_164435192] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.", "category": "business_fees"}
2025-08-14 16:44:42,734 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}
2025-08-14 16:44:42,735 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-14 16:44:42,735 - app.services.bedrock_service - INFO - [classify_164435192] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}, Time: 7.542s
2025-08-14 16:44:42,735 - app.services.bedrock_service - INFO - [classify_164435192] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-14 16:44:42,753 - app.services.bedrock_service - INFO - [classify_164442753] Starting transaction classification - Data: {'date': '2025-06-10', 'description': '{"date": "", "description": "Google Ads", "amount": -919.83, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:44:51,412 - app.services.bedrock_service - INFO - [classify_164442753] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and customer acquisition.", "category": "advertising"}
2025-08-14 16:44:51,414 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by businesses for marketing and customer acquisition.', 'category': 'advertising'}
2025-08-14 16:44:51,415 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and customer acquisition.",
  "category": "advertising"
}
2025-08-14 16:44:51,415 - app.services.bedrock_service - INFO - [classify_164442753] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by businesses for marketing and customer acquisition.', 'category': 'advertising'}, Time: 8.661s
2025-08-14 16:44:51,415 - app.services.bedrock_service - INFO - [classify_164442753] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and customer acquisition.",
  "category": "advertising"
}
2025-08-14 16:44:51,469 - app.services.bedrock_service - INFO - [classify_164451469] Starting transaction classification - Data: {'date': '2025-06-10', 'description': '{"date": "", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:45:04,609 - app.services.bedrock_service - INFO - [classify_164451469] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are typically for business income from freelance or consulting work", "category": "income"}
2025-08-14 16:45:04,611 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelance or consulting work', 'category': 'income'}
2025-08-14 16:45:04,612 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelance or consulting work",
  "category": "income"
}
2025-08-14 16:45:04,612 - app.services.bedrock_service - INFO - [classify_164451469] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelance or consulting work', 'category': 'income'}, Time: 13.143s
2025-08-14 16:45:04,613 - app.services.bedrock_service - INFO - [classify_164451469] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelance or consulting work",
  "category": "income"
}
2025-08-14 16:45:04,629 - app.services.bedrock_service - INFO - [classify_164504629] Starting transaction classification - Data: {'date': '2025-06-12', 'description': '{"date": "", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:45:08,092 - app.services.bedrock_service - ERROR - [classify_164504629] Classification failed after 3.463s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:45:08,134 - app.services.bedrock_service - INFO - [classify_164508134] Starting transaction classification - Data: {'date': '2025-06-13', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -598.34, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:45:10,952 - app.services.bedrock_service - ERROR - [classify_164508134] Classification failed after 2.815s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:45:11,023 - app.services.bedrock_service - INFO - [classify_164511023] Starting transaction classification - Data: {'date': '2025-06-14', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -120.37, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:45:14,866 - app.services.bedrock_service - INFO - [classify_164511023] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Account maintenance fees are typically business expenses for freelancers and consultants.", "category": "banking_fees"}
2025-08-14 16:45:14,872 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Account maintenance fees are typically business expenses for freelancers and consultants.', 'category': 'banking_fees'}
2025-08-14 16:45:14,873 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Account maintenance fees are typically business expenses for freelancers and consultants.",
  "category": "banking_fees"
}
2025-08-14 16:45:14,873 - app.services.bedrock_service - INFO - [classify_164511023] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Account maintenance fees are typically business expenses for freelancers and consultants.', 'category': 'banking_fees'}, Time: 3.849s
2025-08-14 16:45:14,873 - app.services.bedrock_service - INFO - [classify_164511023] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Account maintenance fees are typically business expenses for freelancers and consultants.",
  "category": "banking_fees"
}
2025-08-14 16:45:14,901 - app.services.bedrock_service - INFO - [classify_164514901] Starting transaction classification - Data: {'date': '2025-06-14', 'description': '{"date": "", "description": "Costa Coffee", "amount": -957.21, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:45:19,092 - app.services.bedrock_service - ERROR - [classify_164514901] Classification failed after 4.191s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:45:19,095 - app.services.bedrock_service - INFO - [classify_164519095] Starting transaction classification - Data: {'date': '2025-06-14', 'description': '{"date": "", "description": "Stripe Payout", "amount": 165.97, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:45:27,820 - app.services.bedrock_service - INFO - [classify_164519095] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work", "category": "income"}
2025-08-14 16:45:27,821 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}
2025-08-14 16:45:27,822 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:45:27,823 - app.services.bedrock_service - INFO - [classify_164519095] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}, Time: 8.727s
2025-08-14 16:45:27,823 - app.services.bedrock_service - INFO - [classify_164519095] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:45:27,891 - app.services.bedrock_service - INFO - [classify_164527891] Starting transaction classification - Data: {'date': '2025-06-16', 'description': '{"date": "", "description": "TransferWise", "amount": 160.48, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:45:34,721 - app.services.bedrock_service - ERROR - [classify_164527891] Classification failed after 6.830s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:45:34,729 - app.services.bedrock_service - INFO - [classify_164534729] Starting transaction classification - Data: {'date': '2025-06-17', 'description': '{"date": "", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:45:39,915 - app.services.bedrock_service - INFO - [classify_164534729] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work", "category": "income"}
2025-08-14 16:45:39,915 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}
2025-08-14 16:45:39,915 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:45:39,916 - app.services.bedrock_service - INFO - [classify_164534729] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}, Time: 5.187s
2025-08-14 16:45:39,917 - app.services.bedrock_service - INFO - [classify_164534729] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:45:39,925 - app.services.bedrock_service - INFO - [classify_164539924] Starting transaction classification - Data: {'date': '2025-06-18', 'description': '{"date": "", "description": "Amazon Web Services", "amount": -1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:45:46,693 - app.services.bedrock_service - ERROR - [classify_164539924] Classification failed after 6.768s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:45:46,705 - app.services.bedrock_service - INFO - [classify_164546705] Starting transaction classification - Data: {'date': '2025-06-18', 'description': '{"date": "", "description": "Late Fee", "amount": -1495.34, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:45:52,487 - app.services.bedrock_service - INFO - [classify_164546705] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.9, "reasoning": "Late fees are typically personal expenses related to missed payments or penalties.", "category": "fees"}
2025-08-14 16:45:52,488 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Late fees are typically personal expenses related to missed payments or penalties.', 'category': 'fees'}
2025-08-14 16:45:52,489 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Late fees are typically personal expenses related to missed payments or penalties.",
  "category": "fees"
}
2025-08-14 16:45:52,489 - app.services.bedrock_service - INFO - [classify_164546705] Classification completed successfully - Result: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Late fees are typically personal expenses related to missed payments or penalties.', 'category': 'fees'}, Time: 5.784s
2025-08-14 16:45:52,490 - app.services.bedrock_service - INFO - [classify_164546705] Parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Late fees are typically personal expenses related to missed payments or penalties.",
  "category": "fees"
}
2025-08-14 16:45:52,496 - app.services.bedrock_service - INFO - [classify_164552496] Starting transaction classification - Data: {'date': '2025-06-18', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 122.51, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:45:58,111 - app.services.bedrock_service - ERROR - [classify_164552496] Classification failed after 5.615s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:45:58,129 - app.services.bedrock_service - INFO - [classify_164558129] Starting transaction classification - Data: {'date': '2025-06-18', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:46:04,172 - app.services.bedrock_service - INFO - [classify_164558129] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Payment received from Upwork for freelance work", "category": "income"}
2025-08-14 16:46:04,173 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payment received from Upwork for freelance work', 'category': 'income'}
2025-08-14 16:46:04,173 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment received from Upwork for freelance work",
  "category": "income"
}
2025-08-14 16:46:04,173 - app.services.bedrock_service - INFO - [classify_164558129] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Payment received from Upwork for freelance work', 'category': 'income'}, Time: 6.044s
2025-08-14 16:46:04,174 - app.services.bedrock_service - INFO - [classify_164558129] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Payment received from Upwork for freelance work",
  "category": "income"
}
2025-08-14 16:46:04,180 - app.services.bedrock_service - INFO - [classify_164604180] Starting transaction classification - Data: {'date': '2025-06-19', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -1013.75, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:46:13,180 - app.services.bedrock_service - ERROR - [classify_164604180] Classification failed after 8.999s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:46:13,204 - app.services.bedrock_service - INFO - [classify_164613204] Starting transaction classification - Data: {'date': '2025-06-19', 'description': '{"date": "", "description": "TFL Travel", "amount": -663.95, "currency": "GBP", "merchant": "TFL"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:46:16,269 - app.services.bedrock_service - INFO - [classify_164613204] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Travel expense for business-related transportation", "category": "travel"}
2025-08-14 16:46:16,270 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Travel expense for business-related transportation', 'category': 'travel'}
2025-08-14 16:46:16,271 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Travel expense for business-related transportation",
  "category": "travel"
}
2025-08-14 16:46:16,272 - app.services.bedrock_service - INFO - [classify_164613204] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Travel expense for business-related transportation', 'category': 'travel'}, Time: 3.067s
2025-08-14 16:46:16,272 - app.services.bedrock_service - INFO - [classify_164613204] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Travel expense for business-related transportation",
  "category": "travel"
}
2025-08-14 16:46:16,278 - app.services.bedrock_service - INFO - [classify_164616278] Starting transaction classification - Data: {'date': '2025-06-20', 'description': '{"date": "", "description": "Costa Coffee", "amount": -1089.18, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:46:25,822 - app.services.bedrock_service - ERROR - [classify_164616278] Classification failed after 9.543s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:46:25,828 - app.services.bedrock_service - INFO - [classify_164625828] Starting transaction classification - Data: {'date': '2025-06-22', 'description': '{"date": "", "description": "Google Ads", "amount": -221.47, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:46:30,780 - app.services.bedrock_service - INFO - [classify_164625828] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising platform used by freelancers and businesses for marketing and client acquisition.", "category": "advertising"}
2025-08-14 16:46:30,781 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by freelancers and businesses for marketing and client acquisition.', 'category': 'advertising'}
2025-08-14 16:46:30,782 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by freelancers and businesses for marketing and client acquisition.",
  "category": "advertising"
}
2025-08-14 16:46:30,782 - app.services.bedrock_service - INFO - [classify_164625828] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by freelancers and businesses for marketing and client acquisition.', 'category': 'advertising'}, Time: 4.954s
2025-08-14 16:46:30,783 - app.services.bedrock_service - INFO - [classify_164625828] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by freelancers and businesses for marketing and client acquisition.",
  "category": "advertising"
}
2025-08-14 16:46:30,789 - app.services.bedrock_service - INFO - [classify_164630789] Starting transaction classification - Data: {'date': '2025-06-22', 'description': '{"date": "", "description": "Google Ads", "amount": -392.83, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:46:44,625 - app.services.bedrock_service - INFO - [classify_164630789] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.", "category": "advertising"}
2025-08-14 16:46:44,629 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by businesses for marketing and promotion.', 'category': 'advertising'}
2025-08-14 16:46:44,630 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.",
  "category": "advertising"
}
2025-08-14 16:46:44,631 - app.services.bedrock_service - INFO - [classify_164630789] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by businesses for marketing and promotion.', 'category': 'advertising'}, Time: 13.840s
2025-08-14 16:46:44,631 - app.services.bedrock_service - INFO - [classify_164630789] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.",
  "category": "advertising"
}
2025-08-14 16:46:44,649 - app.services.bedrock_service - INFO - [classify_164644649] Starting transaction classification - Data: {'date': '2025-06-23', 'description': '{"date": "", "description": "PayPal Fee", "amount": -370.99, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:46:49,249 - app.services.bedrock_service - ERROR - [classify_164644649] Classification failed after 4.600s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:46:49,257 - app.services.bedrock_service - INFO - [classify_164649257] Starting transaction classification - Data: {'date': '2025-06-24', 'description': '{"date": "", "description": "Google Ads", "amount": -652.07, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:46:54,093 - app.services.bedrock_service - INFO - [classify_164649257] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.", "category": "advertising"}
2025-08-14 16:46:54,094 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by businesses for marketing and promotion.', 'category': 'advertising'}
2025-08-14 16:46:54,095 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.",
  "category": "advertising"
}
2025-08-14 16:46:54,096 - app.services.bedrock_service - INFO - [classify_164649257] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by businesses for marketing and promotion.', 'category': 'advertising'}, Time: 4.838s
2025-08-14 16:46:54,096 - app.services.bedrock_service - INFO - [classify_164649257] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by businesses for marketing and promotion.",
  "category": "advertising"
}
2025-08-14 16:46:54,103 - app.services.bedrock_service - INFO - [classify_164654103] Starting transaction classification - Data: {'date': '2025-06-24', 'description': '{"date": "", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:47:05,663 - app.services.bedrock_service - INFO - [classify_164654103] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work", "category": "income"}
2025-08-14 16:47:05,664 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}
2025-08-14 16:47:05,664 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:47:05,665 - app.services.bedrock_service - INFO - [classify_164654103] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}, Time: 11.561s
2025-08-14 16:47:05,665 - app.services.bedrock_service - INFO - [classify_164654103] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:47:05,670 - app.services.bedrock_service - INFO - [classify_164705670] Starting transaction classification - Data: {'date': '2025-06-24', 'description': '{"date": "", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:47:18,209 - app.services.bedrock_service - INFO - [classify_164705670] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work", "category": "income"}
2025-08-14 16:47:18,211 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}
2025-08-14 16:47:18,212 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:47:18,213 - app.services.bedrock_service - INFO - [classify_164705670] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}, Time: 12.542s
2025-08-14 16:47:18,213 - app.services.bedrock_service - INFO - [classify_164705670] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:47:18,225 - app.services.bedrock_service - INFO - [classify_164718225] Starting transaction classification - Data: {'date': '2025-06-25', 'description': '{"date": "", "description": "Google Ads", "amount": -133.65, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:47:32,445 - app.services.bedrock_service - INFO - [classify_164718225] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Google Ads is a common advertising platform used by freelancers and businesses for marketing purposes", "category": "advertising"}
2025-08-14 16:47:32,446 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by freelancers and businesses for marketing purposes', 'category': 'advertising'}
2025-08-14 16:47:32,447 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by freelancers and businesses for marketing purposes",
  "category": "advertising"
}
2025-08-14 16:47:32,448 - app.services.bedrock_service - INFO - [classify_164718225] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Google Ads is a common advertising platform used by freelancers and businesses for marketing purposes', 'category': 'advertising'}, Time: 14.222s
2025-08-14 16:47:32,448 - app.services.bedrock_service - INFO - [classify_164718225] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Google Ads is a common advertising platform used by freelancers and businesses for marketing purposes",
  "category": "advertising"
}
2025-08-14 16:47:32,455 - app.services.bedrock_service - INFO - [classify_164732455] Starting transaction classification - Data: {'date': '2025-06-25', 'description': '{"date": "", "description": "PayPal Fee", "amount": -42.0, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:47:45,855 - app.services.bedrock_service - INFO - [classify_164732455] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.", "category": "business_fees"}
2025-08-14 16:47:45,856 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}
2025-08-14 16:47:45,857 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-14 16:47:45,857 - app.services.bedrock_service - INFO - [classify_164732455] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'PayPal fees are typically associated with receiving payments for freelance work or business transactions.', 'category': 'business_fees'}, Time: 13.402s
2025-08-14 16:47:45,858 - app.services.bedrock_service - INFO - [classify_164732455] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "PayPal fees are typically associated with receiving payments for freelance work or business transactions.",
  "category": "business_fees"
}
2025-08-14 16:47:45,864 - app.services.bedrock_service - INFO - [classify_164745864] Starting transaction classification - Data: {'date': '2025-06-25', 'description': '{"date": "", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:47:55,813 - app.services.bedrock_service - INFO - [classify_164745864] Raw Bedrock text response:
{"classification": "business", "confidence": 0.95, "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work", "category": "income"}
2025-08-14 16:47:55,814 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}
2025-08-14 16:47:55,815 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:47:55,815 - app.services.bedrock_service - INFO - [classify_164745864] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.95, 'reasoning': 'Stripe payouts are typically for business income from freelancing or consulting work', 'category': 'income'}, Time: 9.951s
2025-08-14 16:47:55,816 - app.services.bedrock_service - INFO - [classify_164745864] Parsed result: {
  "classification": "business",
  "confidence": 0.95,
  "reasoning": "Stripe payouts are typically for business income from freelancing or consulting work",
  "category": "income"
}
2025-08-14 16:47:55,821 - app.services.bedrock_service - INFO - [classify_164755821] Starting transaction classification - Data: {'date': '2025-06-25', 'description': '{"date": "", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:47:58,718 - app.services.bedrock_service - ERROR - [classify_164755821] Classification failed after 2.896s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:47:58,726 - app.services.bedrock_service - INFO - [classify_164758726] Starting transaction classification - Data: {'date': '2025-06-26', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -616.07, "currency": "GBP"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:48:05,901 - app.services.bedrock_service - INFO - [classify_164758726] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.9, "reasoning": "Account maintenance fees are typically personal banking fees", "category": "banking_fees"}
2025-08-14 16:48:05,902 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Account maintenance fees are typically personal banking fees', 'category': 'banking_fees'}
2025-08-14 16:48:05,903 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Account maintenance fees are typically personal banking fees",
  "category": "banking_fees"
}
2025-08-14 16:48:05,904 - app.services.bedrock_service - INFO - [classify_164758726] Classification completed successfully - Result: {'classification': 'personal', 'confidence': 0.9, 'reasoning': 'Account maintenance fees are typically personal banking fees', 'category': 'banking_fees'}, Time: 7.177s
2025-08-14 16:48:05,904 - app.services.bedrock_service - INFO - [classify_164758726] Parsed result: {
  "classification": "personal",
  "confidence": 0.9,
  "reasoning": "Account maintenance fees are typically personal banking fees",
  "category": "banking_fees"
}
2025-08-14 16:48:05,918 - app.services.bedrock_service - INFO - [classify_164805917] Starting transaction classification - Data: {'date': '2025-06-26', 'description': '{"date": "", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:48:11,078 - app.services.bedrock_service - ERROR - [classify_164805917] Classification failed after 5.160s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:48:11,084 - app.services.bedrock_service - INFO - [classify_164811084] Starting transaction classification - Data: {'date': '2025-06-26', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:48:13,616 - app.services.bedrock_service - ERROR - [classify_164811084] Classification failed after 2.532s: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
Traceback (most recent call last):
  File "/app/app/services/bedrock_service.py", line 57, in classify_transaction
    response = self.client.invoke_model(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 565, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/botocore/client.py", line 1017, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ThrottlingException: An error occurred (ThrottlingException) when calling the InvokeModel operation (reached max retries: 4): Too many requests, please wait before trying again.
2025-08-14 16:48:13,624 - app.services.bedrock_service - INFO - [classify_164813624] Starting transaction classification - Data: {'date': '2025-06-28', 'description': '{"date": "", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-14 16:48:16,191 - app.services.bedrock_service - INFO - [classify_164813624] Raw Bedrock text response:
{"classification": "personal", "confidence": 0.8, "reasoning": "TransferWise is a money transfer service, likely for personal use", "category": "money_transfer"}
2025-08-14 16:48:16,192 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'personal', 'confidence': 0.8, 'reasoning': 'TransferWise is a money transfer service, likely for personal use', 'category': 'money_transfer'}
2025-08-14 16:48:16,192 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service, likely for personal use",
  "category": "money_transfer"
}
2025-08-14 16:48:16,192 - app.services.bedrock_service - INFO - [classify_164813624] Classification completed successfully - Result: {'classification': 'personal', 'confidence': 0.8, 'reasoning': 'TransferWise is a money transfer service, likely for personal use', 'category': 'money_transfer'}, Time: 2.568s
2025-08-14 16:48:16,193 - app.services.bedrock_service - INFO - [classify_164813624] Parsed result: {
  "classification": "personal",
  "confidence": 0.8,
  "reasoning": "TransferWise is a money transfer service, likely for personal use",
  "category": "money_transfer"
}
2025-08-14 16:48:16,201 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 45, Errors: 0, Time: 328.06s
2025-08-14 16:48:16,202 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] PDF processing completed - Result: {'processed_count': 45, 'transactions': [{'id': 'bbb0ddc5-c210-4fe0-a8d8-8ab9fd324b93', 'date': '2025-06-01', 'description': '{"date": "", "description": "Adobe CC", "amount": -1253.63, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software'}, {'id': '95160ffb-fe47-4147-b9f7-91f03bfcf1b6', 'date': '2025-06-01', 'description': '{"date": "", "description": "Amazon Web Services", "amount": -494.93, "currency": "GBP", "merchant": "Amazon Web Services"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'software'}, {'id': '5bef95cb-dd9e-49bb-835a-cb51e7846ff2', 'date': '2025-06-02', 'description': '{"date": "", "description": "PayPal Fee", "amount": -146.2, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'business_fees'}, {'id': '8901f891-9963-415e-b480-3326c5117e43', 'date': '2025-06-02', 'description': '{"date": "", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': 'df5d633a-8419-4b1a-8022-26184feef937', 'date': '2025-06-06', 'description': '{"date": "", "description": "Adobe CC", "amount": -687.09, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software'}, {'id': '0059a8e0-54f3-4c92-9e8d-f24b99fcc516', 'date': '2025-06-06', 'description': '{"date": "", "description": "Zoom Subscription", "amount": -1380.44, "currency": "GBP", "merchant": "Zoom"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'software'}, {'id': 'a5ae3fbf-e8c4-4939-bd2d-4d7b564011b4', 'date': '2025-06-07', 'description': '{"date": "", "description": "Adobe CC", "amount": 214.51, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software'}, {'id': '89895db5-8d69-44d0-918c-1edf5c85ec1a', 'date': '2025-06-07', 'description': '{"date": "", "description": "Client Refund", "amount": 1003.31, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '15f11386-3668-466e-b7c1-02bbd65aec69', 'date': '2025-06-07', 'description': '{"date": "", "description": "Costa Coffee", "amount": -1156.58, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.9, 'category': 'meals'}, {'id': 'de6c1aaf-3e6a-49aa-b313-5923405dcd7b', 'date': '2025-06-07', 'description': '{"date": "", "description": "TFL Travel", "amount": -1470.87, "currency": "GBP", "merchant": "TFL"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '4b74fcff-ad24-48dd-8029-69deba5df562', 'date': '2025-06-08', 'description': '{"date": "", "description": "HMRC Payment", "amount": -386.26, "currency": "GBP", "merchant": "HMRC"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'taxes'}, {'id': 'a871aa79-47a5-48e9-b285-24085748be53', 'date': '2025-06-09', 'description': '{"date": "", "description": "Adobe CC", "amount": -123.63, "currency": "GBP", "merchant": "Adobe CC"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '797974cc-ce2e-4f3d-8e1f-3ba52196370a', 'date': '2025-06-09', 'description': '{"date": "", "description": "Github", "amount": -888.7, "currency": "GBP", "merchant": "Github"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'software'}, {'id': '56a727d1-b3fa-4102-abc7-735aea1d1b28', 'date': '2025-06-09', 'description': '{"date": "", "description": "Github", "amount": -1099.51, "currency": "GBP", "merchant": "Github"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '8db3a3fc-921c-449c-b951-f1b1d9917633', 'date': '2025-06-09', 'description': '{"date": "", "description": "PayPal Fee", "amount": 140.94, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'business_fees'}, {'id': 'a78a9040-4236-4339-aa2f-c89d317f31fe', 'date': '2025-06-10', 'description': '{"date": "", "description": "Google Ads", "amount": -919.83, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'advertising'}, {'id': 'ee30e3d9-cc6f-45b3-803e-08d5c7c66db2', 'date': '2025-06-10', 'description': '{"date": "", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '49382525-e171-4862-a315-72e5d9f3d77b', 'date': '2025-06-12', 'description': '{"date": "", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '54e550b7-d9ee-4db9-9a18-0e0b0dd31677', 'date': '2025-06-13', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -598.34, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '93ea01ae-b88a-4ed9-818d-4163a7bfd478', 'date': '2025-06-14', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -120.37, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'banking_fees'}, {'id': 'ea310205-c968-4e6a-96b1-1dac06d6d5ad', 'date': '2025-06-14', 'description': '{"date": "", "description": "Costa Coffee", "amount": -957.21, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '68c8153d-acee-439c-b9cc-8711b94c2be1', 'date': '2025-06-14', 'description': '{"date": "", "description": "Stripe Payout", "amount": 165.97, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '563dfcde-3804-41d4-b5bd-bdda528b7f2b', 'date': '2025-06-16', 'description': '{"date": "", "description": "TransferWise", "amount": 160.48, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'a3e0f638-9b1b-41da-b601-e692ca4cc85a', 'date': '2025-06-17', 'description': '{"date": "", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '7592beb3-7a91-4b70-ab9a-afcf28763fcd', 'date': '2025-06-18', 'description': '{"date": "", "description": "Amazon Web Services", "amount": -1155.33, "currency": "GBP", "merchant": "Amazon Web Services"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': 'a4b3d1ed-d0fd-4744-b28c-5bdf4d2e29e5', 'date': '2025-06-18', 'description': '{"date": "", "description": "Late Fee", "amount": -1495.34, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.9, 'category': 'fees'}, {'id': '14f720c8-bcfc-4eeb-92da-b9e8add85ebb', 'date': '2025-06-18', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 122.51, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '40bc68c3-1f20-43af-b542-87db0226a97f', 'date': '2025-06-18', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '1b3b401c-b59d-4397-a625-a1a3a83ef270', 'date': '2025-06-19', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -1013.75, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '9dfe401f-8559-45f5-b6ce-28090bc0c13e', 'date': '2025-06-19', 'description': '{"date": "", "description": "TFL Travel", "amount": -663.95, "currency": "GBP", "merchant": "TFL"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'travel'}, {'id': '22edbe39-3fdf-4634-b4d7-a4f8cff68e23', 'date': '2025-06-20', 'description': '{"date": "", "description": "Costa Coffee", "amount": -1089.18, "currency": "GBP", "merchant": "Costa Coffee"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '7794de35-a498-477f-b823-e5efffe634c8', 'date': '2025-06-22', 'description': '{"date": "", "description": "Google Ads", "amount": -221.47, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'advertising'}, {'id': 'f2587ac8-716d-49dd-96d0-bc158798dd6a', 'date': '2025-06-22', 'description': '{"date": "", "description": "Google Ads", "amount": -392.83, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'advertising'}, {'id': '3cd3bd21-11c2-434f-be7c-78a74c669e1f', 'date': '2025-06-23', 'description': '{"date": "", "description": "PayPal Fee", "amount": -370.99, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '116dd865-9cd6-4238-b8bb-9b15874bf582', 'date': '2025-06-24', 'description': '{"date": "", "description": "Google Ads", "amount": -652.07, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'advertising'}, {'id': 'd5de54ae-f00e-4e3a-a765-987c69d0e01d', 'date': '2025-06-24', 'description': '{"date": "", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': '1f60df9f-6cb4-473c-a946-0d97b605258f', 'date': '2025-06-24', 'description': '{"date": "", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': 'eedc381e-ac1c-46da-af45-5dead1f6aa3a', 'date': '2025-06-25', 'description': '{"date": "", "description": "Google Ads", "amount": -133.65, "currency": "GBP", "merchant": "Google Ads"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'advertising'}, {'id': 'c4c5da20-d222-4eaf-bc5e-9bec60276dc6', 'date': '2025-06-25', 'description': '{"date": "", "description": "PayPal Fee", "amount": -42.0, "currency": "GBP", "merchant": "PayPal"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'business_fees'}, {'id': '93c2d3a5-f270-4f5c-84e3-cb0a921e332e', 'date': '2025-06-25', 'description': '{"date": "", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"},', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.95, 'category': 'income'}, {'id': 'e52f1ee3-ce9c-463d-83b1-2d8919d84c68', 'date': '2025-06-25', 'description': '{"date": "", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '21cf97ca-5e5b-4b7c-a9fb-97c51be8e083', 'date': '2025-06-26', 'description': '{"date": "", "description": "Account Maintenance Fee", "amount": -616.07, "currency": "GBP"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.9, 'category': 'banking_fees'}, {'id': '9413a5f7-8b4a-49ec-b320-cbf326cd5d36', 'date': '2025-06-26', 'description': '{"date": "", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '460560b6-b91d-46c4-964d-2c2fc79f4945', 'date': '2025-06-26', 'description': '{"date": "", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork Ltd"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.0, 'category': 'unknown'}, {'id': '42817ead-592b-43b1-badd-e3b84b2b99ae', 'date': '2025-06-28', 'description': '{"date": "", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"},', 'amount': 2025.0, 'classification': 'personal', 'confidence': 0.8, 'category': 'money_transfer'}], 'errors': [], 'processing_time': 328.060111}
2025-08-14 16:48:16,203 - app.api.transactions - INFO - [upload_20250814_164248_8b43cd5c] File processing completed successfully - Processing time: 328.06s, Transactions processed: 45
2025-08-14 16:48:16,323 - app.main - INFO - 🛑 Application shutting down...
2025-08-14 16:48:17,244 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-14 16:48:17,259 - app.main - INFO - Database tables created/verified
2025-08-14 16:48:17,259 - app.main - INFO - CORS middleware configured
2025-08-14 16:48:17,262 - app.main - INFO - API routers included
2025-08-14 16:48:17,263 - app.main - INFO - 🚀 Application starting up...
2025-08-14 16:48:17,263 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-14 16:48:17,263 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-14 16:48:17,263 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-14 16:48:17,264 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-14 16:48:17,264 - app.main - INFO - ✅ Application startup complete
2025-08-15 12:06:25,681 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 12:06:28,243 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 12:06:28,281 - app.main - INFO - Database tables created/verified
2025-08-15 12:06:28,281 - app.main - INFO - CORS middleware configured
2025-08-15 12:06:28,285 - app.main - INFO - API routers included
2025-08-15 12:06:28,285 - app.main - INFO - 🚀 Application starting up...
2025-08-15 12:06:28,286 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 12:06:28,286 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 12:06:28,286 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 12:06:28,286 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 12:06:28,286 - app.main - INFO - ✅ Application startup complete
2025-08-15 12:07:09,282 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 12:07:09,488 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 12:07:17,840 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 12:07:17,842 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 12:07:33,176 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] Starting file upload - User: 8b43cd5c-1bfc-4483-ab59-423b6ad0abf2, File: Freelancer_Bank_Statement_June_2025.pdf, Size: 4422 bytes
2025-08-15 12:07:33,176 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] Validating file type: Freelancer_Bank_Statement_June_2025.pdf
2025-08-15 12:07:33,177 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] File type validation passed
2025-08-15 12:07:33,177 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] Reading file content for size validation
2025-08-15 12:07:33,177 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] File content read - Size: 4422 bytes
2025-08-15 12:07:33,177 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] File size validation passed
2025-08-15 12:07:33,178 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] Initializing services
2025-08-15 12:07:33,178 - app.services.bedrock_service - INFO - Initializing Bedrock service
2025-08-15 12:07:33,184 - app.services.bedrock_service - INFO - Bedrock service initialized successfully - Model: anthropic.claude-3-sonnet-20240229-v1:0, Region: us-east-1
2025-08-15 12:07:33,185 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] Services initialized successfully
2025-08-15 12:07:33,185 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] Processing file with extension: pdf
2025-08-15 12:07:33,186 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] Processing PDF file
2025-08-15 12:07:33,186 - app.services.transaction_service - INFO - Starting PDF processing for user 8b43cd5c-1bfc-4483-ab59-423b6ad0abf2
2025-08-15 12:07:33,186 - app.services.transaction_service - INFO - Extracting text from PDF
2025-08-15 12:07:33,187 - app.services.transaction_service - INFO - Extracting text from PDF content
2025-08-15 12:07:33,189 - app.services.transaction_service - INFO - PDF has 3 pages
2025-08-15 12:07:33,195 - app.services.transaction_service - INFO - PDF text extraction completed - Total length: 2223 characters
2025-08-15 12:07:33,196 - app.services.transaction_service - INFO - PDF text extracted - Length: 2223 characters
2025-08-15 12:07:33,196 - app.services.transaction_service - INFO - Extracting transactions from PDF text using Bedrock
2025-08-15 12:07:33,196 - app.services.bedrock_service - INFO - [extract_120733196] Starting PDF transaction extraction - Text length: 2223 characters
2025-08-15 12:08:08,486 - app.services.bedrock_service - INFO - [extract_120733196] Raw Bedrock text response:
[{"date": "2025-06-01", "description": "Adobe CC", "amount": -1253.63, "currency": "GBP", "merchant": "Adobe"}, {"date": "2025-06-01", "description": "Amazon Web Services", "amount": -494.93, "currency": "GBP", "merchant": "Amazon Web Services"}, {"date": "2025-06-02", "description": "PayPal Fee", "amount": -146.2, "currency": "GBP", "merchant": "PayPal"}, {"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-06", "description": "Adobe CC", "amount": -687.09, "currency": "GBP", "merchant": "Adobe"}, {"date": "2025-06-06", "description": "Zoom Subscription", "amount": -1380.44, "currency": "GBP", "merchant": "Zoom"}, {"date": "2025-06-07", "description": "Adobe CC", "amount": 214.51, "currency": "GBP", "merchant": "Adobe"}, {"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP"}, {"date": "2025-06-07", "description": "Costa Coffee", "amount": -1156.58, "currency": "GBP", "merchant": "Costa Coffee"}, {"date": "2025-06-07", "description": "TFL Travel", "amount": -1470.87, "currency": "GBP", "merchant": "TFL"}, {"date": "2025-06-08", "description": "HMRC Payment", "amount": -386.26, "currency": "GBP", "merchant": "HMRC"}, {"date": "2025-06-09", "description": "Adobe CC", "amount": -123.63, "currency": "GBP", "merchant": "Adobe"}, {"date": "2025-06-09", "description": "Github", "amount": -888.7, "currency": "GBP", "merchant": "Github"}, {"date": "2025-06-09", "description": "Github", "amount": -1099.51, "currency": "GBP", "merchant": "Github"}, {"date": "2025-06-09", "description": "PayPal Fee", "amount": 140.94, "currency": "GBP", "merchant": "PayPal"}, {"date": "2025-06-10", "description": "Google Ads", "amount": -919.83, "currency": "GBP", "merchant": "Google"}, {"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP"}, {"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": -598.34, "currency": "GBP"}, {"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": -120.37, "currency": "GBP"}, {"date": "2025-06-14", "description": "Costa Coffee", "amount": -957.21, "currency": "GBP", "merchant": "Costa Coffee"}, {"date": "2025-06-14", "description": "Stripe Payout", "amount": 165.97, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-16", "description": "TransferWise", "amount": 160.48, "currency": "GBP", "merchant": "TransferWise"}, {"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-18", "description": "Amazon Web Services", "amount": -1155.33, "currency": "GBP", "merchant": "Amazon Web Services"}, {"date": "2025-06-18", "description": "Late Fee", "amount": -1495.34, "currency": "GBP"}, {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 122.51, "currency": "GBP", "merchant": "Upwork Ltd"}, {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork Ltd"}, {"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": -1013.75, "currency": "GBP"}, {"date": "2025-06-19", "description": "TFL Travel", "amount": -663.95, "currency": "GBP", "merchant": "TFL"}, {"date": "2025-06-20", "description": "Costa Coffee", "amount": -1089.18, "currency": "GBP", "merchant": "Costa Coffee"}, {"date": "2025-06-22", "description": "Google Ads", "amount": -221.47, "currency": "GBP", "merchant": "Google"}, {"date": "2025-06-22", "description": "Google Ads", "amount": -392.83, "currency": "GBP", "merchant": "Google"}, {"date": "2025-06-23", "description": "PayPal Fee", "amount": -370.99, "currency": "GBP", "merchant": "PayPal"}, {"date": "2025-06-24", "description": "Google Ads", "amount": -652.07, "currency": "GBP", "merchant": "Google"}, {"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-25", "description": "Google Ads", "amount": -133.65, "currency": "GBP", "merchant": "Google"}, {"date": "2025-06-25", "description": "PayPal Fee", "amount": -42.0, "currency": "GBP", "merchant": "PayPal"}, {"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"}, {"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": -616.07, "currency": "GBP"}, {"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"}, {"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork Ltd"}, {"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"}, {"date": "2025-06-29", "description": "Costa Coffee", "amount": -587.33, "currency": "GBP", "merchant": "Costa Coffee"}, {"date": "2025-06-29", "description": "TransferWise", "amount":
2025-08-15 12:08:08,487 - app.services.bedrock_service - INFO - Parsing transaction extraction response: [{"date": "2025-06-01", "description": "Adobe CC", "amount": -1253.63, "currency": "GBP", "merchant": "Adobe"}, {"date": "2025-06-01", "description": "Amazon Web Services", "amount": -494.93, "currency": "GBP", "merchant": "Amazon Web Services"}, {"date": "2025-06-02", "description": "PayPal Fee", "amount": -146.2, "currency": "GBP", "merchant": "PayPal"}, {"date": "2025-06-02", "description": "Stripe Payout", "amount": 281.48, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-06", "description": "Adobe CC", "amount": -687.09, "currency": "GBP", "merchant": "Adobe"}, {"date": "2025-06-06", "description": "Zoom Subscription", "amount": -1380.44, "currency": "GBP", "merchant": "Zoom"}, {"date": "2025-06-07", "description": "Adobe CC", "amount": 214.51, "currency": "GBP", "merchant": "Adobe"}, {"date": "2025-06-07", "description": "Client Refund", "amount": 1003.31, "currency": "GBP"}, {"date": "2025-06-07", "description": "Costa Coffee", "amount": -1156.58, "currency": "GBP", "merchant": "Costa Coffee"}, {"date": "2025-06-07", "description": "TFL Travel", "amount": -1470.87, "currency": "GBP", "merchant": "TFL"}, {"date": "2025-06-08", "description": "HMRC Payment", "amount": -386.26, "currency": "GBP", "merchant": "HMRC"}, {"date": "2025-06-09", "description": "Adobe CC", "amount": -123.63, "currency": "GBP", "merchant": "Adobe"}, {"date": "2025-06-09", "description": "Github", "amount": -888.7, "currency": "GBP", "merchant": "Github"}, {"date": "2025-06-09", "description": "Github", "amount": -1099.51, "currency": "GBP", "merchant": "Github"}, {"date": "2025-06-09", "description": "PayPal Fee", "amount": 140.94, "currency": "GBP", "merchant": "PayPal"}, {"date": "2025-06-10", "description": "Google Ads", "amount": -919.83, "currency": "GBP", "merchant": "Google"}, {"date": "2025-06-10", "description": "Stripe Payout", "amount": 1377.52, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-12", "description": "Freelancer Income", "amount": 937.34, "currency": "GBP"}, {"date": "2025-06-13", "description": "Account Maintenance Fee", "amount": -598.34, "currency": "GBP"}, {"date": "2025-06-14", "description": "Account Maintenance Fee", "amount": -120.37, "currency": "GBP"}, {"date": "2025-06-14", "description": "Costa Coffee", "amount": -957.21, "currency": "GBP", "merchant": "Costa Coffee"}, {"date": "2025-06-14", "description": "Stripe Payout", "amount": 165.97, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-16", "description": "TransferWise", "amount": 160.48, "currency": "GBP", "merchant": "TransferWise"}, {"date": "2025-06-17", "description": "Stripe Payout", "amount": 1325.16, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-18", "description": "Amazon Web Services", "amount": -1155.33, "currency": "GBP", "merchant": "Amazon Web Services"}, {"date": "2025-06-18", "description": "Late Fee", "amount": -1495.34, "currency": "GBP"}, {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 122.51, "currency": "GBP", "merchant": "Upwork Ltd"}, {"date": "2025-06-18", "description": "Upwork Ltd Payment", "amount": 1016.92, "currency": "GBP", "merchant": "Upwork Ltd"}, {"date": "2025-06-19", "description": "Account Maintenance Fee", "amount": -1013.75, "currency": "GBP"}, {"date": "2025-06-19", "description": "TFL Travel", "amount": -663.95, "currency": "GBP", "merchant": "TFL"}, {"date": "2025-06-20", "description": "Costa Coffee", "amount": -1089.18, "currency": "GBP", "merchant": "Costa Coffee"}, {"date": "2025-06-22", "description": "Google Ads", "amount": -221.47, "currency": "GBP", "merchant": "Google"}, {"date": "2025-06-22", "description": "Google Ads", "amount": -392.83, "currency": "GBP", "merchant": "Google"}, {"date": "2025-06-23", "description": "PayPal Fee", "amount": -370.99, "currency": "GBP", "merchant": "PayPal"}, {"date": "2025-06-24", "description": "Google Ads", "amount": -652.07, "currency": "GBP", "merchant": "Google"}, {"date": "2025-06-24", "description": "Stripe Payout", "amount": 401.21, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-24", "description": "Stripe Payout", "amount": 471.83, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-25", "description": "Google Ads", "amount": -133.65, "currency": "GBP", "merchant": "Google"}, {"date": "2025-06-25", "description": "PayPal Fee", "amount": -42.0, "currency": "GBP", "merchant": "PayPal"}, {"date": "2025-06-25", "description": "Stripe Payout", "amount": 619.82, "currency": "GBP", "merchant": "Stripe"}, {"date": "2025-06-25", "description": "TransferWise", "amount": 1061.66, "currency": "GBP", "merchant": "TransferWise"}, {"date": "2025-06-26", "description": "Account Maintenance Fee", "amount": -616.07, "currency": "GBP"}, {"date": "2025-06-26", "description": "TransferWise", "amount": 257.68, "currency": "GBP", "merchant": "TransferWise"}, {"date": "2025-06-26", "description": "Upwork Ltd Payment", "amount": 266.17, "currency": "GBP", "merchant": "Upwork Ltd"}, {"date": "2025-06-28", "description": "TransferWise", "amount": 394.26, "currency": "GBP", "merchant": "TransferWise"}, {"date": "2025-06-29", "description": "Costa Coffee", "amount": -587.33, "currency": "GBP", "merchant": "Costa Coffee"}, {"date": "2025-06-29", "description": "TransferWise", "amount":
2025-08-15 12:08:08,488 - app.services.bedrock_service - WARNING - Strategy 2 failed - JSON decode error: Extra data: line 1 column 110 (char 109)
2025-08-15 12:08:08,489 - app.services.bedrock_service - INFO - Strategy 3 successful - Manually extracted 1 transactions
2025-08-15 12:08:08,489 - app.services.bedrock_service - INFO - Final validated transactions: [
  {
    "date": "2025-06-01",
    "description": "[{date:  description: Adobe CC amount: -1253.63, currency: GBP merchant: Adobe}, {date:  description: Amazon Web Services amount: -494.93, currency: GBP merchant: Amazon Web Services}, {date: -06-02 description: PayPal Fee amount: -146.2, currency: GBP merchant: PayPal}, {date: -06-02 description: Stripe Payout amount: 281.48, currency: GBP merchant: Stripe}, {date: -06-06 description: Adobe CC amount: -687.09, currency: GBP merchant: Adobe}, {date: -06-06 description: Zoom Subscription amount: -1380.44, currency: GBP merchant: Zoom}, {date: -06-07 description: Adobe CC amount: 214.51, currency: GBP merchant: Adobe}, {date: -06-07 description: Client Refund amount: 1003.31, currency: GBP}, {date: -06-07 description: Costa Coffee amount: -1156.58, currency: GBP merchant: Costa Coffee}, {date: -06-07 description: TFL Travel amount: -1470.87, currency: GBP merchant: TFL}, {date: -06-08 description: HMRC Payment amount: -386.26, currency: GBP merchant: HMRC}, {date: -06-09 description: Adobe CC amount: -123.63, currency: GBP merchant: Adobe}, {date: -06-09 description: Github amount: -888.7, currency: GBP merchant: Github}, {date: -06-09 description: Github amount: -1099.51, currency: GBP merchant: Github}, {date: -06-09 description: PayPal Fee amount: 140.94, currency: GBP merchant: PayPal}, {date: -06-10 description: Google Ads amount: -919.83, currency: GBP merchant: Google}, {date: -06-10 description: Stripe Payout amount: 1377.52, currency: GBP merchant: Stripe}, {date: -06-12 description: Freelancer Income amount: 937.34, currency: GBP}, {date: -06-13 description: Account Maintenance Fee amount: -598.34, currency: GBP}, {date: -06-14 description: Account Maintenance Fee amount: -120.37, currency: GBP}, {date: -06-14 description: Costa Coffee amount: -957.21, currency: GBP merchant: Costa Coffee}, {date: -06-14 description: Stripe Payout amount: 165.97, currency: GBP merchant: Stripe}, {date: -06-16 description: TransferWise amount: 160.48, currency: GBP merchant: TransferWise}, {date: -06-17 description: Stripe Payout amount: 1325.16, currency: GBP merchant: Stripe}, {date: -06-18 description: Amazon Web Services amount: -1155.33, currency: GBP merchant: Amazon Web Services}, {date: -06-18 description: Late Fee amount: -1495.34, currency: GBP}, {date: -06-18 description: Upwork Ltd Payment amount: 122.51, currency: GBP merchant: Upwork Ltd}, {date: -06-18 description: Upwork Ltd Payment amount: 1016.92, currency: GBP merchant: Upwork Ltd}, {date: -06-19 description: Account Maintenance Fee amount: -1013.75, currency: GBP}, {date: -06-19 description: TFL Travel amount: -663.95, currency: GBP merchant: TFL}, {date: -06-20 description: Costa Coffee amount: -1089.18, currency: GBP merchant: Costa Coffee}, {date: -06-22 description: Google Ads amount: -221.47, currency: GBP merchant: Google}, {date: -06-22 description: Google Ads amount: -392.83, currency: GBP merchant: Google}, {date: -06-23 description: PayPal Fee amount: -370.99, currency: GBP merchant: PayPal}, {date: -06-24 description: Google Ads amount: -652.07, currency: GBP merchant: Google}, {date: -06-24 description: Stripe Payout amount: 401.21, currency: GBP merchant: Stripe}, {date: -06-24 description: Stripe Payout amount: 471.83, currency: GBP merchant: Stripe}, {date: -06-25 description: Google Ads amount: -133.65, currency: GBP merchant: Google}, {date: -06-25 description: PayPal Fee amount: -42.0, currency: GBP merchant: PayPal}, {date: -06-25 description: Stripe Payout amount: 619.82, currency: GBP merchant: Stripe}, {date: -06-25 description: TransferWise amount: 1061.66, currency: GBP merchant: TransferWise}, {date: -06-26 description: Account Maintenance Fee amount: -616.07, currency: GBP}, {date: -06-26 description: TransferWise amount: 257.68, currency: GBP merchant: TransferWise}, {date: -06-26 description: Upwork Ltd Payment amount: 266.17, currency: GBP merchant: Upwork Ltd}, {date: -06-28 description: TransferWise amount: 394.26, currency: GBP merchant: TransferWise}, {date: -06-29 description: Costa Coffee amount: -587.33, currency: GBP merchant: Costa Coffee}, {date: -06-29 description: TransferWise amount:",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  }
]
2025-08-15 12:08:08,489 - app.services.bedrock_service - INFO - [extract_120733196] PDF extraction completed successfully - Transactions found: 1, Time: 35.293s
2025-08-15 12:08:08,489 - app.services.bedrock_service - INFO - [extract_120733196] Parsed transactions: [
  {
    "date": "2025-06-01",
    "description": "[{date:  description: Adobe CC amount: -1253.63, currency: GBP merchant: Adobe}, {date:  description: Amazon Web Services amount: -494.93, currency: GBP merchant: Amazon Web Services}, {date: -06-02 description: PayPal Fee amount: -146.2, currency: GBP merchant: PayPal}, {date: -06-02 description: Stripe Payout amount: 281.48, currency: GBP merchant: Stripe}, {date: -06-06 description: Adobe CC amount: -687.09, currency: GBP merchant: Adobe}, {date: -06-06 description: Zoom Subscription amount: -1380.44, currency: GBP merchant: Zoom}, {date: -06-07 description: Adobe CC amount: 214.51, currency: GBP merchant: Adobe}, {date: -06-07 description: Client Refund amount: 1003.31, currency: GBP}, {date: -06-07 description: Costa Coffee amount: -1156.58, currency: GBP merchant: Costa Coffee}, {date: -06-07 description: TFL Travel amount: -1470.87, currency: GBP merchant: TFL}, {date: -06-08 description: HMRC Payment amount: -386.26, currency: GBP merchant: HMRC}, {date: -06-09 description: Adobe CC amount: -123.63, currency: GBP merchant: Adobe}, {date: -06-09 description: Github amount: -888.7, currency: GBP merchant: Github}, {date: -06-09 description: Github amount: -1099.51, currency: GBP merchant: Github}, {date: -06-09 description: PayPal Fee amount: 140.94, currency: GBP merchant: PayPal}, {date: -06-10 description: Google Ads amount: -919.83, currency: GBP merchant: Google}, {date: -06-10 description: Stripe Payout amount: 1377.52, currency: GBP merchant: Stripe}, {date: -06-12 description: Freelancer Income amount: 937.34, currency: GBP}, {date: -06-13 description: Account Maintenance Fee amount: -598.34, currency: GBP}, {date: -06-14 description: Account Maintenance Fee amount: -120.37, currency: GBP}, {date: -06-14 description: Costa Coffee amount: -957.21, currency: GBP merchant: Costa Coffee}, {date: -06-14 description: Stripe Payout amount: 165.97, currency: GBP merchant: Stripe}, {date: -06-16 description: TransferWise amount: 160.48, currency: GBP merchant: TransferWise}, {date: -06-17 description: Stripe Payout amount: 1325.16, currency: GBP merchant: Stripe}, {date: -06-18 description: Amazon Web Services amount: -1155.33, currency: GBP merchant: Amazon Web Services}, {date: -06-18 description: Late Fee amount: -1495.34, currency: GBP}, {date: -06-18 description: Upwork Ltd Payment amount: 122.51, currency: GBP merchant: Upwork Ltd}, {date: -06-18 description: Upwork Ltd Payment amount: 1016.92, currency: GBP merchant: Upwork Ltd}, {date: -06-19 description: Account Maintenance Fee amount: -1013.75, currency: GBP}, {date: -06-19 description: TFL Travel amount: -663.95, currency: GBP merchant: TFL}, {date: -06-20 description: Costa Coffee amount: -1089.18, currency: GBP merchant: Costa Coffee}, {date: -06-22 description: Google Ads amount: -221.47, currency: GBP merchant: Google}, {date: -06-22 description: Google Ads amount: -392.83, currency: GBP merchant: Google}, {date: -06-23 description: PayPal Fee amount: -370.99, currency: GBP merchant: PayPal}, {date: -06-24 description: Google Ads amount: -652.07, currency: GBP merchant: Google}, {date: -06-24 description: Stripe Payout amount: 401.21, currency: GBP merchant: Stripe}, {date: -06-24 description: Stripe Payout amount: 471.83, currency: GBP merchant: Stripe}, {date: -06-25 description: Google Ads amount: -133.65, currency: GBP merchant: Google}, {date: -06-25 description: PayPal Fee amount: -42.0, currency: GBP merchant: PayPal}, {date: -06-25 description: Stripe Payout amount: 619.82, currency: GBP merchant: Stripe}, {date: -06-25 description: TransferWise amount: 1061.66, currency: GBP merchant: TransferWise}, {date: -06-26 description: Account Maintenance Fee amount: -616.07, currency: GBP}, {date: -06-26 description: TransferWise amount: 257.68, currency: GBP merchant: TransferWise}, {date: -06-26 description: Upwork Ltd Payment amount: 266.17, currency: GBP merchant: Upwork Ltd}, {date: -06-28 description: TransferWise amount: 394.26, currency: GBP merchant: TransferWise}, {date: -06-29 description: Costa Coffee amount: -587.33, currency: GBP merchant: Costa Coffee}, {date: -06-29 description: TransferWise amount:",
    "amount": 2025.0,
    "currency": "USD",
    "merchant": ""
  }
]
2025-08-15 12:08:08,490 - app.services.transaction_service - INFO - Transactions extracted from PDF: 1 found
2025-08-15 12:08:08,490 - app.services.transaction_service - INFO - Processing extracted transactions
2025-08-15 12:08:08,490 - app.services.bedrock_service - INFO - [classify_120808490] Starting transaction classification - Data: {'date': '2025-06-01', 'description': '[{date:  description: Adobe CC amount: -1253.63, currency: GBP merchant: Adobe}, {date:  description: Amazon Web Services amount: -494.93, currency: GBP merchant: Amazon Web Services}, {date: -06-02 description: PayPal Fee amount: -146.2, currency: GBP merchant: PayPal}, {date: -06-02 description: Stripe Payout amount: 281.48, currency: GBP merchant: Stripe}, {date: -06-06 description: Adobe CC amount: -687.09, currency: GBP merchant: Adobe}, {date: -06-06 description: Zoom Subscription amount: -1380.44, currency: GBP merchant: Zoom}, {date: -06-07 description: Adobe CC amount: 214.51, currency: GBP merchant: Adobe}, {date: -06-07 description: Client Refund amount: 1003.31, currency: GBP}, {date: -06-07 description: Costa Coffee amount: -1156.58, currency: GBP merchant: Costa Coffee}, {date: -06-07 description: TFL Travel amount: -1470.87, currency: GBP merchant: TFL}, {date: -06-08 description: HMRC Payment amount: -386.26, currency: GBP merchant: HMRC}, {date: -06-09 description: Adobe CC amount: -123.63, currency: GBP merchant: Adobe}, {date: -06-09 description: Github amount: -888.7, currency: GBP merchant: Github}, {date: -06-09 description: Github amount: -1099.51, currency: GBP merchant: Github}, {date: -06-09 description: PayPal Fee amount: 140.94, currency: GBP merchant: PayPal}, {date: -06-10 description: Google Ads amount: -919.83, currency: GBP merchant: Google}, {date: -06-10 description: Stripe Payout amount: 1377.52, currency: GBP merchant: Stripe}, {date: -06-12 description: Freelancer Income amount: 937.34, currency: GBP}, {date: -06-13 description: Account Maintenance Fee amount: -598.34, currency: GBP}, {date: -06-14 description: Account Maintenance Fee amount: -120.37, currency: GBP}, {date: -06-14 description: Costa Coffee amount: -957.21, currency: GBP merchant: Costa Coffee}, {date: -06-14 description: Stripe Payout amount: 165.97, currency: GBP merchant: Stripe}, {date: -06-16 description: TransferWise amount: 160.48, currency: GBP merchant: TransferWise}, {date: -06-17 description: Stripe Payout amount: 1325.16, currency: GBP merchant: Stripe}, {date: -06-18 description: Amazon Web Services amount: -1155.33, currency: GBP merchant: Amazon Web Services}, {date: -06-18 description: Late Fee amount: -1495.34, currency: GBP}, {date: -06-18 description: Upwork Ltd Payment amount: 122.51, currency: GBP merchant: Upwork Ltd}, {date: -06-18 description: Upwork Ltd Payment amount: 1016.92, currency: GBP merchant: Upwork Ltd}, {date: -06-19 description: Account Maintenance Fee amount: -1013.75, currency: GBP}, {date: -06-19 description: TFL Travel amount: -663.95, currency: GBP merchant: TFL}, {date: -06-20 description: Costa Coffee amount: -1089.18, currency: GBP merchant: Costa Coffee}, {date: -06-22 description: Google Ads amount: -221.47, currency: GBP merchant: Google}, {date: -06-22 description: Google Ads amount: -392.83, currency: GBP merchant: Google}, {date: -06-23 description: PayPal Fee amount: -370.99, currency: GBP merchant: PayPal}, {date: -06-24 description: Google Ads amount: -652.07, currency: GBP merchant: Google}, {date: -06-24 description: Stripe Payout amount: 401.21, currency: GBP merchant: Stripe}, {date: -06-24 description: Stripe Payout amount: 471.83, currency: GBP merchant: Stripe}, {date: -06-25 description: Google Ads amount: -133.65, currency: GBP merchant: Google}, {date: -06-25 description: PayPal Fee amount: -42.0, currency: GBP merchant: PayPal}, {date: -06-25 description: Stripe Payout amount: 619.82, currency: GBP merchant: Stripe}, {date: -06-25 description: TransferWise amount: 1061.66, currency: GBP merchant: TransferWise}, {date: -06-26 description: Account Maintenance Fee amount: -616.07, currency: GBP}, {date: -06-26 description: TransferWise amount: 257.68, currency: GBP merchant: TransferWise}, {date: -06-26 description: Upwork Ltd Payment amount: 266.17, currency: GBP merchant: Upwork Ltd}, {date: -06-28 description: TransferWise amount: 394.26, currency: GBP merchant: TransferWise}, {date: -06-29 description: Costa Coffee amount: -587.33, currency: GBP merchant: Costa Coffee}, {date: -06-29 description: TransferWise amount:', 'amount': 2025.0, 'currency': 'USD', 'merchant': ''}
2025-08-15 12:08:10,423 - app.services.bedrock_service - INFO - [classify_120808490] Raw Bedrock text response:
{"classification": "business", "confidence": 0.9, "reasoning": "Most transactions are related to freelancing work, software subscriptions, payment processing fees, and client payments.", "category": "professional_services"}
2025-08-15 12:08:10,424 - app.services.bedrock_service - INFO - Strategy 1 successful - Parsed JSON: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Most transactions are related to freelancing work, software subscriptions, payment processing fees, and client payments.', 'category': 'professional_services'}
2025-08-15 12:08:10,424 - app.services.bedrock_service - INFO - Final parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Most transactions are related to freelancing work, software subscriptions, payment processing fees, and client payments.",
  "category": "professional_services"
}
2025-08-15 12:08:10,425 - app.services.bedrock_service - INFO - [classify_120808490] Classification completed successfully - Result: {'classification': 'business', 'confidence': 0.9, 'reasoning': 'Most transactions are related to freelancing work, software subscriptions, payment processing fees, and client payments.', 'category': 'professional_services'}, Time: 1.934s
2025-08-15 12:08:10,426 - app.services.bedrock_service - INFO - [classify_120808490] Parsed result: {
  "classification": "business",
  "confidence": 0.9,
  "reasoning": "Most transactions are related to freelancing work, software subscriptions, payment processing fees, and client payments.",
  "category": "professional_services"
}
2025-08-15 12:08:10,465 - app.services.transaction_service - INFO - PDF processing completed successfully - Processed: 1, Errors: 0, Time: 37.28s
2025-08-15 12:08:10,465 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] PDF processing completed - Result: {'processed_count': 1, 'transactions': [{'id': 'ea06b3fc-a0d0-42e2-81e9-0043912cd476', 'date': '2025-06-01', 'description': '[{date:  description: Adobe CC amount: -1253.63, currency: GBP merchant: Adobe}, {date:  description: Amazon Web Services amount: -494.93, currency: GBP merchant: Amazon Web Services}, {date: -06-02 description: PayPal Fee amount: -146.2, currency: GBP merchant: PayPal}, {date: -06-02 description: Stripe Payout amount: 281.48, currency: GBP merchant: Stripe}, {date: -06-06 description: Adobe CC amount: -687.09, currency: GBP merchant: Adobe}, {date: -06-06 description: Zoom Subscription amount: -1380.44, currency: GBP merchant: Zoom}, {date: -06-07 description: Adobe CC amount: 214.51, currency: GBP merchant: Adobe}, {date: -06-07 description: Client Refund amount: 1003.31, currency: GBP}, {date: -06-07 description: Costa Coffee amount: -1156.58, currency: GBP merchant: Costa Coffee}, {date: -06-07 description: TFL Travel amount: -1470.87, currency: GBP merchant: TFL}, {date: -06-08 description: HMRC Payment amount: -386.26, currency: GBP merchant: HMRC}, {date: -06-09 description: Adobe CC amount: -123.63, currency: GBP merchant: Adobe}, {date: -06-09 description: Github amount: -888.7, currency: GBP merchant: Github}, {date: -06-09 description: Github amount: -1099.51, currency: GBP merchant: Github}, {date: -06-09 description: PayPal Fee amount: 140.94, currency: GBP merchant: PayPal}, {date: -06-10 description: Google Ads amount: -919.83, currency: GBP merchant: Google}, {date: -06-10 description: Stripe Payout amount: 1377.52, currency: GBP merchant: Stripe}, {date: -06-12 description: Freelancer Income amount: 937.34, currency: GBP}, {date: -06-13 description: Account Maintenance Fee amount: -598.34, currency: GBP}, {date: -06-14 description: Account Maintenance Fee amount: -120.37, currency: GBP}, {date: -06-14 description: Costa Coffee amount: -957.21, currency: GBP merchant: Costa Coffee}, {date: -06-14 description: Stripe Payout amount: 165.97, currency: GBP merchant: Stripe}, {date: -06-16 description: TransferWise amount: 160.48, currency: GBP merchant: TransferWise}, {date: -06-17 description: Stripe Payout amount: 1325.16, currency: GBP merchant: Stripe}, {date: -06-18 description: Amazon Web Services amount: -1155.33, currency: GBP merchant: Amazon Web Services}, {date: -06-18 description: Late Fee amount: -1495.34, currency: GBP}, {date: -06-18 description: Upwork Ltd Payment amount: 122.51, currency: GBP merchant: Upwork Ltd}, {date: -06-18 description: Upwork Ltd Payment amount: 1016.92, currency: GBP merchant: Upwork Ltd}, {date: -06-19 description: Account Maintenance Fee amount: -1013.75, currency: GBP}, {date: -06-19 description: TFL Travel amount: -663.95, currency: GBP merchant: TFL}, {date: -06-20 description: Costa Coffee amount: -1089.18, currency: GBP merchant: Costa Coffee}, {date: -06-22 description: Google Ads amount: -221.47, currency: GBP merchant: Google}, {date: -06-22 description: Google Ads amount: -392.83, currency: GBP merchant: Google}, {date: -06-23 description: PayPal Fee amount: -370.99, currency: GBP merchant: PayPal}, {date: -06-24 description: Google Ads amount: -652.07, currency: GBP merchant: Google}, {date: -06-24 description: Stripe Payout amount: 401.21, currency: GBP merchant: Stripe}, {date: -06-24 description: Stripe Payout amount: 471.83, currency: GBP merchant: Stripe}, {date: -06-25 description: Google Ads amount: -133.65, currency: GBP merchant: Google}, {date: -06-25 description: PayPal Fee amount: -42.0, currency: GBP merchant: PayPal}, {date: -06-25 description: Stripe Payout amount: 619.82, currency: GBP merchant: Stripe}, {date: -06-25 description: TransferWise amount: 1061.66, currency: GBP merchant: TransferWise}, {date: -06-26 description: Account Maintenance Fee amount: -616.07, currency: GBP}, {date: -06-26 description: TransferWise amount: 257.68, currency: GBP merchant: TransferWise}, {date: -06-26 description: Upwork Ltd Payment amount: 266.17, currency: GBP merchant: Upwork Ltd}, {date: -06-28 description: TransferWise amount: 394.26, currency: GBP merchant: TransferWise}, {date: -06-29 description: Costa Coffee amount: -587.33, currency: GBP merchant: Costa Coffee}, {date: -06-29 description: TransferWise amount:', 'amount': 2025.0, 'classification': 'business', 'confidence': 0.9, 'category': 'professional_services'}], 'errors': [], 'processing_time': 37.278815}
2025-08-15 12:08:10,465 - app.api.transactions - INFO - [upload_20250815_120733_8b43cd5c] File processing completed successfully - Processing time: 37.28s, Transactions processed: 1
2025-08-15 12:09:24,258 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 12:09:25,349 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 12:09:25,368 - app.main - INFO - Database tables created/verified
2025-08-15 12:09:25,368 - app.main - INFO - CORS middleware configured
2025-08-15 12:09:25,372 - app.main - INFO - API routers included
2025-08-15 12:09:25,373 - app.main - INFO - 🚀 Application starting up...
2025-08-15 12:09:25,373 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 12:09:25,373 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 12:09:25,373 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 12:09:25,374 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 12:09:25,374 - app.main - INFO - ✅ Application startup complete
2025-08-15 12:09:50,327 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 12:09:51,225 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 12:09:51,237 - app.main - INFO - Database tables created/verified
2025-08-15 12:09:51,237 - app.main - INFO - CORS middleware configured
2025-08-15 12:09:51,241 - app.main - INFO - API routers included
2025-08-15 12:09:51,242 - app.main - INFO - 🚀 Application starting up...
2025-08-15 12:09:51,242 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 12:09:51,242 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 12:09:51,243 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 12:09:51,243 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 12:09:51,243 - app.main - INFO - ✅ Application startup complete
2025-08-15 12:20:50,244 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 12:20:51,406 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 12:20:51,417 - app.main - INFO - Database tables created/verified
2025-08-15 12:20:51,418 - app.main - INFO - CORS middleware configured
2025-08-15 12:20:51,421 - app.main - INFO - API routers included
2025-08-15 12:20:51,422 - app.main - INFO - 🚀 Application starting up...
2025-08-15 12:20:51,422 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 12:20:51,422 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 12:20:51,423 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 12:20:51,423 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 12:20:51,423 - app.main - INFO - ✅ Application startup complete
2025-08-15 12:21:32,326 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 12:21:33,242 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 12:21:33,262 - app.main - INFO - Database tables created/verified
2025-08-15 12:21:33,262 - app.main - INFO - CORS middleware configured
2025-08-15 12:21:33,268 - app.main - INFO - API routers included
2025-08-15 12:21:33,270 - app.main - INFO - 🚀 Application starting up...
2025-08-15 12:21:33,270 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 12:21:33,270 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 12:21:33,270 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 12:21:33,271 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 12:21:33,271 - app.main - INFO - ✅ Application startup complete
2025-08-15 12:21:46,235 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 12:21:47,256 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 12:21:47,283 - app.main - INFO - Database tables created/verified
2025-08-15 12:21:47,284 - app.main - INFO - CORS middleware configured
2025-08-15 12:21:47,292 - app.main - INFO - API routers included
2025-08-15 12:21:47,293 - app.main - INFO - 🚀 Application starting up...
2025-08-15 12:21:47,294 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 12:21:47,294 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 12:21:47,294 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 12:21:47,294 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 12:21:47,295 - app.main - INFO - ✅ Application startup complete
2025-08-15 12:22:03,307 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 12:22:04,148 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 12:22:04,162 - app.main - INFO - Database tables created/verified
2025-08-15 12:22:04,163 - app.main - INFO - CORS middleware configured
2025-08-15 12:22:04,167 - app.main - INFO - API routers included
2025-08-15 12:22:04,167 - app.main - INFO - 🚀 Application starting up...
2025-08-15 12:22:04,167 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 12:22:04,168 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 12:22:04,168 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 12:22:04,168 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 12:22:04,168 - app.main - INFO - ✅ Application startup complete
2025-08-15 12:22:24,190 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 12:22:24,925 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 12:22:24,934 - app.main - INFO - Database tables created/verified
2025-08-15 12:22:24,934 - app.main - INFO - CORS middleware configured
2025-08-15 12:22:24,937 - app.main - INFO - API routers included
2025-08-15 12:22:24,938 - app.main - INFO - 🚀 Application starting up...
2025-08-15 12:22:24,938 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 12:22:24,938 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 12:22:24,938 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 12:22:24,939 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 12:22:24,939 - app.main - INFO - ✅ Application startup complete
2025-08-15 12:54:15,009 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 12:54:16,207 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 12:54:16,224 - app.main - INFO - Database tables created/verified
2025-08-15 12:54:16,225 - app.main - INFO - CORS middleware configured
2025-08-15 12:54:16,228 - app.main - INFO - API routers included
2025-08-15 12:54:16,229 - app.main - INFO - 🚀 Application starting up...
2025-08-15 12:54:16,229 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 12:54:16,229 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 12:54:16,229 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 12:54:16,229 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 12:54:16,230 - app.main - INFO - ✅ Application startup complete
2025-08-15 12:59:07,145 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 12:59:08,038 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 12:59:08,050 - app.main - INFO - Database tables created/verified
2025-08-15 12:59:08,050 - app.main - INFO - CORS middleware configured
2025-08-15 12:59:08,053 - app.main - INFO - API routers included
2025-08-15 12:59:08,054 - app.main - INFO - 🚀 Application starting up...
2025-08-15 12:59:08,054 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 12:59:08,054 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 12:59:08,055 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 12:59:08,055 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 12:59:08,055 - app.main - INFO - ✅ Application startup complete
2025-08-15 12:59:12,111 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 12:59:12,832 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 12:59:12,844 - app.main - INFO - Database tables created/verified
2025-08-15 12:59:12,844 - app.main - INFO - CORS middleware configured
2025-08-15 12:59:12,847 - app.main - INFO - API routers included
2025-08-15 12:59:12,848 - app.main - INFO - 🚀 Application starting up...
2025-08-15 12:59:12,848 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 12:59:12,848 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 12:59:12,848 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 12:59:12,848 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 12:59:12,848 - app.main - INFO - ✅ Application startup complete
2025-08-15 13:11:09,368 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 13:11:10,361 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 13:11:10,383 - app.main - INFO - Database tables created/verified
2025-08-15 13:11:10,384 - app.main - INFO - CORS middleware configured
2025-08-15 13:11:10,388 - app.main - INFO - API routers included
2025-08-15 13:11:10,389 - app.main - INFO - 🚀 Application starting up...
2025-08-15 13:11:10,390 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 13:11:10,390 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 13:11:10,390 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 13:11:10,390 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 13:11:10,390 - app.main - INFO - ✅ Application startup complete
2025-08-15 13:11:33,256 - app.main - INFO - 🛑 Application shutting down...
2025-08-15 13:11:33,958 - app.main - INFO - Starting Freelancer Transaction Classifier API
2025-08-15 13:11:33,965 - app.main - INFO - Database tables created/verified
2025-08-15 13:11:33,965 - app.main - INFO - CORS middleware configured
2025-08-15 13:11:33,969 - app.main - INFO - API routers included
2025-08-15 13:11:33,969 - app.main - INFO - 🚀 Application starting up...
2025-08-15 13:11:33,969 - app.main - INFO - 📊 Database URL: postgresql://user:password@db:5432/freelancer_classifier
2025-08-15 13:11:33,970 - app.main - INFO - 🌐 Allowed origins: ['http://localhost:3000']
2025-08-15 13:11:33,970 - app.main - INFO - 📁 Max file size: 10485760 bytes
2025-08-15 13:11:33,970 - app.main - INFO - 📄 Allowed file types: ['.csv', '.pdf']
2025-08-15 13:11:33,970 - app.main - INFO - ✅ Application startup complete
